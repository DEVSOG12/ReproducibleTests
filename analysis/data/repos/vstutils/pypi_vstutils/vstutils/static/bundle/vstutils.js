"use strict";(self.webpackChunk_vstconsulting_vstutils=self.webpackChunk_vstconsulting_vstutils||[]).push([[454],{99100:function(e,t,n){const i=(0,n(59198).createUniqueIdGenerator)();t.Z={beforeCreate(){this.componentId=i()}}},50123:function(e,t,n){n.d(t,{O:function(){return i},b:function(){return s}}),n(21703),n(33948);class i{constructor(){this.components={}}add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(t||e.name&&"string"==typeof e.name))throw new Error("Can not register component: ".concat(e));this.components[t||e.name]=e}registerAll(e){for(let[t,n]of Object.entries(this.components)){if(e.options.components[t])throw new Error("Component ".concat(t," already registered"));e.component(t,n)}}}const s=new i},14412:function(e,t,n){n.r(t),n.d(t,{Breadcrumbs:function(){return b},ButtonsRow:function(){return y.Z},EntityView:function(){return w.Z},OperationButton:function(){return x.Z},Preloader:function(){return C.Z}});var i=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb"},e._l(e.items,(function(n,i){return t("li",{key:i,staticClass:"breadcrumb-item",class:{active:!n.link}},[n.link?[t("router-link",{attrs:{to:n.link}},[n.iconClasses?t("i",{class:n.iconClasses}):e._e(),e._v(" "),n.name?t("span",[e._v(e._s(n.name))]):e._e()])]:[n.iconClasses?t("i",{class:n.iconClasses}):e._e(),e._v(" "),n.name?t("span",[e._v(e._s(n.name))]):e._e()]],2)})),0)])};i._withStripped=!0;var s=(0,n(70538).defineComponent)({__name:"Breadcrumbs",props:{items:null},setup(e){return{__sfc:!0}}}),a=n(93379),r=n.n(a),o=n(7795),l=n.n(o),u=n(90569),d=n.n(u),c=n(3565),p=n.n(c),f=n(19216),h=n.n(f),m=n(44589),v=n.n(m),g=n(39021),_={};_.styleTagTransform=v(),_.setAttributes=p(),_.insert=d().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=h(),r()(g.Z,_),g.Z&&g.Z.locals&&g.Z.locals;var b=(0,n(51900).Z)(s,i,[],!1,null,"58498440",null).exports,y=n(66922),w=n(62995),x=n(95162),C=n(12752)},34952:function(e,t,n){n.r(t),n.d(t,{BaseViewMixin:function(){return R},BootstrapModal:function(){return P.Z},Card:function(){return g.Z},EmptyComponent:function(){return V},ErrorPage:function(){return B.Z},Popover:function(){return C.Z},TagsSelector:function(){return O.Z},common:function(){return a},items:function(){return r},list:function(){return i},page:function(){return m},widgets:function(){return s}});var i={};n.r(i),n.d(i,{AddChildModal:function(){return o.default},FiltersModal:function(){return l.default},ListTable:function(){return u.Z},ListTableRow:function(){return d.Z},ListViewComponent:function(){return c.Z},MultiActions:function(){return p.Z},Pagination:function(){return f.Z},SelectToggleButton:function(){return h.Z}});var s={};n.r(s),n.d(s,{ChartWidget:function(){return y},InstancesListWidget:function(){return F},SmallBoxWidget:function(){return T}});var a=n(14412),r=n(64723),o=n(41657),l=n(36446),u=n(33159),d=n(5459),c=n(51916),p=n(89451),f=n(9536),h=n(69165),m=n(47858),v=function(){var e=this,t=e._self._c;return t("Card",e._b({},"Card",e.$props,!1),[t("canvas",{ref:"canvas"})])};v._withStripped=!0,n(21703);var g=n(76118),_={name:"ChartWidget",components:{Card:g.Z},mixins:[g.Z],props:{type:{type:String,default:"line"},data:{type:Object,required:!0},options:{type:Object,default:()=>({})}},data(){return{chart:null}},created(){if(!window.Chart)throw new Error("Chart.js not found")},mounted(){this.chart=new window.Chart(this.$refs.canvas.getContext("2d"),{type:this.type,options:this.options,data:this.data})},beforeDestroy(){this.chart.destroy()}},b=n(51900),y=(0,b.Z)(_,v,[],!1,null,null,null).exports,w=function(){var e=this,t=e._self._c;return t("Card",e._b({attrs:{"card-body-classes":"p-0"}},"Card",e.$props,!1),[e.isEmpty?t("p",{staticClass:"m-3"},[e._v("\n        "+e._s(e.$t("List is empty"))+"\n    ")]):t("table",{staticClass:"table table-sm"},[t("thead",[t("tr",e._l(e.fieldsInstances,(function(n){return t("th",{key:n.name,class:e.tableColumnClasses(n)},[e._v("\n                    "+e._s(n.title)+"\n                    "),t("Popover",{attrs:{content:n.description}})],1)})),0)]),e._v(" "),t("tbody",e._l(e.instances,(function(e){return t("InstanceRow",{key:e.getPkValue(),attrs:{instance:e}})})),1)])])};w._withStripped=!0,n(57640),n(9924);var x=n(59198),C=n(34136);const S={functional:!0,props:{instance:{type:Object,required:!0}},render(e,t){let{props:n,parent:i}=t;const s=n.instance._getRepresentData();return e("tr",i.fieldsInstances.map((t=>e("td",{key:t.name,class:(0,x.tableColumnClasses)(t)},[e(t.component,{props:{type:"list",field:t,data:s}})]))))}};var k={components:{Card:g.Z,InstanceRow:S,Popover:C.Z},mixins:[g.Z],props:{fields:{type:Array,required:!0},instances:{type:Array,default:null}},data(){return{tableColumnClasses:x.tableColumnClasses}},computed:{isEmpty(){return!this.instances||0===this.instances.length},model(){var e;return null===(e=this.instances[0])||void 0===e?void 0:e.constructor},fieldsInstances(){return this.fields.map((e=>this.model.fields.get(e)))}}},F=(0,b.Z)(k,w,[],!1,null,null,null).exports,Z=function(e,t){return e("div",{staticClass:"small-box",class:t.props.boxVariantClass},[t.props.loading?e("div",{staticClass:"overlay dark"},[e("i",{staticClass:"fas fa-3x fa-sync-alt fa-spin"})]):t._e(),t._v(" "),e("div",{staticClass:"inner"},[e("h3",[t._v(t._s(t.props.value))]),t._v(" "),e("p",[t._v(t._s(t.parent.$tc(t.props.label,t.props.value)))])]),t._v(" "),t.props.iconClass?e("div",{staticClass:"icon"},[e("i",{class:t.props.iconClass})]):t._e(),t._v(" "),e("a",t._g({staticClass:"small-box-footer",style:t.listeners.click?{cursor:"pointer"}:{},attrs:{href:t.props.href}},t.listeners.click?{click:t.listeners.click}:{}),[t.props.href||t.listeners.click?[t._v("\n            "+t._s(t.parent.$t("More info"))+"\n            "),e("i",{staticClass:"fas fa-arrow-circle-right"})]:t._e(),t._v("\n         \n    ")],2)])};Z._withStripped=!0;var A={name:"SmallBoxWidget",props:{value:{type:[Number,String],default:0},label:{type:String,required:!0},boxVariantClass:{type:[String,Array,Object],default:"bg-info"},iconClass:{type:[String,Array,Object],default:null},href:{type:String,default:null},loading:{type:Boolean,default:!1}}},T=(0,b.Z)(A,Z,[],!0,null,null,null).exports,P=n(43223),E=n(70538),V=(0,E.defineComponent)({name:"EmptyComponent",render(){return(0,E.h)("span")}}),M=n(42950),I=n(66523);const R=(0,E.defineComponent)({props:I.n,setup(e){return{store:(0,M.No)()}},computed:{...(0,x.mapStoreState)(["loading","error","response","actions","sublinks","breadcrumbs","title"])},methods:{...(0,x.mapStoreActions)(["initLoading","setLoadingError","setLoadingSuccessful","fetchData"])}});var O=n(17780),B=n(93738)},64723:function(e,t,n){n.r(t),n.d(t,{ControlSidebar:function(){return z.Z},ControlSidebarButton:function(){return W.Z},HelpModal:function(){return x.B},Logo:function(){return D},MainFooter:function(){return w},Sidebar:function(){return G},SidebarItem:function(){return U},TopNavigation:function(){return E},convertXMenuToSidebar:function(){return R},hideSidebar:function(){return I},openSidebar:function(){return M}});var i=n(50123),s=function(){var e=this,t=e._self._c;return t("footer",{staticClass:"main-footer elevation-3 d-print-none"},[t("span",{staticClass:"whitespace"},[e._v(" ")]),e._v(" "),e.showBackButton?t("a",{staticClass:"btn-previous-page",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$root.goBack.apply(null,arguments)}}},[e._m(0)]):e._e(),e._v(" "),e.showTitle&&e.title?t("h1",{staticClass:"page-title",class:{"d-none d-sm-inline-block":e.hideTitleOnMobile}},[e._v("\n        "+e._s(e.title)+"\n    ")]):e._e(),e._v(" "),t("portal-target",{attrs:{name:"titleAppend"}}),e._v(" "),e.showBreadcrumbs&&e.breadcrumbs?t("Breadcrumbs",{directives:[{name:"show",rawName:"v-show",value:!e.$app.store.page.loading,expression:"!$app.store.page.loading"}],staticStyle:{"margin-left":"auto"},attrs:{items:e.breadcrumbs}}):e._e()],1)};s._withStripped=!0;var a={name:"MainFooter",components:{Breadcrumbs:n(14412).Breadcrumbs},props:{showBackButton:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0},hideTitleOnMobile:{type:Boolean,default:!0},showBreadcrumbs:{type:Boolean,default:!0}},computed:{title(){return this.$app.store.title},breadcrumbs(){return this.$app.store.breadcrumbs}}},r=n(93379),o=n.n(r),l=n(7795),u=n.n(l),d=n(90569),c=n.n(d),p=n(3565),f=n.n(p),h=n(19216),m=n.n(h),v=n(44589),g=n.n(v),_=n(47221),b={};b.styleTagTransform=g(),b.setAttributes=f(),b.insert=c().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=m(),o()(_.Z,b),_.Z&&_.Z.locals&&_.Z.locals;var y=n(51900),w=(0,y.Z)(a,s,[function(){var e=this._self._c;return e("strong",[e("i",{staticClass:"fas fa-chevron-left"})])}],!1,null,null,null).exports;i.b.add(w);var x=n(28445),C=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"main-header navbar navbar-expand"},[t("ul",{staticClass:"navbar-nav"},[t("li",{staticClass:"nav-item"},[t("a",{ref:"sidebarControl",staticClass:"nav-link",attrs:{"data-widget":"pushmenu",href:"#",role:"button"}},[t("i",{staticClass:"fas fa-bars"})])])]),e._v(" "),t("ul",{staticClass:"navbar-nav"},[t("li",{staticClass:"ml-2"},[t("portal-target",{attrs:{name:"topNavigation"}})],1)]),e._v(" "),t("ul",{staticClass:"navbar-nav ml-auto"},[e.is_authenticated?t("li",{staticClass:"nav-item dropdown"},[t("a",{staticClass:"nav-link",attrs:{"data-toggle":"dropdown",href:"#"}},[e.enable_gravatar?[t("img",{staticClass:"img-circle elevation-1 gravatar-img",attrs:{src:e.gravatar_img,alt:"User gravatar"},on:{error:function(t){return e.setDefaultGravatar(t.target)}}})]:[t("i",{staticClass:"fa fa-user mr-2 ico-data-default"})],e._v(" "),t("span",{staticClass:"text-data hidden-480"},[e._v("\n                    "+e._s(e.$u.capitalize(e.user.first_name))+"\n                    "+e._s(e.$u.capitalize(e.user.last_name))+"\n                ")])],2),e._v(" "),t("div",{staticClass:"dropdown-menu dropdown-menu-xs dropdown-menu-right profile-menu background-default"},[t("router-link",{staticClass:"dropdown-item text-data",attrs:{to:e.profile_url}},[t("i",{staticClass:"fa fa-id-card-o mr-2 ico-data-default"}),e._v("\n                    "+e._s(e.$u.capitalize(e.$t("profile")))+"\n                ")]),e._v(" "),t("div",{staticClass:"dropdown-divider"}),e._v(" "),e.profile_settings_url?[t("router-link",{staticClass:"dropdown-item text-data",attrs:{to:e.profile_settings_url}},[e._v("\n                        >\n                        "),t("i",{staticClass:"fa fa-cogs mr-2 ico-data-default"}),e._v("\n                        "+e._s(e.$u.capitalize(e.$t("settings")))+"\n                    ")]),e._v(" "),t("div",{staticClass:"dropdown-divider"})]:e._e(),e._v(" "),t("a",{staticClass:"dropdown-item",attrs:{href:e.logout_url}},[t("i",{staticClass:"fas fa-sign-out-alt mr-2 ico-data-default"}),e._v("\n                    "+e._s(e.$u.capitalize(e.$t("logout")))+"\n                ")])],2)]):t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{href:e.login_url}},[t("i",{staticClass:"fas fa-sign-out-alt text-data"}),e._v(" "),t("span",[e._v(e._s(e.$u.capitalize(e.$t("login"))))])])]),e._v(" "),t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.$root.toggleUserSettings()}}},[t("i",{staticClass:"fas fa-th-large"})])])])])};C._withStripped=!0;var S=n(19755),k=n.n(S),F=n(23812),Z=n(59198),A={name:"TopNav",data(){return{gravatar:new F.Z}},computed:{is_authenticated(){return Boolean(this.$app.api.getUserId())},enable_gravatar(){return this.$app.api.openapi.info["x-settings"].enable_gravatar},user(){return this.$app.user},gravatar_img(){return this.gravatar.getGravatarByEmail(this.user.email)},profile_url(){return"/user/profile/"},profile_settings_url(){const e="/user/profile/settings/";if(this.$app.views.get(e))return e},openapi_url(){return window.openapi_path},logout_url(){return this.$app.config.urls.logout},login_url(){return this.$app.config.urls.login}},mounted(){k()(this.$refs.sidebarControl).PushMenu()},methods:{saveHideMenuSettings(){(0,Z.saveHideMenuSettings)()},getDefaultGravatarImg(){return this.gravatar.getDefaultGravatar()},setDefaultGravatar(e){return e.src=this.getDefaultGravatarImg(),!1}}},T=n(85252),P={};P.styleTagTransform=g(),P.setAttributes=f(),P.insert=c().bind(null,"head"),P.domAPI=u(),P.insertStyleElement=m(),o()(T.Z,P),T.Z&&T.Z.locals&&T.Z.locals;var E=(0,y.Z)(A,C,[],!1,null,"117d4b1e",null).exports;i.b.add(E);var V=function(){var e=this,t=e._self._c;return t("router-link",{staticClass:"logo-link nav-link brand-link logo",attrs:{to:{name:"home"}}},[t("span",{on:{click:e.hideSidebar}},[t("i",{staticClass:"nav-icon fa fa-globe mr-2",staticStyle:{"margin-left":"20px"}}),e._v(" "),t("span",{staticClass:"brand-text font-weight-light"},[e._v(e._s(e.$t(e.title)))])])])};function M(){k()('[data-widget="pushmenu"]').PushMenu("expand")}function I(){document.body.classList.contains("sidebar-open")&&k()('[data-widget="pushmenu"]').PushMenu("collapse")}function R(e){const t=(0,Z.getApp)(),n=[];for(const a of e){var i;let e;if(!a.origin_link&&a.url){const n=a.url.split("/").filter(Boolean);if(n.length>1){var s;const i="/".concat(n.slice(0,-1).join("/"),"/"),a=n.at(-1),r=null===(s=t.views.get(i))||void 0===s?void 0:s.actions.get(a);null!=r&&r.isEmpty&&(e=r)}}const r={name:a.name,icon:a.span_class,sublinks:R(null!==(i=a.sublinks)&&void 0!==i?i:[])};e?r.emptyAction=e:a.origin_link?r.href=a.url:r.to=a.url,n.push(r)}return n}V._withStripped=!0,n(33948),n(88449),n(2490),n(59849),n(52262),n(24506),n(86035),n(57658);var O={name:"Logo",props:{title:{type:String,default:""}},methods:{hideSidebar(){I()}}},B=n(45393),N={};N.styleTagTransform=g(),N.setAttributes=f(),N.insert=c().bind(null,"head"),N.domAPI=u(),N.insertStyleElement=m(),o()(B.Z,N),B.Z&&B.Z.locals&&B.Z.locals;var D=(0,y.Z)(O,V,[],!1,null,"39bac637",null).exports,j=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"sidebar"},[t("nav",{staticClass:"mt-2"},[e._t("top"),e._v(" "),t("ul",{ref:"treeview",staticClass:"nav nav-pills nav-sidebar flex-column",attrs:{"data-widget":"treeview",role:"menu"}},e._l(e.menu,(function(i,s){return t(n.SidebarItem,e._b({key:s},"SidebarItem",i,!1))})),1),e._v(" "),e._t("bottom")],2)])};j._withStripped=!0;var L=n(70538),q=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("li",{staticClass:"nav-item",class:{"menu-open":n.isOpen},on:{click:function(e){return e.stopPropagation(),n.clickHandler.apply(null,arguments)}}},[e.to?t("router-link",{staticClass:"nav-link",attrs:{to:e.to,"exact-active-class":"active"}},[e.icon?t("i",{staticClass:"nav-icon",class:e.icon}):e._e(),e._v(" "),t("p",[e._v("\n            "+e._s(e.$st(e.name))+"\n            "),n.hasSublinks?t("i",{staticClass:"right fas fa-angle-left"}):e._e()])]):e.href?t("a",{staticClass:"nav-link",attrs:{href:e.href}},[e.icon?t("i",{staticClass:"nav-icon",class:e.icon}):e._e(),e._v(" "),t("p",[e._v("\n            "+e._s(e.$st(e.name))+"\n            "),n.hasSublinks?t("i",{staticClass:"right fas fa-angle-left"}):e._e()])]):e.emptyAction?t("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),n.executeEmptyAction.apply(null,arguments)}}},[e.icon?t("i",{staticClass:"nav-icon",class:e.icon}):e._e(),e._v(" "),t("p",[e._v("\n            "+e._s(e.$st(e.name))+"\n            "),n.hasSublinks?t("i",{staticClass:"right fas fa-angle-left"}):e._e()])]):t("a",{staticClass:"nav-link cursor-pointer"},[e.icon?t("i",{staticClass:"nav-icon",class:e.icon}):e._e(),e._v(" "),t("p",[e._v("\n            "+e._s(e.$st(e.name))+"\n            "),n.hasSublinks?t("i",{staticClass:"right fas fa-angle-left"}):e._e()])]),e._v(" "),n.hasSublinks?t("ul",{staticClass:"nav nav-treeview"},e._l(e.sublinks,(function(i,s){return t("SidebarItem",e._b({key:s,on:{open:n.onOpen}},"SidebarItem",i,!1))})),1):e._e()],1)};q._withStripped=!0;var $=(0,L.defineComponent)({__name:"SidebarItem",props:{name:null,to:null,href:null,sublinks:null,icon:null,emptyAction:null},emits:["open"],setup(e,t){let{emit:n}=t;const i=e,s=(0,Z.getApp)(),a=(0,L.computed)((()=>{var e;return((null===(e=i.sublinks)||void 0===e?void 0:e.length)||0)>0})),r=(0,L.ref)(!1);return(0,L.onMounted)((()=>{if(i.to){const e=s.router;e.resolve(i.to).route.fullPath===e.currentRoute.fullPath&&n("open")}})),{__sfc:!0,props:i,emit:n,app:s,hasSublinks:a,isOpen:r,onOpen:function(){r.value||(r.value=!0),n("open")},clickHandler:function(){a.value?r.value=!r.value:I()},executeEmptyAction:function(){s.actions.executeEmpty({action:i.emptyAction})}}}}),U=(0,y.Z)($,q,[],!1,null,null,null).exports,H=(0,L.defineComponent)({__name:"Sidebar",props:{menu:null},setup(e){return(0,L.onMounted)((()=>{"ontouchstart"in window&&S("body").swipe({swipe:(e,t)=>("right"===t?M():"left"===t&&I(),!0),threshold:150,preventDefaultEvents:!1})})),{__sfc:!0,SidebarItem:U}}}),G=(0,y.Z)(H,j,[],!1,null,null,null).exports,z=n(84160),W=n(60751)},28445:function(e,t,n){n.d(t,{B:function(){return l}});var i=n(50123),s=function(){var e=this,t=e._self._c;return t("BootstrapModal",{attrs:{title:e.$t(e.info.title)},on:{close:e.close},scopedSlots:e._u([{key:"body",fn:function(){return[t("h4",{staticClass:"with_bottom_border"},[e._v("\n            "+e._s(e.$u.capitalize(e.$tc("version",2)))+"\n        ")]),e._v(" "),t("ul",e._l(e.info["x-versions"],(function(n,i){return t("li",{key:i},[t("b",[e._v(e._s(e.$t(i).toLowerCase())+":")]),e._v("\n                "+e._s(n)+"\n            ")])})),0),e._v(" "),e._l(e.info["x-links"],(function(n,i){return[t("h4",{key:"header-".concat(i),staticClass:"with_bottom_border",staticStyle:{"margin-top":"20px"}},[e._v("\n                "+e._s(e.$u.capitalize(e.$t(i.toLowerCase())))+"\n            ")]),e._v(" "),t("ul",{key:"list-".concat(i)},[e.isArray(n)?e._l(n,(function(n,i){return t("li",{key:i},[t("a",{attrs:{href:n.url,target:"_blank",rel:"noreferrer"}},[e._v("\n                            "+e._s(e.$u.capitalize(e.$t(n.name.toLowerCase())))+"\n                        ")])])})):[t("li",[t("a",{attrs:{href:n.url,target:"_blank",rel:"noreferrer"}},[e._v("\n                            "+e._s(e.$u.capitalize(e.$t(n.name.toLowerCase())))+"\n                        ")])])]],2)]}))]},proxy:!0},{key:"footer",fn:function(){return[t("button",{staticClass:"btn btn-danger",on:{click:e.resetAll}},[e._v("\n            "+e._s(e.$t("Clear all cache with settings"))+"\n        ")])]},proxy:!0},{key:"activator",fn:function(n){let{openModal:i}=n;return[t("ControlSidebarButton",{attrs:{"icon-class":"fa fa-question-circle"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),i.apply(null,arguments)}}},[e._v("\n            "+e._s(e.$u.capitalize(e.$t("app info")))+"\n        ")])]}}])})};s._withStripped=!0;var a=n(27573),r=n(43223),o={name:"HelpModal",components:{ControlSidebarButton:n(60751).Z,BootstrapModal:r.Z},mixins:[a.Z],data(){return{info:this.$app.schema.info}},methods:{isArray(e){return Array.isArray(e)},resetAll(){window.cleanAllCacheAndReloadPage({resetAll:!0})}}},l=(0,n(51900).Z)(o,s,[],!1,null,null,null).exports;i.b.add(l)},47858:function(e,t,n){n.r(t),n.d(t,{ModelFields:function(){return s.Z},OneEntity:function(){return i.Z}});var i=n(89045),s=n(13034)},14514:function(e,t){const n={name:"FieldLabelIdMixin",props:["field","wrapper_opt","value","data"],computed:{label_id(){return"label-for-"+this.field.options.name+"-field"}}};t.Z=n},27573:function(e,t){const n={data(){return{showModal:!1}},methods:{open(){this.showModal=!0,this.onOpen()},close(){this.showModal=!1,this.onClose()},onOpen(){},onClose(){}}};t.Z=n},88225:function(e,t,n){n(57658);const i={inject:{customRowClickHandler:{default:void 0}},computed:{rowLink(){if(this.view.pageView)return this.base_url+"/"+this.instance.getPkValue()}},methods:{goToTrLink(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(("function"!=typeof this.customRowClickHandler||this.customRowClickHandler({event:e,blank:t,link:this.rowLink}))&&!this.blockTrLink(e.target,"tr","highlight-tr-none")){let n;if(e.target.hasAttribute("href"))return void e.preventDefault();if(n=e.currentTarget?e.currentTarget.getAttribute("data-href"):e.target.getAttribute("data-href"),!n)return;t?window.open("#"+n):this.$router.push(n)}},blockTrLink(e,t,n){return!!e&&(!!e.classList.contains(n)||!(!e.parentElement||e.parentElement.localName==t)&&this.blockTrLink(e.parentElement,t,n))},onMouseDownHandler(e){e&&e.which&&2==e.which&&this.goToTrLink(e,!0)}}};t.Z=i},27752:function(e,t,n){var i=n(36778);const s={data(){return{inputType:"text"}},computed:{attrs(){return(0,i.Zf)(this.field)},aria_label(){return this.field.title}}};t.Z=s},57800:function(e,t){const n={name:"BaseFieldInnerComponentMixin",props:["field","value","data"],data(){return{class_list:[],styles_dict:{},prependText:this.field.prependText,appendText:this.field.appendText}},computed:{classes(){return this.class_list.join(" ")},styles(){return this.styles_dict}}};t.Z=n},53259:function(e,t,n){n.r(t),n.d(t,{DecimalField:function(){return U},DecimalFieldMixin:function(){return $},FloatField:function(){return o},NumberField:function(){return r.Ki},integer:function(){return s},rating:function(){return i}});var i={};n.r(i),n.d(i,{RatingField:function(){return L}});var s=n(66044),a=n(87444),r=n(93378);class o extends r.Ki{}var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"rating",style:{color:e.color,cursor:e.edit?"pointer":"auto"},attrs:{title:e.selectedValue}},e._l(e.icons,(function(n){return t("div",e._g({key:n.value,staticClass:"rating-icon"},e.handlers(n)),[t("i",{class:n.leftClass}),e._v(" "),t("i",{class:n.rightClass+" fa-flip-horizontal"})])})),0)};l._withStripped=!0,n(57658);var u=function(){var e=this,t=e._self._c;return t("div",{style:{color:e.color,cursor:e.edit?"pointer":"auto"},attrs:{title:e.value}},e._l(e.icons,(function(n){return t("i",e._g({key:n.value,class:n.class},e.handlers(n)))})),0)};u._withStripped=!0;var d={props:{value:{type:Number,default:null},field:{type:Object,required:!0},edit:{type:Boolean,default:!1}}},c={name:"FaIcon",mixins:[d],data(){return{hoverValue:null}},computed:{selectedValue(){return this.hoverValue||this.value},roundedValue(){return Math.round(this.selectedValue)},color(){return this.field.color},icons(){const e=[];for(let t=1;t<this.field.max+1;t++)e.push({value:t,class:this.field.faClass+(this.roundedValue>=t?" active":"")});return e}},methods:{handlers(e){return this.edit?{mouseenter:()=>this.hoverValue=e.value,mouseleave:()=>this.hoverValue=null,click:()=>this.$emit("change",e.value)}:{}}}},p=n(93379),f=n.n(p),h=n(7795),m=n.n(h),v=n(90569),g=n.n(v),_=n(3565),b=n.n(_),y=n(19216),w=n.n(y),x=n(44589),C=n.n(x),S=n(45470),k={};k.styleTagTransform=C(),k.setAttributes=b(),k.insert=g().bind(null,"head"),k.domAPI=m(),k.insertStyleElement=w(),f()(S.Z,k),S.Z&&S.Z.locals&&S.Z.locals;var F=n(16848),Z={};Z.styleTagTransform=C(),Z.setAttributes=b(),Z.insert=g().bind(null,"head"),Z.domAPI=m(),Z.insertStyleElement=w(),f()(F.Z,Z),F.Z&&F.Z.locals&&F.Z.locals;var A=n(51900),T=(0,A.Z)(c,u,[],!1,null,"d9010064",null).exports,P={name:"RatingFieldReadonly",mixins:[T],computed:{selectedValue(){return this.hoverValue||this.value},activeIcon(){return"fas fa-star-half"},inactiveIcon(){return"far fa-star-half"},icons(){const e=[];for(let t=1;t-1<this.field.max;t++)e.push({value:t,leftClass:this.selectedValue>=t-.5?this.activeIcon:this.inactiveIcon,rightClass:this.selectedValue>=t?this.activeIcon:this.inactiveIcon});return e}}},E=n(9328),V={};V.styleTagTransform=C(),V.setAttributes=b(),V.insert=g().bind(null,"head"),V.domAPI=m(),V.insertStyleElement=w(),f()(E.Z,V),E.Z&&E.Z.locals&&E.Z.locals;var M=n(39189),I={};I.styleTagTransform=C(),I.setAttributes=b(),I.insert=g().bind(null,"head"),I.domAPI=m(),I.insertStyleElement=w(),f()(M.Z,I),M.Z&&M.Z.locals&&M.Z.locals;var R=(0,A.Z)(P,l,[],!1,null,"d4c5fb10",null).exports,O=function(){var e=this,t=e._self._c;return t("div",[e.edit?[t("input",{staticStyle:{"margin-right":"10px"},attrs:{type:"range",min:e.field.min,max:e.field.max,step:e.field.step,title:e.value,disabled:!e.edit},domProps:{value:e.value},on:{change:function(t){return e.$emit("change",t.target.valueAsNumber)}}})]:[t("div",{staticClass:"progress progress-xs"},[t("div",{staticClass:"progress-bar",style:"width: ".concat(e.value/e.field.max*100,"%; background-color: ").concat(e.field.color,";")})])],e._v(" "),null!==e.value?t("span",{staticClass:"badge",style:{backgroundColor:e.field.color}},[e._v("\n        "+e._s(e.value)+" / "+e._s(e.field.max)+"\n    ")]):e._e()],2)};O._withStripped=!0;var B={name:"Slider",mixins:[d]};const N={stars:R,slider:(0,A.Z)(B,O,[],!1,null,null,null).exports,fa_icon:T},D={name:"RatingFieldContent",components:{Stars:R},mixins:[a.BaseFieldContentEdit],data(){return{edit:!1}},render(e){return e(N[this.field.style],{props:{value:this.value,field:this.field,edit:this.edit},on:{change:e=>this.$emit("set-value",e)}})}},j={components:{field_content_readonly:D,field_content_edit:{mixins:[D],data:()=>({edit:!0})},field_list_view:D},mixins:[a.BaseFieldMixin],methods:{setValue(e){this.field.nullable&&e===this.value&&(e=null),this._emitSetValueSignal(e)}}};class L extends o{constructor(e){super(e),this.min=this.props.min_value,this.max=this.props.max_value,this.step=this.props.step,this.style=this.props.style,this.color=this.props.color||"#ffb100",this.faClass=this.props.fa_class}static get mixins(){return[j]}getEmptyValue(){return this.nullable?null:this.min}}var q=n(33364);const $={mixins:[q.MaskedFieldMixin]};class U extends q.MaskedField{constructor(e){console.warn("fields.numbers.decimal.DecimalField is deprecated and will be removed in the next major release. Consider using fields.text.masked.MaskedField instead."),super(e),this.decimalPlaces=this.props.decimal_places||2,this.maxDigits=this.props.max_digits||10;const t=new RegExp("^-?\\d{0,"+(this.maxDigits-this.decimalPlaces)+"}(\\.\\d{0,"+this.decimalPlaces+"})?$");this.mask={mask:t}}toInner(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[this.options.name];if(void 0===e)return;if(""===e)return null;let t=Number(e);if(!isNaN(t))return t;console.error("Error in decimal.toInner()")}toRepresent(e){let t=e[this.name];return null===t?"":t}static get mixins(){return[$]}}},66044:function(e,t,n){n.r(t),n.d(t,{IntegerField:function(){return o},IntegerFieldContentMixin:function(){return a},IntegerFieldMixin:function(){return r}});var i=n(87444),s=n(93378);const a={mixins:[s.k_]},r={mixins:[s.Ul],components:{field_content_edit:{mixins:[i.BaseFieldContentEdit,a]}}};class o extends s.Ki{isValueValid(e){return this.isNumber(e)&&!e.includes(".")}static get mixins(){return[r]}}},93378:function(e,t,n){n.d(t,{Ki:function(){return o},Ul:function(){return r},k_:function(){return a}});var i=n(87444),s=n(59198);const a={methods:{setValue(e){this.field.isValueValid(e)?this.$emit("set-value",e):this.$refs.input.value=this.value}}},r={mixins:[i.BaseFieldMixin],components:{field_content_edit:{mixins:[i.BaseFieldContentEdit,a]}}};class o extends i.BaseField{constructor(e){super(e),this.signed=!(0,s.hasOwnProp)(this.props,"signed")||this.props.signed}toInner(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[this.options.name];if(void 0===e)return;if(null===e||""===e)return null;const t=String(e);if(this.isValueValid(t))return Number(e);console.error("Error in number.toInner()")}isNumber(e){return!isNaN(Number(e))&&" "!==e.slice(-1)||this.signed&&"-"===e}isValueValid(e){return this.isNumber(e)}getEmptyValue(){return null}static get mixins(){return[r]}}},33364:function(e,t,n){n.r(t),n.d(t,{MaskedField:function(){return d},MaskedFieldEdit:function(){return l},MaskedFieldMixin:function(){return u}}),n(57640),n(9924),n(33948);var i=n(29073),s=n(87444),a=n(53973),r=n(96350);const o={computed:{preparedValue(){var e;return a.ZP.pipe(null!==(e=this.value)&&void 0!==e?e:"",this.field.mask)}}},l={mixins:[s.BaseFieldContentEdit],data(){return{inputValueName:null,inputEventName:null}},watch:{preparedValue(e,t){e!==t&&(this.mask.unmaskedValue=e||"")}},mounted(){const e=this.$el.querySelector("input");this.mask=(0,a.ZP)(e,this.field.mask),this.mask.on("accept",(()=>{this.setValue(this.beforeSet(this.mask.unmaskedValue))})),this.mask.unmaskedValue=this.preparedValue||""},methods:{setValue(e){this.$emit("set-value",e)},beforeSet(e){return e||""}}},u={components:{field_content_edit:l,field_content_readonly:{mixins:[s.BaseFieldContentReadonlyMixin,o]},field_list_view:{mixins:[s.BaseFieldListView,o]}},mixins:[s.BaseFieldMixin]};class d extends i.Z{constructor(e){super(e),this.mask={},"string"==typeof this.props.mask?this.mask.mask=this.getMask(this.props.mask):"object"==typeof this.props.mask&&("string"==typeof this.props.mask.mask?(this.mask.mask=this.getMask(this.props.mask.mask),this.props.mask.definitions&&(this.mask.definitions=this.getDefinitions(this.props.mask.definitions)),this.props.mask.blocks&&(this.mask.blocks=this.getBlocks(this.props.mask.blocks))):Array.isArray(this.props.mask.mask)?this.mask.mask=this.props.mask.mask.map((e=>(e.mask=this.getMask(e.mask),e.definitions&&(e.definitions=this.getDefinitions(e.definitions)),e.blocks&&e.blocks&&(e.blocks=this.getBlocks(e.blocks)),e))):this.mask.mask=this.props.mask)}getMask(e){return"string"==typeof e&&e.startsWith("/")&&e.endsWith("/")?RegExp(e.slice(1,-1)):e}getDefinitions(e){const t={};for(const[n,i]of Object.entries(e)){if(n.length>1)throw new r.p('Definition key "'.concat(n,'" is not a single char.'));t[n]=this.getMask(i)}return t}getBlocks(e){const t={};for(const[n,i]of Object.entries(e))t[n]={mask:this.getMask(i.mask)};return t}getEmptyValue(){return""}static get mixins(){return[u]}}},96350:function(e,t,n){n.d(t,{p:function(){return i}}),n(21703);class i extends Error{}},90548:function(e,t,n){n.r(t),n.d(t,{ErrorHandler:function(){return d},PopUp:function(){return a},guiPopUp:function(){return r},pop_up_msg:function(){return o}}),n(15581),n(2490),n(34514),n(57658);var i=n(63518),s=n.n(i);class a{constructor(e){this.options={default:{maxWidth:500,position:"topRight"},info:{title:"Info"},success:{title:"OK"},warning:{title:"Caution"},error:{title:"Error"},question:{timeout:!1,close:!0,overlay:!0,position:"center",displayMode:"once",zindex:2999,title:"Question"}},this.options=Object.assign(this.options,e)}_getPopUpSettings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.options.default||{},i=this.options[e]||{};return Object.assign({},n,i,t)}_showPopUp(e,t){return s()[e]||(e="show"),s()[e](t)}_generatePopUp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.message=t,this._showPopUp(e,this._getPopUpSettings(e,n))}default(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._generatePopUp("show",e,t)}info(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._generatePopUp("info",e,t)}success(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._generatePopUp("success",e,t)}warning(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._generatePopUp("warning",e,t)}error(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._generatePopUp("error",e,t)}question(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],r=new Promise(((n,i)=>{e=n,t=i}));i.forEach((e=>{a.push(["<button>"+e+"</button>",(t,n)=>{t.hide({transitionOut:"fadeOut"},n,e)}])}));let o={buttons:a,onClosed:(n,s,a)=>i.includes(a)?e(a):t(a)};return o=Object.assign(o,s),this._generatePopUp("question",n,o),r}}let r=new a,o={instance:{success:{add:'Child "<b>{0}</b>" instance was successfully added to parent list.',create:'New "<b>{0}</b>" instance was successfully created.',remove:'<b>{1}</b> "<b>{0}</b>" was successfully removed.',removeMany:"Selected instances were successfully removed",save:"Changes in <b>{1}</b> <b>{0}</b> were successfully saved.",executeEmpty:"Action <b>{0}</b> was successfully executed on <b>{1}</b>.<br>{2}",execute:"Action <b>{0}</b> was successfully executed.<br>{1}"},error:{add:'An error occurred during adding of child "<b>{0}</b>" instance to parent list.<br> Error details: {1}',create:"An error occurred during creation.<br>Error details:<br>{0}",remove:'An error occurred during removal process of <b>{1}</b>  "<b>{0}</b>".<br> Error details: {2}',removeMany:"An error occurred during removal process. Error details: {0}",save:"An error occurred during process.<br>Error details:<br>{0}",executeEmpty:"Some error occurred during <b>{0}</b> action execution on <b>{1}</b>.<br> Error details: {2}<br>{3}",execute:"An error occurred during <b>{0}</b>. Error details:<br>{1}"}},field:{error:{empty:"Field is empty.",required:"Field is required.",minLength:"Field is too short.<br> Field length should not be shorter, then {0}.",maxLength:"Field is too long. <br> Field length should not be longer, then {0}.",min:"Field is too small.<br> Field should not be smaller, then {0}.",max:"Field is too big.<br> Field should not be bigger, then {0}.",invalid:"<b>{0} </b> value is not valid for <b>{1}</b> field."}}};var l=n(71829);const u=["non_field_errors","other_errors"];class d{constructor(){}errorDetailHandler(e){let t="";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let i=e[n];Array.isArray(i)&&(i=i.join("<br>")),u.includes(n)?t+="<br>".concat(i):t+="<br><b>".concat(n,"</b>: ").concat(i)}return t}errorToString(e){let t="Unknown error";if(!e)return t;if(e instanceof l.D)return e.toHtmlString();if("string"==typeof e)return e;if("object"==typeof e&&e.message)return e.message.other_errors?Array.isArray(e.message.other_errors)?e.message.other_errors.join("<br/>"):e.message.other_errors:e.message;if("object"==typeof e&&e.data){if(e.data.detail&&"string"==typeof e.data.detail)return e.data.detail;if(void 0!==e.data.detail)return"object"==typeof e.data.detail?this.errorDetailHandler(e.data.detail):e.data.detail;if(Array.isArray(e.data))return e.data.join("<br>");if("object"==typeof e.data)return this.errorDetailHandler(e.data)}return t}showError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t||(t=e),r.error(e),console.error(t)}defineErrorAndShow(e){return this.showError(this.errorToString(e))}}},97320:function(e,t,n){n.r(t),n(88449),n(2490),n(59849),n(15306);var i=n(70538),s=n(59198);i.default.filter("capitalize",s.capitalize),i.default.filter("split",(function(e){return e?e.replace(/_/g," "):""})),i.default.filter("lower",(function(e){return e?(e=e.toString()).toLowerCase():""})),i.default.filter("upper",(function(e){return e?(e=e.toString()).toUpperCase():""}))},23812:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(2568),s=n.n(i),a=n(59198);class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.base_url="https://www.gravatar.com/avatar/{hash}?d=mp",e.base_url&&(this.base_url=e.base_url),this.default_gravatar=(0,a.getApp)().api.openapi.info["x-settings"].static_path+"img/anonymous.png"}getDefaultGravatar(){return this.default_gravatar}getGravatarByEmail(e){return e?this.base_url.format({hash:s()(e)}):this.getDefaultGravatar()}}},37791:function(e,t,n){n.r(t),n.d(t,{Gravatar:function(){return a.Z}}),n(15306),n(57658),n(88921),n(96248),n(27561),n(13599),n(11477),n(64362),n(15389),n(3440),n(90401),n(66244),n(45164),n(89772),n(91238),n(88910),n(54837),n(87485),n(56767),n(76651),n(61437),n(63252),n(35285),n(17454),n(39865),n(33948),n(57640),n(9924),n(88449),n(2490),n(59849);var i=n(70538),s=n(64765),a=n(23812),r=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.isEnabled?t("p",[e._v("\n    "+e._s(e.$t("Disabling Two-Factor Authentication (2FA) will decrease your account's security"))+"\n")]):t("div",[t("p",[e._v("\n        "+e._s(e.$t("Scan the image with the two-factor authentication app on your phone. If you can’t use a QR code, enter this text code instead."))+"\n    ")]),e._v(" "),t("div",{staticClass:"qr-code-container"},[t("img",{attrs:{src:n.qrcode}})]),e._v(" "),t("p",[e._v("\n        "+e._s(e.$u.capitalize(e.$ts("code")))+":\n        "),t("code",[e._v(e._s(n.secret))])]),e._v(" "),t(n.pinField.getComponent(),{key:n.pinField.name,tag:"component",staticStyle:{"max-width":"340px",margin:"0 auto"},attrs:{field:n.pinField,data:n.store.sandbox,type:"edit"},on:{"set-value":n.store.setFieldValue}}),e._v(" "),t("hr"),e._v(" "),t("p",[e._v("\n        "+e._s(e.$t("Recovery codes are used to access your account in the event you cannot receive two-factor authentication codes."))+"\n    ")]),e._v(" "),t("div",{staticClass:"card recovery-codes"},[t("div",{staticClass:"card-header"},[t("h3",{staticClass:"card-title"},[e._v("\n                "+e._s(e.$u.capitalize(e.$ts("recovery codes")))+"\n            ")]),e._v(" "),t("div",{staticClass:"card-tools"},[t("button",{staticClass:"btn btn-secondary",on:{click:n.copyRecoveryCodes}},[e._v("\n                    "+e._s(e.$u.capitalize(e.$ts("copy")))+"\n                ")])])]),e._v(" "),t("div",{ref:"recoveryCodesEl",staticClass:"card-body"},e._l(n.recoveryCodes,(function(n){return t("code",{key:n,staticClass:"col-3"},[e._v(e._s(n))])})),0)])],1)};r._withStripped=!0;var o=n(92592),l=n(56039),u=n(59198),d=(0,i.defineComponent)({__name:"TFAPage",setup(e){const t=(0,l.useViewStore)(),n=(0,i.ref)(""),s=(0,i.computed)((()=>t.sandbox.enabled)),a=(0,i.computed)((()=>t.model.fields.get("pin"))),r=(0,i.computed)((()=>t.sandbox.secret)),d=(0,i.computed)((()=>{var e;return((null===(e=t.sandbox)||void 0===e?void 0:e.recovery)||"").split(",")}));(0,i.watch)((()=>t.secretUri),(async e=>{e&&(n.value=await o.toDataURL(e,{scale:6}))}),{immediate:!0});const c=(0,i.ref)();return{__sfc:!0,store:t,qrcode:n,isEnabled:s,pinField:a,secret:r,recoveryCodes:d,recoveryCodesEl:c,copyRecoveryCodes:function(){(0,u.copyToClipboard)(c.value.innerText)}}}}),c=n(93379),p=n.n(c),f=n(7795),h=n.n(f),m=n(90569),v=n.n(m),g=n(3565),_=n.n(g),b=n(19216),y=n.n(b),w=n(44589),x=n.n(w),C=n(64761),S={};S.styleTagTransform=x(),S.setAttributes=_(),S.insert=v().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=y(),p()(C.Z,S),C.Z&&C.Z.locals&&C.Z.locals;var k=(0,n(51900).Z)(d,r,[],!1,null,"4613e41a",null).exports,F=n(66044),Z=n(90548);s.pp.once("models[_UserSettings].fields.beforeInit",(e=>{e.custom.title="Custom settings",e.main.title="Main settings"}));const A="/user/",T="".concat(A,"{id}/");function P(e){e.actions.set("generate_password",{name:"generate_password",title:"Generate password",handler:()=>{const e=(0,u.getApp)(),t=(0,u.generatePassword)();e.store.page.setFieldValue({field:"password",value:t}),e.store.page.setFieldValue({field:"password2",value:t})}})}s.pp.once("app.afterInit",(e=>{let{app:t}=e;const n="".concat(A).concat(t.api.getUserId()),i="/profile";t.router.beforeEach(((e,t,s)=>{e.path.startsWith(i)?s({path:e.path.replace(i,n)}):s()}))})),s.pp.once("openapi.loaded",(e=>{e.paths["".concat(T,"twofa/")]["x-edit-style"]=!0})),s.pp.once("allModels.created",(e=>{let{models:t}=e;t.get("TwoFA").viewField=null})),s.pp.once("allViews.created",(e=>{let{views:t}=e;const n=t.get(T);n.sublinks.delete("_settings");const s=n.sublinks.get("twofa");s.title="Two factor authentication",s.iconClasses=["fas","fa-lock"];const a=t.get("".concat(T,"twofa/"));a.mixins.push(k),a.params.method="PUT",a.title="Two factor authentication",a.extendStore((e=>{const t=(0,u.getApp)(),n=(0,i.computed)((()=>{const n=e.sandbox.value.secret;if(n){const e=t.user.getViewFieldValue();return"otpauth://totp/".concat(t.config.projectName,":").concat(e,"?secret=").concat(n)}return null}));return{...e,fetchData:async function(){if(await e.fetchData(e.getInstancePk()),!e.sandbox.enabled){e.setFieldValue({field:"secret",value:(0,u.generateBase32String)(),markChanged:!1});const t=[],n=Math.ceil(5);for(let e=0;e<15;e++){const e=(0,u.generateRandomString)(10).toLowerCase();t.push(e.slice(0,n)+"-"+e.slice(n))}e.setFieldValue({field:"recovery",value:t.join(","),markChanged:!1})}},secretUri:n}})),t.get("".concat(T,"_settings/")).hidden=!0;const r=t.get("/user/{id}/change_password/");r&&P(r);const o=t.get("/user/new/");o&&P(o)})),s.pp.connect("</user/{id}/twofa/>filterActions",(e=>{const t=(0,u.getApp)();e.actions=[{name:"save",title:e.data.enabled?"Disable":"Enable",async handler(){try{t.store.page.validateAndSetInstanceData()}catch(e){return void t.error_handler.defineErrorAndShow(e)}t.store.page.loading=!0;const e=t.store.page.instance;try{await e.update("put"),t.store.page.loading=!1,t.store.page.changedFields=[],Z.guiPopUp.success(t.i18n.t(Z.pop_up_msg.instance.success.save,["","TFA"])),await(0,l.useViewStore)().fetchData()}catch(e){t.store.page.loading=!1;let n=t.error_handler.errorToString(e),i=t.i18n.t(Z.pop_up_msg.instance.error.save,[n]);t.error_handler.showError(i,n)}}}]}));class E extends F.IntegerField{toInner(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"profile"===this._getValueFromData(e)?"profile":super.toInner(e)}}s.pp.once("allViews.created",(e=>{let{views:t}=e;const n=new Set(Array.from(t.values()).filter((e=>e.path.startsWith("/user/{id}/")&&e.objects)).map((e=>e.objects)));for(const e of n)e.pathParams.length>0&&(e.pathParams[0]=new E(e.pathParams[0].options))}))},32465:function(e,t,n){n.d(t,{Nv:function(){return N},le:function(){return z},zr:function(){return A},cO:function(){return L},t$:function(){return E},pi:function(){return _},_y:function(){return S},kC:function(){return p},F3:function(){return ae},NC:function(){return K},vQ:function(){return D},vZ:function(){return w},lS:function(){return j},Xv:function(){return H},_q:function(){return P},fq:function(){return Y},F2:function(){return le},zs:function(){return Q},ej:function(){return b},JG:function(){return M},PP:function(){return oe},NN:function(){return Z},lf:function(){return d},Q$:function(){return c},mR:function(){return F},Qr:function(){return g},MU:function(){return ee},Kn:function(){return I},zO:function(){return h},OS:function(){return G},O3:function(){return te},Pe:function(){return de},XP:function(){return ue},QA:function(){return O},Ee:function(){return R},Dv:function(){return f},D$:function(){return T},NB:function(){return W},MP:function(){return C},MW:function(){return J},NI:function(){return X},tn:function(){return V},ri:function(){return U},O1:function(){return k},Z7:function(){return se},Wu:function(){return y},_v:function(){return q},TB:function(){return v},yp:function(){return ie},$l:function(){return ne},hb:function(){return x},bF:function(){return re},XK:function(){return B},A2:function(){return m}}),n(33948),n(15306),n(57640),n(9924),n(57658),n(15581),n(2490),n(34514),n(88449),n(59849),n(25387),n(72608),n(82472),n(48675),n(33105),n(63408),n(14590),n(3462),n(33824),n(1439),n(87585),n(55315),n(23252),n(6461),n(32372),n(8922),n(5835),n(8970),n(84444);var i,s=n(19755),a=n.n(s),r=n(30381),o=n.n(r),l=n(46509),u=(n(43847),n(64765));const d=new class{constructor(e){this.name=e,this.__settings={},this.__tmpSettings={},this.__beforeAsTmpSettings={},this.sync()}sync(){if(window.localStorage[this.name])try{this.__settings=JSON.parse(window.localStorage[this.name])}catch(e){console.log(e)}}get(e){return this.__settings[e]}set(e,t){this.__removeTmpSettings(),this.__settings[e]=t,window.localStorage[this.name]=JSON.stringify(this.__settings),u.pp.emit(this.name+"."+e,{type:"set",name:e,value:t})}delete(e){this.__removeTmpSettings(),delete this.__settings[e],delete this.__tmpSettings[e],delete this.__beforeAsTmpSettings[e],window.localStorage[this.name]=JSON.stringify(this.__settings)}setIfNotExists(e,t){void 0===this.__settings[e]&&(this.__settings[e]=t)}setAsTmp(e,t){this.__settings[e]&&(this.__beforeAsTmpSettings[e]=this.__settings[e]),this.__settings[e]=t,this.__tmpSettings[e]=t,u.pp.emit(this.name+"."+e,{type:"set",name:e,value:t})}__removeTmpSettings(){for(let e in this.__tmpSettings)this.__beforeAsTmpSettings[e]?this.__settings[e]=this.__beforeAsTmpSettings[e]:delete this.__settings[e]}}("guiLocalSettings");function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}function f(e){return String(e).replace(/_/g," ").replace(/\s{2,}/g," ").trim()}function h(e){return e?(e=e.toString()).toLowerCase():""}function m(e){return e?(e=e.toString()).toUpperCase():""}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if("string"!=typeof e)return v(""+e,t);let n=e.slice(0,t);return e.length>t&&(n+="..."),n}function g(e){if(Array.isArray(e)&&0===e.length)return!0;for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e=e.replace(/[\s/]+/g,"_");let i=e+" ";return t&&(t=t.replace(/[\s/]+/g,"_"),i+=e+"-"+t+" "),t&&n&&(n=n.replace(/[\s/]+/g,"_"),i+=e+"-"+n+" ",i+=e+"-"+n+"-"+t),i.toLowerCase()}function b(e){let t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let i=n[e];for(;" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}function y(){window.innerWidth>991&&(a()("body").hasClass("sidebar-collapse")?d.set("hideMenu",!1):d.set("hideMenu",!0))}function w(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e){if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!w(e[n],t[n]))return!1}return!0}return!1}function x(e){if(null==e)return!1;switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1}}function C(e){return e>9?""+e:"0"+e}function S(e){for(let t in e){if("object"!=typeof e[t])return!1;if(Array.isArray(e[t]))return!1}return!0}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"qwertyuiopasdfghjklzxcvbnm012364489",n="";for(let i=0;i<e;i++)n+=t[Math.floor(Math.random()*t.length)];return n}function F(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("number"!=typeof n&&(n=Number(n),isNaN(n)&&(n=1)),(n<0||n>1)&&(n=1),/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return t=e.substring(1).split(""),3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),"rgba("+[t>>16&255,t>>8&255,255&t].join(",")+","+n+")"}function Z(e){if(isNaN(e))return"00:00:00";let t=o().duration(Number(e),"seconds")._data,n=C;return t.years>0?n(t.years)+"y "+n(t.months)+"m "+n(t.days)+"d "+n(t.hours)+":"+n(t.minutes)+":"+n(t.seconds):t.months>0?n(t.months)+"m "+n(t.days)+"d "+n(t.hours)+":"+n(t.minutes)+":"+n(t.seconds):t.days>0?n(t.days)+"d "+n(t.hours)+":"+n(t.minutes)+":"+n(t.seconds):n(t.hours)+":"+n(t.minutes)+":"+n(t.seconds)}String.prototype.format=function(){let e,t=this.toString();"object"==typeof arguments[0]?e=arguments[0]:arguments.length>=1&&(e=Array.from(arguments));for(let n of this.format_keys()){if(void 0===e[n])throw"String don't have '"+n+"' key";t=t.replace("{"+n+"}",e[n])}return t},String.prototype.format_keys=function(){let e=this.match(/{([^}]+)}/g);return e?e.map((e=>e.slice(1,e.length-1))):[]},a()(".content-wrapper").hover((function(){a()(".hover-li").removeClass("hover-li")})),a()(".navbar").hover((function(){a()(".hover-li").removeClass("hover-li")})),"last"in Array.prototype||Object.defineProperty(Array.prototype,"last",{get:function(){return this[this.length-1]}});class A{constructor(){this.ob_proto_attrs=this.constructor.getObjectConstructorProperties,this.obj_proto_methods=this.constructor.getObjectConstructorMethods}static get getObjectConstructorMethods(){return Object.getOwnPropertyNames(Object.constructor.prototype)}static get getObjectConstructorProperties(){return Object.keys({}.constructor.prototype)}_enumerable(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)}_notEnumerable(e,t){return!Object.prototype.propertyIsEnumerable.call(e,t)}_enumerableAndNotEnumerable(e,t){return!0}_getPropertyNames(e,t,n,i){let s=[];function a(t){-1===s.indexOf(t)&&i(e,t)&&s.push(t)}do{if(t&&Object.getOwnPropertyNames(e).forEach(a),!n)break;t=!0,e=Object.getPrototypeOf(e)}while(e);return s}getOwnEnumerables(e){return this._getPropertyNames(e,!0,!1,this._enumerable)}getOwnNonenumerables(e){return this._getPropertyNames(e,!0,!1,this._notEnumerable)}getOwnEnumerablesAndNonenumerables(e){return this._getPropertyNames(e,!0,!1,this._enumerableAndNotEnumerable)}getPrototypeEnumerables(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._getPropertyNames(e,!1,!0,this._enumerable);return t?n:n.filter((e=>!this.ob_proto_attrs.includes(e)))}getPrototypeNonenumerables(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._getPropertyNames(e,!1,!0,this._notEnumerable);return t?n:n.filter((e=>!this.obj_proto_methods.includes(e)))}getPrototypeEnumerablesAndNonenumerables(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._getPropertyNames(e,!1,!0,this._enumerableAndNotEnumerable);return t?n:n.filter((e=>!(this.obj_proto_methods.includes(e)||this.ob_proto_attrs.includes(e))))}getOwnAndPrototypeEnumerables(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._getPropertyNames(e,!0,!0,this._enumerable);return t?n:n.filter((e=>!this.ob_proto_attrs.includes(e)))}getOwnAndPrototypeNonenumerables(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._getPropertyNames(e,!0,!0,this._notEnumerable);return t?n:n.filter((e=>!this.obj_proto_methods.includes(e)))}getOwnAndPrototypeEnumerablesAndNonenumerables(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._getPropertyNames(e,!0,!0,this._enumerableAndNotEnumerable);return t?n:n.filter((e=>!(this.obj_proto_methods.includes(e)||this.ob_proto_attrs.includes(e))))}}const T=new A;function P(e,t){let n=t.replace(/^\/|\/$/g,"").split("/"),i=[];for(let t=0;t<e.length;t++){let s=e[t],a=s.replace(/^\/|\/$/g,"").split("/");i.push({path:s,match:0});for(let e=0;e<n.length&&n[e]===a[e];e++)i.last.match++}if(i=i.sort(((e,t)=>e.match-t.match+t.path.split("/").length-e.path.split("/").length)),i.last&&i.last.path&&i.last.match>0)return i.last.path}function E(){return(0,l.M)().i18n.t(...arguments)}let V="id";function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return Array.isArray(e)?e.map((e=>e.getPkValue?e.getPkValue():e)).join(t):"string"==typeof e||"number"==typeof e?e:void 0}function I(e){return e&&"object"==typeof e&&!Array.isArray(e)}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;const s=n.shift();if(I(e)&&I(s))for(const t in s)I(s[t])?(e[t]||Object.assign(e,{[t]:{}}),R(e[t],s[t])):Array.isArray(s[t])?e[t]=s[t].slice():Object.assign(e,{[t]:s[t]});return R(e,...n)}function O(e){return new Proxy(e,{get(e,t){return e.get(t)},set(e,t,n){return e.set(t,n),!0}})}function B(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];let a=i[i.length-1]||{},r=[e[0]];return n.forEach((function(t,n){let s=Number.isInteger(t)?i[t]:a[t];r.push(s,e[n+1])})),r.join("")}}const N={LIST:"list",READ_ONLY:"readonly",EDIT:"edit"};function D(e){if(void 0===navigator.clipboard){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){console.warning("Was not possible to copy text: ",e)}document.body.removeChild(t)}else navigator.clipboard.writeText(e||"").catch(console.warn)}function j(e){let t;t=""===e.mediaType?e.content:"data:".concat(e.mediaType||"text/plain",";base64,").concat(e.content);const n=document.createElement("a");n.href=t,n.download=e.name,n.click()}const L={LIST:"LIST",PAGE:"PAGE",PAGE_NEW:"PAGE_NEW",PAGE_EDIT:"PAGE_EDIT",PAGE_REMOVE:"PAGE_REMOVE",ACTION:"ACTION"};function q(e){return new Promise((t=>setTimeout(t,e)))}function $(e,t){return Math.floor(Math.random()*(t-e)+e)}function U(e,t){return q($(e,t))}function H(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function G(e){return""===e.mediaType?e.content:"data:".concat(e.mediaType||"image/png",";base64,").concat(e.content)}const z=["offset","limit","page","__deep_parent"];function W(e){const t=new FormData;for(let[n,i]of Object.entries(e))t.append(n,i);return t}function Q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="";const i=t.length;for(let s=0;s<e;s++)n+=t.charAt(Math.floor(Math.random()*i));return n}function Y(){return Q(arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567")}function K(e,t){return e.filter((e=>"choices"===e.format||"boolean"===e.type)).map((e=>{let n="field-".concat(e.name);const i=e._getValueFromData(t);return void 0!==i&&(n+="-".concat(re(i))),n}))}function J(e){return e?"string"==typeof e?e:e.detail?J(e.detail):Array.isArray(e)?e.join("<br>"):"object"==typeof e?Object.entries(e).reduce(((e,t)=>{let[n,i]=t;return e+"<b>".concat(n,":</b> ").concat(i,"<br>")}),""):"":""}function X(e){return e.replace(/^\/|\/$/g,"").split("/")}function ee(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function te(e,t){const n={};for(const i in e)c(e,i)&&(n[i]=t(e[i],i));return n}function ne(e){"Enter"===e.code&&e.stopPropagation()}function ie(e){e.addEventListener("keyup",ne)}function se(e){e.removeEventListener("keyup",ne)}function ae(e,t){return e.reduce(((e,n,i)=>{const s=Math.floor(i/t);return e[s]||(e[s]=[]),e[s].push(n),e}),[])}function re(e){return"string"!=typeof e&&(e=String(e)),e.replace(/\s/g,"")}const oe=null!==(i=globalThis.crypto)&&void 0!==i&&i.getRandomValues?e=>crypto.getRandomValues(new Uint8Array(e)):e=>Array.from(new Array(e),(()=>Math.round(255*Math.random())));function le(){const e=[];for(const t of["ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz","~!@-#$","0123456789"])for(const n of oe($(3,5)))e.push(t[n%t.length]);return e.sort((()=>Math.random()-.5)).join("")}function ue(e){const t={};for(const n of e)t[n]=function(){return this.store[n]};return t}function de(e){const t={};for(const n of e)t[n]=function(){return this.store[n](...arguments)};return t}},60113:function(e,t,n){n.d(t,{Z:function(){return B}}),n(15306),n(31672),n(2490),n(59461),n(33948),n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(57640),n(9924),n(21703),n(57658),n(88449),n(59849);var i=n(19755),s=n.n(i),a=n(59198),r=n(64765),o=n(76445),l=n(8366),u=n(8905),d={computed:{title(){return this.$t(this.view.title)}}},c=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.BootstrapModal,{ref:"modal",attrs:{title:e.$ts(e.action.title)},scopedSlots:e._u([{key:"activator",fn:function(n){let{openModal:i}=n;return[t("button",{staticClass:"dropdown-item",attrs:{type:"button"},domProps:{textContent:e._s(e.$st(e.action.title))},on:{click:i}})]}},{key:"footer",fn:function(){return[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:n.execute}},[e._v("\n            "+e._s(e.$t("Execute"))+"\n        ")])]},proxy:!0}])},[e._v(" "),t("div",{staticClass:"container"},[t(n.ModelFields,{attrs:{data:n.store.sandbox,model:n.store.model,editable:!0,"fields-errors":n.store.fieldsErrors,"hide-read-only":!0},on:{"set-value":n.store.setFieldValue}})],1)])};c._withStripped=!0,n(17922);var p=n(70538),f=n(67476),h=n(84085),m=n(90548),v=n(56716),g=n(42950),_=n(43223),b=n(13034),y=(0,p.defineComponent)({__name:"NotEmptyMultiactionModal",props:{action:null},setup(e){const t=e,n=(0,a.getApp)(),i=(0,p.ref)(null),s=(0,f.defineStore)("notEmptyMultiActionModal_".concat((0,a.getUniqueId)()),(()=>(0,g.XR)(t.action.view))),r=s(),o=(0,h.yj)(),l=(0,p.computed)((()=>t.action.view));function u(){const e=n.store.page;return e.instances.filter((t=>e.selection.includes(t.getPkValue()))).map((e=>(0,a.formatPath)(l.value.path,o.params,e)))}return{__sfc:!0,props:t,app:n,modal:i,useStore:s,store:r,route:o,view:l,getRequestPaths:u,execute:async function(){const e=r.instance;try{e._validateAndSetData()}catch(e){return void n.error_handler.defineErrorAndShow(e)}const t=l.value.method,s={"content-type":"application/json"},o=await Promise.allSettled(u().map((i=>n.api.makeRequest({method:t,headers:s,path:i,data:e._getInnerData(),useBulk:e.shouldUseBulk(t)}))));r.instance.sandbox.markUnchanged();for(const e of o)if("fulfilled"===e.status)m.guiPopUp.success(v.a.ts(m.pop_up_msg.instance.success.execute,[v.a.t(l.value.title),(0,a.parseResponseMessage)(e.value.data)]));else{const t=n.error_handler.errorToString(e.reason),i=v.a.ts(m.pop_up_msg.instance.error.execute,[v.a.t(l.value.title),t]);n.error_handler.showError(i,t)}n.store.page.fetchData(),i.value.close()},BootstrapModal:_.Z,ModelFields:b.Z}}}),w=n(51900),x=(0,w.Z)(y,c,[],!1,null,null,null).exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"error-text-wrapper"},[t("p",{staticClass:"text-center error-p"},[e._v("\n                    "+e._s(e.$t(e.message))+"\n                ")])])])])])};C._withStripped=!0;var S={data(){return{message:""}}},k={mixins:[(0,w.Z)(S,C,[],!1,null,null,null).exports],data(){return{message:"Homepage content"}},computed:{title(){return"Home"}}},F=function(){var e=this._self._c;return e("div",{staticClass:"container-fluid"},[e("ErrorPage",{attrs:{error:{status:404},"error-data":this.message}})],1)};F._withStripped=!0;var Z=n(34952),A={components:{ErrorPage:Z.ErrorPage},mixins:[Z.BaseViewMixin],data(){return{message:"Page matching current url was not found"}},computed:{title(){return this.$t("Error")+" 404"}}},T=(0,w.Z)(A,F,[],!1,null,null,null).exports;const P=()=>(0,a.getApp)().store.page,E={paths:{name:"paths",operation_id:{name:"operationId"},operations:{base:{remove:{name:"remove",title:"Remove",iconClasses:["fas","fa-trash-alt"],classes:["btn","btn-danger"],isMultiAction:!0,style:{order:100,marginLeft:"auto"},doNotGroup:!0,confirmationRequired:!0,isEmpty:!0,handler:function(){return P().removeInstance(...arguments)},handlerMany:function(){return P().removeInstances(...arguments)}},nested_remove:{name:"remove",title:"Remove",iconClasses:["fas","fa-trash-alt"],classes:["btn","btn-danger"],isMultiAction:!0,style:{order:100,marginLeft:"auto"},doNotGroup:!0,component:()=>n.e(454).then(n.bind(n,83601))}},list:{new:{name:"new",title:"Create",appendFragment:"new",iconClasses:["fas","fa-plus"],style:{order:-10},doNotGroup:!0},add:{name:"add",title:"Add",component:()=>Promise.resolve().then(n.bind(n,41657)),classes:["btn","btn-primary"],iconClasses:["fa","fa-folder-open"],style:{order:-10},doNotGroup:!0},filters:{name:"filters",title:"",iconClasses:["fas","fa-filter"],component:()=>Promise.resolve().then(n.bind(n,36446)),style:{order:-5},doNotGroup:!0}},page:{edit:{name:"edit",title:"Edit",appendFragment:"edit",iconClasses:["fas","fa-edit"],style:{order:-8},doNotGroup:!0},filters:{name:"filters",title:"",iconClasses:["fas","fa-filter"],component:()=>n.e(454).then(n.bind(n,82305)),style:{order:-5},doNotGroup:!0}},page_new:{save_new:{name:"save",title:"Save",iconClasses:["fas","fa-save"],style:{order:-10},doNotGroup:!0,handler:()=>P().save()}},page_edit:{save:{name:"save",title:"Save",iconClasses:["fas","fa-save"],doNotShowOnList:!0,style:{order:-9},doNotGroup:!0,handler:()=>P().save()},reload:{name:"reload",title:"Reload",iconClasses:["fas","fa-sync-alt"],doNotShowOnList:!0,style:{order:-8},doNotGroup:!0,handler:()=>P().reload()},cancel:{name:"cancel",title:"Cancel",classes:["btn","btn-secondary"],iconClasses:["fas","fa-chevron-left"],doNotShowOnList:!0,style:{order:100,marginLeft:"auto"},doNotGroup:!0,handler:()=>P().cancel()}},action:{execute:{name:"execute",title:"Execute",style:{order:-7},doNotGroup:!0,handler:function(){return P().execute()}}}},multiActions:["remove"],types_operations_always_to_add:["page_new","page_edit","action"]},schema_types:{_add:{urlPostfix:"new/",type:a.ViewTypes.PAGE_NEW},_list:{urlPostfix:"",type:a.ViewTypes.LIST,autoupdate:!0},_get:{urlPostfix:"",type:a.ViewTypes.PAGE,autoupdate:!0},_edit:{urlPostfix:"edit/",type:a.ViewTypes.PAGE_EDIT},_update:{urlPostfix:"edit/",type:a.ViewTypes.PAGE_EDIT},_remove:{urlPostfix:"remove/",type:a.ViewTypes.PAGE_REMOVE,hidden:!0}}};function V(e){const t="string"==typeof e?parseInt(e):e;return t>=200&&t<400}function M(e){return"body"===e.in}const I=["limit","offset"],R="x-edit-style",O="x-multiaction";class B{constructor(e,t,n){this.dictionary=null!=e?e:E,this.modelsResolver=t,this.fieldsResolver=n}_getViewName(e){let t=e.replace(/\/{[A-z]+}/g,"").split(/\//g);return t[t.length-2]}getOperationOptions(e,t,n){const i={operationId:e};let s=this.dictionary.schema_types[Object.keys(this.dictionary.schema_types).find((t=>e.endsWith(t)))];return s||n!==a.HttpMethods.GET||(s=this.dictionary.schema_types._get),s?((0,a.mergeDeep)(i,s),i.path=t+i.urlPostfix,delete i.urlPostfix):(0,a.mergeDeep)(i,{path:t,type:a.ViewTypes.ACTION}),i}_getOperationModel(e){var t,n,i;const s=(null==e||null===(t=e.schema)||void 0===t||null===(n=t.properties)||void 0===n||null===(i=n.results)||void 0===i?void 0:i.items)||(null==e?void 0:e.schema);return s&&this.modelsResolver.bySchemaObject(s)||l.NoModel}getDetailFiltersModelClass(e){if(!e)return null;const t={};for(const n of e)"query"===n.in&&(t[n.name]=n);return Object.keys(t).length>0?this.modelsResolver.bySchemaObject({properties:t}):null}getViews(e){const t=new Map,n=e[this.dictionary.paths.name],i=Object.keys(n);i.sort();const s=e.info[R],c=[];for(const e of i){var p;const i=n[e],r=(0,a.pathToArray)(e),m=r.length,v=r.slice(0,-1),g=m>1?(0,a.joinPaths)(...v):null;let _=t.get(g);const b=this._getViewName(e),y={level:m,name:b,title:(0,a.capitalize)(b.replace(/_/g," "))};let w=null,C=null,S=null,k=null,F=!1,Z=null;const A=void 0!==i[R]?i[R]:s,T=e.format_keys().map((t=>{var n;const s=(null!==(n=i.parameters)&&void 0!==n?n:[]).find((e=>e.name===t));if(!s)throw new Error('Cannot find schema for param "'.concat(t,'" on view "').concat(e,'"'));return this.fieldsResolver.resolveField(s)})),P=c.find((t=>e.startsWith(t.path)));for(const n of Object.values(a.HttpMethods)){var f,h;const s=i[n];if(!s)continue;const d=s[this.dictionary.paths.operation_id.name],c=Object.values(null!==(f=s.parameters)&&void 0!==f?f:[]).find(M),p=c?this._getOperationModel(c):null,m=Object.keys(s.responses).find(V),v=s.responses[m],g="file"===(null===(h=v.schema)||void 0===h?void 0:h.type),_=this._getOperationModel(v),b=(0,a.mergeDeep)({method:n,requestModel:p,responseModel:_,isDeepNested:Boolean(P)},y,s,this.getOperationOptions(d,e,n));if(b["x-label"]&&(b.title=b["x-label"]),b.type!==a.ViewTypes.LIST){if(b.type===a.ViewTypes.PAGE)b.isFileResponse=g,C=new u.B4(b,null),C.filtersModelClass=this.getDetailFiltersModelClass(b.parameters),C.filtersModelClass&&C.actions.set("filter",{...this.dictionary.paths.operations.page.filters}),t.set(C.path,C);else if(b.type===a.ViewTypes.PAGE_NEW)k=new u.Uc(b,null),t.set(k.path,k);else if(b.type===a.ViewTypes.PAGE_EDIT)S=new u.W(b,null),t.set(S.path,S);else if(b.type===a.ViewTypes.PAGE_REMOVE)F=!0;else if(b.type===a.ViewTypes.ACTION){const i=!p||0===p.writableFields.length||p===l.NoModel,s=void 0!==b[O]?b[O]:i,r=b["x-require-confirmation"],o={name:b.name,title:b["x-title"]||b.title,method:n,path:e,requestModel:p,responseModel:_,isMultiAction:s,isEmpty:i,isFileResponse:g,hidden:b["x-hidden"],iconClasses:b["x-icons"]||b.iconClasses};if(i)o.confirmationRequired=r;else{b.action=o;const e=new u.kl(b,null),n={...this.dictionary.paths.operations.action.execute,title:b["x-action-name"]||b.title,confirmationRequired:r,isFileResponse:g};e.actions.set(n.name,n),o.appendFragment=(0,a.pathToArray)(e.path).last,o.view=e,t.set(e.path,e)}Z=o}}else{b.filters=this._generateFilters(e,b.parameters,_);const n=P?(0,a.joinPaths)(P.deepNestedParentView.path,"{".concat(P.pageView.pkParamName,"}"),r.last):e,i=new o.QuerySet(n,{[a.RequestTypes.LIST]:[null,_]},{},T);w=new u.Bv(b,i),t.set(e,w);const s=this.dictionary.paths.operations.list.filters;w.actions.set(s.name,s)}}const E=_,I=w,B=_&&_.type===a.ViewTypes.LIST,N=!I&&C,D=N&&!r[r.length-1].includes("{"),j=B&&N&&r[r.length-1].includes("{");if(j&&(_.objects.models[a.RequestTypes.RETRIEVE]=C.modelsList,C.objects=_.objects,S)){const e=S.isPartial?a.RequestTypes.PARTIAL_UPDATE:a.RequestTypes.UPDATE;_.objects.models[e]=S.modelsList,S.objects=_.objects}if(I&&k&&(w.objects.models[a.RequestTypes.CREATE]=k.modelsList,k.objects=w.objects),D&&(C.mixins.push(d),C.objects=new o.SingleEntityQueryset(C.path,{[a.RequestTypes.RETRIEVE]:C.modelsList},{},T),k&&(k.mixins.push(d),C.objects.models[a.RequestTypes.CREATE]=k.modelsList,k.objects=C.objects),S)){S.mixins.push(d);const e=S.isPartial?a.RequestTypes.PARTIAL_UPDATE:a.RequestTypes.UPDATE;C.objects.models[e]=S.modelsList,S.objects=C.objects}if(E&&I&&!w.hidden&&_.sublinks.set(w.params.name,{name:w.params.name,title:w.params.title,appendFragment:w.params.name}),A&&S&&C&&(t.delete(S.path),t.set(C.path,S),S.path=C.path,S.isEditStyleOnly=!0,C=S),E&&D&&!C.hidden&&_.sublinks.set(C.name,{name:C.name,title:C.title,href:C.path,isFileResponse:C.isFileResponse}),C&&j&&(_.pageView=C,C.listView=_,S&&(S.listView=_)),S){const e=(0,a.mergeDeep)({},this.dictionary.paths.operations.page_edit.save),t=(0,a.mergeDeep)({},this.dictionary.paths.operations.page_edit.reload);S.actions.set(e.name,e),S.actions.set(t.name,t)}if(S&&!A&&!S.hidden){const e=(0,a.mergeDeep)({view:S},this.dictionary.paths.operations.page.edit);C&&C.sublinks.set(e.name,e)}if(F){const e=this.dictionary.paths.operations.base;let t=(0,a.mergeDeep)({},null!=_&&_.actions.get("add")?e.nested_remove:e.remove);C&&C.actions.set(t.name,t),B&&_.multiActions.set(t.name,t)}if(k&&!k.hidden){const e=this.dictionary.paths.operations.page_new.save_new;k.actions.set(e.name,e);const t=N&&C||w||_;k.listView=t;const n=(0,a.mergeDeep)({},this.dictionary.paths.operations.list.new);if(t.sublinks.set(n.name,n),k.nestedAllowAppend){const e=(0,a.mergeDeep)({},this.dictionary.paths.operations.list.add);t.actions.set(e.name,e)}}if(!Z||!E||null!==(p=Z.view)&&void 0!==p&&p.hidden||(_.actions.set(Z.name,Z),Z.isMultiAction&&[a.ViewTypes.PAGE,a.ViewTypes.PAGE_EDIT].includes(_.type)&&_.listView&&(Z.isEmpty?_.listView.multiActions.set(Z.name,Z):_.listView.multiActions.set(Z.name,{...Z,component:x}))),j){const t=e.replace(/^\/|\/$/g,"").split("/").last.replace("{","").replace("}","");for(const e of[C,S])e&&(e.pkParamName=t)}if(S&&!S.isEditStyleOnly){const e=(0,a.mergeDeep)({},this.dictionary.paths.operations.page_edit.cancel);S.actions.set(e.name,e)}if(w&&w.subscriptionLabels&&(w.objects.listSubscriptionLabels=w.subscriptionLabels.slice()),w&&r.length>=3){const e=t.get("/".concat(r.slice(0,-2).join("/"),"/"));e instanceof u.Bv&&e.deepNestedViewFragment===r.last&&(w.deepNestedParentView=e,e.deepNestedView=w,delete w.filters.__deep_parent,delete e.filters.__deep_parent,w.isDeepNested=w,c.push(w))}B&&_.deepNestedParentView&&C.sublinks.set(_.name,{name:_.name,title:_.title,appendFragment:_.deepNestedParentView.deepNestedViewFragment})}return this._setNestedQuerysets(t),this._setParents(t),r.pp.emit("allViews.created",{views:t}),t}_generateFilters(e,t,n){const i={},a=Object.values(s().extend(!0,{},t)).filter((e=>!I.includes(e.name)));r.pp.emit("views[".concat(e,"].filters.beforeInit"),a);const o=a.map((e=>e.name));for(const e of a){const t=e.name;t.startsWith("__")&&(e.hidden=!0);const s=this.fieldsResolver.resolveField(e);if(s.model=n,t.endsWith("__not")){const e=t.slice(0,-5);o.includes(e)&&(s.translateFieldName=e)}i[t]=s}return i}_setNestedQuerysets(e){const t=new Map,n=Array.from(e.values()).filter((e=>e.type===a.ViewTypes.LIST)).sort(((e,t)=>e.level-t.level));for(const e of n){const n=e.objects.getResponseModelClass(a.RequestTypes.LIST).name;t.has(n)||t.set(n,e.objects)}const i=Array.from(e.values()).filter((e=>e instanceof u.Uc&&e.nestedAllowAppend)).map((e=>e.listView));for(const e of i){const n=e.objects.getResponseModelClass(a.RequestTypes.LIST).name,i=t.get(n);if(!i)throw new Error("Cannot find queryset for model: ".concat(n));e.nestedQueryset=i}}_setParents(e){for(const[t,n]of e){const i=e.get(t.replace(/[^/]+\/$/,""));i&&(n.parent=i,i.hidden&&(n.hidden=!0))}}generateViews(e){const t=this.getViews(e);if(!t.has("/")){const e=new u.G7({path:"/",routeName:"home"},null,[k]);t.set("/",e)}if(!t.has("*")){const e=new u.G7({path:"*",routeName:a.NOT_FOUND_ROUTE_NAME},null,[T]);e.showOperationButtons=!1,t.set("*",e)}return t}}},91577:function(e,t,n){n.d(t,{l:function(){return s}});var i=n(4942);n(21703),n(33948),n(60285),n(41637),n(62062);class s{constructor(e){let{isDebug:t,hostUrl:n,endpointUrl:s,projectName:a,projectVersion:r,fullVersion:o,fullUserVersion:l,isSuperuser:u,isStaff:d,schema:c,defaultPageLimit:p}=e;if((0,i.Z)(this,"isDebug",void 0),(0,i.Z)(this,"hostUrl",void 0),(0,i.Z)(this,"endpointUrl",void 0),(0,i.Z)(this,"projectName",void 0),(0,i.Z)(this,"projectVersion",void 0),(0,i.Z)(this,"fullVersion",void 0),(0,i.Z)(this,"fullUserVersion",void 0),(0,i.Z)(this,"isSuperuser",void 0),(0,i.Z)(this,"isStaff",void 0),(0,i.Z)(this,"schema",void 0),(0,i.Z)(this,"defaultPageLimit",void 0),(0,i.Z)(this,"staticPath",void 0),(0,i.Z)(this,"urls",void 0),!c)throw new TypeError("schema is required");this.schema=c,this.isDebug=null!=t?t:window.isDebug,this.hostUrl=new URL(null!=n?n:window.host_url),this.endpointUrl=new URL(null!=s?s:window.endpoint_url),this.projectName=null!=a?a:window.project_gui_name,this.projectVersion=null!=r?r:window.project_version,this.fullVersion=null!=o?o:window.gui_version,this.fullUserVersion=null!=l?l:window.gui_user_version,this.isSuperuser=null!=u?u:window.is_superuser,this.isStaff=null!=d?d:window.is_staff,this.staticPath=c.info["x-settings"].static_path,this.urls={login:c.info["x-settings"].login_url,logout:c.info["x-settings"].logout_url},this.defaultPageLimit=null!=p?p:c.info["x-page-limit"]}}},29526:function(e,t,n){n.r(t),n.d(t,{APIResponse:function(){return o},ApiConnector:function(){return l},StatusError:function(){return a},apiConnector:function(){return u}});var i=n(59198),s=n(4942);n(21703);class a extends Error{constructor(e,t){super(),(0,s.Z)(this,"status",void 0),(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"message",void 0),this.status=e,this.message="",this.data=t,"string"==typeof t?this.message=t:t&&"object"==typeof t&&"detail"in t&&(this.message=t.detail)}}n(33948),n(15306),n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(81299),n(57658),n(57640),n(9924);const r="caches"in window;class o{constructor(e){let{status:t,data:n,method:i,path:a,headers:r}=e;(0,s.Z)(this,"status",void 0),(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"method",void 0),(0,s.Z)(this,"path",void 0),(0,s.Z)(this,"headers",void 0),o.checkStatus(t,n),this.status=t,this.data=n,this.method=i,this.path=a,this.headers=null!=r?r:{}}static checkStatus(e,t){e>=200&&e<400||o.throwStatusError(e,t)}static throwStatusError(e,t){throw new a(e,t)}static async fromFetchResponse(e,t,n){let i={};try{i=await e.json()}catch(e){}return new o({status:e.status,data:i,path:n,method:t})}}class l{constructor(){(0,s.Z)(this,"appConfig",null),(0,s.Z)(this,"openapi",null),(0,s.Z)(this,"defaultVersion",null),(0,s.Z)(this,"endpointURL",null),(0,s.Z)(this,"headers",void 0),(0,s.Z)(this,"bulkCollector",{bulkParts:[]}),(0,s.Z)(this,"baseURL",null),(0,s.Z)(this,"_etagsCachePrefix",null),(0,s.Z)(this,"_etagsCacheName",null),this.headers={};const e=(0,i.getCookie)("csrftoken");e&&(this.headers["X-CSRFToken"]=e)}initConfiguration(e){var t;this.appConfig=e,this.openapi=e.schema,this.defaultVersion=this.openapi.info.version,this.endpointURL=String(e.endpointUrl);const n=null===(t=this.openapi.basePath)||void 0===t?void 0:t.replace(this.defaultVersion,"").replace(/\/$/,"");return this.baseURL="".concat(this.openapi.schemes[0],"://").concat(this.openapi.host).concat(n),r&&(this._etagsCachePrefix="etags-cache",this._etagsCacheName="".concat(this._etagsCachePrefix,"-").concat(this.appConfig.fullUserVersion),this._removeOldEtagsCaches()),this}async _removeOldEtagsCaches(){for(const e of await window.caches.keys())e.startsWith(this._etagsCachePrefix)&&e!==this._etagsCacheName&&await window.caches.delete(e)}async makeRequest(e){if(e.useBulk){const t={method:e.method,path:e.path};e.version&&(t.version=e.version);const n=(0,i.makeQueryString)(e.query,!0);n&&(t.query=n),e.headers&&(t.headers=e.headers),e.data&&(t.data=e.data);const s=await this.bulkQuery(t);return new o(s)}{const t={...this.headers,...e.headers};let n;void 0!==e.data&&(e.data instanceof FormData?n=e.data:(n=JSON.stringify(e.data),t["Content-Type"]="application/json"));const s=Array.isArray(e.path)?e.path.join("/"):e.path.replace(/^\//,""),a="".concat(this.getFullUrl(s)).concat((0,i.makeQueryString)(e.query)),r=await fetch(a,{method:e.method,headers:t,body:n});return e.rawResponse?r:await o.fromFetchResponse(r,e.method,a)}}getFullUrl(e){return e=e.replace(/^\/|\/$/g,""),"".concat(this.baseURL,"/").concat(this.defaultVersion,"/").concat(e,"/")}_bulkItemToRequest(e){let{version:t=this.defaultVersion,method:n,path:s,query:a="",headers:r}=e;return s=Array.isArray(s)?s.join("/"):s.replace(/^\/|\/$/g,""),new Request("".concat(this.baseURL,"/").concat(t,"/").concat(s,"/").concat((0,i.makeQueryString)(a)),{method:n,headers:r})}_bulkResultItemToResponse(e){let{data:t,status:n,headers:i}=e;return new Response(JSON.stringify(t),{status:n,headers:{"Content-Type":"application/json",...i}})}async sendCachedBulk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.BulkType.SIMPLE;const n=new Map,s=await window.caches.open(this._etagsCacheName);for(let t=0;t<e.length;t++){const i=e[t],a=this._bulkItemToRequest(i),r=await s.match(a);r&&(n.set(t,r.json().then((e=>({status:r.status,data:e,headers:new Proxy(r.headers,{get(e,t,n){return t in e||"symbol"==typeof t?Reflect.get(e,t,n):e.get(t)}})})))),i.headers||(i.headers={}),i.headers.HTTP_IF_NONE_MATCH=r.headers.get("ETag"))}const a=await this.sendBulk(e,t);for(let t=0;t<a.length;t++){const i=a[t];if(304===i.status&&n.has(t)&&(a[t]=await n.get(t)),"get"===i.method&&i.status<300&&i.headers.ETag)try{s.put(this._bulkItemToRequest(e[t]),this._bulkResultItemToResponse(i))}catch(e){console.warn(e)}}return a}async sendBulk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.BulkType.SIMPLE;const n=await fetch(this.endpointURL,{method:t,headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(e)});return await n.json()}bulkQuery(e){var t;this.bulkCollector.timeoutId&&clearTimeout(this.bulkCollector.timeoutId);const n={},s=new Promise(((e,t)=>{n.resolve=e,n.reject=t}));return this.bulkCollector.bulkParts.push({data:e,promise:s,callbacks:n}),this.bulkCollector.timeoutId=setTimeout((()=>{this._sendCollectedBulks()}),null!==(t=i.guiLocalSettings.get("guiApi.real_query_timeout"))&&void 0!==t?t:100),s}async _sendCollectedBulks(){const e=[...this.bulkCollector.bulkParts];this.bulkCollector.bulkParts=[];const t=e.map((e=>e.data));try{let n;if(this._etagsCacheName)try{n=await this.sendCachedBulk(t)}catch{n=await this.sendBulk(t)}else n=await this.sendBulk(t);for(const[t,i]of n.entries())try{o.checkStatus(i.status,i.data),e[t].callbacks.resolve(i)}catch(n){e[t].callbacks.reject(i)}}catch(t){!function(e,t){for(const n of e)n.callbacks.reject(t)}(e,t)}}getHostUrl(){const e=this.openapi;return"".concat(e.schemes[0],"://").concat(e.host)}getTimeZone(){var e;return null===(e=this.openapi)||void 0===e?void 0:e.info["x-settings"].time_zone}getStaticPath(){var e;return null===(e=this.openapi)||void 0===e?void 0:e.info["x-settings"].static_path}getUserId(){var e;return null===(e=this.openapi)||void 0===e?void 0:e.info["x-user-id"]}loadUser(){return this.bulkQuery({path:["user",this.getUserId()],method:"get"}).then((e=>e.data))}}const u=new l;i.guiLocalSettings.setIfNotExists("guiApi.real_query_timeout",100)},71242:function(e,t,n){n.d(t,{g:function(){return S}});var i=n(4942),s=(n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948),n(88921),n(96248),n(27561),n(13599),n(11477),n(64362),n(15389),n(3440),n(90401),n(66244),n(45164),n(89772),n(91238),n(88910),n(54837),n(87485),n(56767),n(76651),n(61437),n(63252),n(35285),n(17454),n(39865),n(31672),n(2490),n(59461),n(21703),n(26574)),a=n.n(s),r=n(67476),o=(n(57640),n(9924),n(57658),n(90548)),l=n(59198),u=n(56716);class d{constructor(e){(0,i.Z)(this,"app",void 0),this.app=e}get currentView(){var e;return null===(e=this.app.router.currentRoute.meta)||void 0===e?void 0:e.view}execute(e){var t;const{action:n,instance:i,instances:s,skipConfirmation:a=!1,fromList:r=!1,disablePopUp:o=!1}=e;if(n.confirmationRequired&&!a)return this.app.initActionConfirmationModal({title:n.title}).then((()=>(e.skipConfirmation=!0,this.execute(e))));if(s){if(n.handlerMany)return n.handlerMany({action:n,instances:s,disablePopUp:o}),Promise.resolve();if(n.isEmpty)return Promise.all(s.map((e=>this.executeEmpty({action:n,instance:e,redirect:!1,disablePopUp:o}))));throw new Error("Cannot execute action ".concat(n.name," on ").concat(s.length," instances"))}if("function"==typeof n.handler)return n.handler({action:n,instance:i,fromList:r,disablePopUp:o}),Promise.resolve();if(n.isEmpty)return this.executeEmpty({action:n,instance:i,disablePopUp:o});if(n.appendFragment)return this.currentView.type===l.ViewTypes.LIST&&i?(0,l.openPage)((0,l.joinPaths)(this.app.router.currentRoute.path,i.getPkValue(),n.appendFragment)):(0,l.openPage)((0,l.joinPaths)(this.app.router.currentRoute.path,n.appendFragment));const u=n.href||(null===(t=n.view)||void 0===t?void 0:t.path);if(u)return this.app.router.push((0,l.formatPath)(u,this.app.router.currentRoute.params,i));throw new Error("Cannot execute action ".concat(n.name," on instance ").concat(i))}async executeEmpty(e){let{action:t,instance:n,redirect:i=!0,disablePopUp:s=!1}=e;const a=(0,l.formatPath)(t.path,this.app.router.currentRoute.params,n);try{let e;if(t.isFileResponse){const e=await this.app.api.makeRequest({method:t.method,path:a,rawResponse:!0});await(0,l.downloadResponse)(e)}else e=await this.app.api.makeRequest({useBulk:!0,method:t.method,path:a});var r;if(s||o.guiPopUp.success(u.a.t(o.pop_up_msg.instance.success.executeEmpty,[u.a.t(t.title),(null==n?void 0:n.getViewFieldString())||u.a.t(this.currentView.title),(0,l.parseResponseMessage)(null===(r=e)||void 0===r?void 0:r.data)])),t.onAfter&&t.onAfter({app:this.app,action:t,instance:n,response:e}),i&&e&&e.data)try{const n=(0,l.getRedirectUrlFromResponse)(e.data,t.responseModel);if(n)return void(0,l.openPage)(n)}catch(e){console.log(e)}}catch(e){const n=this.app.error_handler.errorToString(e),i=u.a.ts(o.pop_up_msg.instance.error.executeEmpty,[u.a.t(t.name),u.a.t(this.currentView.title),n,(0,l.parseResponseMessage)(e.data)]);this.app.error_handler.showError(i,n)}}async executeWithData(e){let t,{action:n,instance:i,method:s,path:a,throwError:r=!1,disablePopUp:d=!1,sendAll:c}=e;s||(s=n.method);try{t=i.sandbox.validate()}catch(e){if(this.app.error_handler.defineErrorAndShow(e),r)throw e;return}const p=(0,l.emptyInnerData)();for(const e of i._fields.values())(c||e.required||i.sandbox.changedFields.has(e.name))&&(p[e.name]=t[e.name]);try{let e;if(n.isFileResponse){const e=await this.app.api.makeRequest({method:s,path:null!=a?a:(0,l.formatPath)(n.path,this.app.router.currentRoute.params),data:t,rawResponse:!0});await(0,l.downloadResponse)(e)}else e=await this.app.api.makeRequest({method:s,path:null!=a?a:(0,l.formatPath)(n.path,this.app.router.currentRoute.params),data:t,useBulk:i.shouldUseBulk(s)});var f;return d||o.guiPopUp.success(u.a.t(o.pop_up_msg.instance.success.execute,[u.a.t(this.currentView.title),(0,l.parseResponseMessage)(null===(f=e)||void 0===f?void 0:f.data)])),n.onAfter&&n.onAfter({app:this.app,action:n,instance:i,response:e}),e}catch(e){const t=i.parseModelError(e.data);if(this.app.error_handler.showError(u.a.t(o.pop_up_msg.instance.error.execute,[u.a.t(this.currentView.title),this.app.error_handler.errorToString(t||e)])),r)throw t||e}}}var c=n(29526);class p{constructor(e,t){(0,i.Z)(this,"api",void 0),(0,i.Z)(this,"cache",void 0),this.api=e,this.cache=t}loadLanguages(){return this.api.bulkQuery({path:"/_lang/",method:l.HttpMethods.GET}).then((e=>e.data.results))}async getLanguages(){const e=await this.cache.getJson("languages");if(e)return e;const t=await this.loadLanguages();return await this.cache.set("languages",JSON.stringify(t)),t}loadTranslations(e){return this.api.bulkQuery({path:["_lang",e],method:l.HttpMethods.GET}).then((e=>e.data.translations))}async getTranslations(e){if(this.cache){const t=await this.cache.getJson("translations."+e);if(t)return t}const t=await this.loadTranslations(e);return await this.cache.set("translations."+e,JSON.stringify(t)),t}}var f=n(35853),h=n(94363),m=n(50123),v=n(77656),g=n(8366),_=n(76445),b=n(79806),y=n(64765),w=n(56039),x=n(92649),C=n(60113);class S{constructor(e,t,n){(0,i.Z)(this,"config",void 0),(0,i.Z)(this,"vue",void 0),(0,i.Z)(this,"cache",void 0),(0,i.Z)(this,"schema",void 0),(0,i.Z)(this,"fieldsResolver",void 0),(0,i.Z)(this,"modelsResolver",void 0),(0,i.Z)(this,"translationsManager",void 0),(0,i.Z)(this,"qsResolver",void 0),(0,i.Z)(this,"error_handler",void 0),(0,i.Z)(this,"viewsTree",null),(0,i.Z)(this,"global_components",void 0),(0,i.Z)(this,"centrifugoClient",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"i18n",void 0),(0,i.Z)(this,"api",void 0),(0,i.Z)(this,"languages",void 0),(0,i.Z)(this,"rawUser",void 0),(0,i.Z)(this,"user",void 0),(0,i.Z)(this,"appRootComponent",void 0),(0,i.Z)(this,"additionalRootMixins",void 0),(0,i.Z)(this,"views",new Map),(0,i.Z)(this,"store",void 0),(0,i.Z)(this,"userSettingsStore",void 0),(0,i.Z)(this,"localSettingsStore",null),(0,i.Z)(this,"localSettingsModel",void 0),(0,i.Z)(this,"autoUpdateController",void 0),(0,i.Z)(this,"actions",void 0),(0,i.Z)(this,"rootVm",null),(0,i.Z)(this,"application",null),globalThis.__currentApp=this,this.config=e,this.vue=null!=n?n:globalThis.Vue,this.schema=e.schema,this.router=null,this.cache=t,this.i18n=u.a,this.api=c.apiConnector.initConfiguration(e),this.translationsManager=new p(c.apiConnector,t),this.centrifugoClient=function(e,t){if(!e)return null;const n=new(a())(e);return t&&n.setToken(t),n}(this.schema.info["x-centrifugo-address"],this.schema.info["x-centrifugo-token"]),this.error_handler=new o.ErrorHandler,this.languages=null,this.rawUser=null,this.user=null,this.global_components=m.b,this.appRootComponent=f.Z,this.additionalRootMixins=[],this.fieldsResolver=new v.FieldsResolver(this.config.schema),(0,v.addDefaultFields)(this.fieldsResolver),this.modelsResolver=new g.ModelsResolver(this.fieldsResolver,this.config.schema),this.qsResolver=null,this.store=(0,r.defineStore)("global",w.GLOBAL_STORE)(w.pinia),this.autoUpdateController=new h.AutoUpdateController(this.centrifugoClient,this.schema.info["x-subscriptions-prefix"]),this.localSettingsModel=null,this.actions=new d(this),y.pp.emit(y.l5,this)}async start(){var e;let t;this.centrifugoClient&&this.centrifugoClient.connect();try{t=this.modelsResolver.byReferencePath("#/definitions/_UserSettings")}catch(e){console.error("Cannot find user settings model",e),t=this.modelsResolver.bySchemaObject({})}this.userSettingsStore=(0,w.createUserSettingsStore)(this.api,t)(w.pinia);const[n,i,s]=await Promise.all([this.translationsManager.getLanguages(),this.translationsManager.getTranslations(this.i18n.locale),this.api.loadUser(),this.userSettingsStore.init()]);this.languages=n,this.i18n.messages[this.i18n.locale]=i,this.rawUser=s,this.setLanguage(this.i18n.locale),this.afterInitialDataBeforeMount();const a=null===(e=this.views.get("/user/"))||void 0===e?void 0:e.objects,r=null==a?void 0:a.getResponseModelClass(l.RequestTypes.RETRIEVE);return this.user=new r(this.rawUser,a),this.global_components.registerAll(this.vue),this.prepare()}getCurrentViewPath(){var e;const t=null===(e=this.router.currentRoute.meta)||void 0===e?void 0:e.view;return null==t?void 0:t.path}afterInitialDataBeforeMount(){this.generateDefinitionsModels(),this.views=new C.Z(void 0,this.modelsResolver,this.fieldsResolver).generateViews(this.config.schema),this.viewsTree=new x.ViewsTree(this.views),this.qsResolver=new _.QuerySetsResolver(this.viewsTree),this.setNestedViewsQuerysets()}generateDefinitionsModels(){for(const e of Object.keys(this.config.schema.definitions))this.modelsResolver.byReferencePath("#/definitions/".concat(e));y.pp.emit(y.YR,{app:this,models:this.modelsResolver._definitionsModels})}changeAppRootComponent(e){this.appRootComponent=e}resetAppRootComponent(){this.appRootComponent=f.Z}prepareViewsModelsFields(){for(const[e,t]of this.views){const n=new Set;if(t.objects)for(const e of Object.values(t.objects.models))if(Array.isArray(e))for(const t of e)n.add(t);else n.add(e);if(t.modelsList)for(const e of t.modelsList)e&&n.add(e);for(const t of n)if(t)for(const n of t.fields.values())n.prepareFieldForView(e);if(t instanceof x.ListView&&t.filters)for(const n of Object.values(t.filters))n.prepareFieldForView(e);if(t instanceof x.PageView&&t.filtersModelClass)for(const n of t.filtersModelClass.fields.values())n.prepareFieldForView(e)}}setNestedViewsQuerysets(){for(const e of this.views.values())if(e instanceof x.PageNewView&&e.nestedAllowAppend){const t=e.listView,n=t.objects.getResponseModelClass(l.RequestTypes.LIST).name;try{t.nestedQueryset=this.qsResolver.findQuerySetForNested(n,t.path)}catch(n){console.warn(n),e.nestedAllowAppend=!1,t.actions.delete("add")}}}setLanguage(e){return this._prefetchTranslation(e).then((()=>(this.i18n.locale=e,y.pp.emit("app.language.changed",{lang:e}),document.documentElement.setAttribute("lang",e),document.cookie="lang=".concat(e),e)))}_prefetchTranslation(e){var t;return(null!==(t=this.languages)&&void 0!==t?t:[]).find((t=>t.code===e))?this.translationsManager.getTranslations(e).then((t=>this.i18n.setLocaleMessage(e,t))):Promise.reject(!1)}initLocalSettings(){this.localSettingsModel=this.modelsResolver.bySchemaObject({},"_LocalSettings"),this.localSettingsStore=(0,w.createLocalSettingsStore)(window.localStorage,"localSettings",this.localSettingsModel)(w.pinia),this.localSettingsStore.load()}prepare(){y.pp.emit(y.Ut,{app:this}),this.prepareViewsModelsFields(),this.initLocalSettings();const e=new b.RouterConstructor(this.views);y.pp.emit("app.beforeInitRouter",{routerConstructor:e}),this.router=e.getRouter();const t=this.vue;t.use(this.router.constructor),t.prototype.$app=this,t.prototype.$u=l,t.prototype.$st=u.a.st.bind(u.a),t.prototype.$ts=u.a.ts.bind(u.a),this.rootVm=new t({mixins:[this.appRootComponent,...this.additionalRootMixins],propsData:{info:this.config.schema.info,x_menu:this.config.schema.info["x-menu"],x_docs:this.config.schema.info["x-docs"]},pinia:w.pinia,router:this.router,i18n:this.i18n}),this.application=this.rootVm,y.pp.emit(y.rf,{app:this}),l.__setApp(this)}get darkModeEnabled(){var e,t;return null!==(e=null===(t=this.userSettingsStore)||void 0===t?void 0:t.settings.main.dark_mode)&&void 0!==e&&e}mount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#RealBody";if(!this.rootVm)throw new Error("Please initialize app first");this.rootVm.$mount(e)}initActionConfirmationModal(e){let{title:t}=e;return new Promise((e=>{var n;null!==(n=this.rootVm)&&void 0!==n&&n.appModals&&this.rootVm.appModals.initActionConfirmationModal((()=>e()),t)}))}openReloadPageModal(){var e;null!==(e=this.rootVm)&&void 0!==e&&e.appModals&&this.rootVm.appModals.openReloadPageModal()}}},94363:function(e,t,n){n.r(t),n.d(t,{AutoUpdateController:function(){return r},ComponentWithAutoUpdate:function(){return u},useAutoUpdate:function(){return c}});var i=n(4942),s=(n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948),n(57658),n(17922),n(57640),n(9924),n(15581),n(2490),n(34514),n(13876)),a=n(59198);class r{constructor(e,t){(0,i.Z)(this,"centrifugo",void 0),(0,i.Z)(this,"isStarted",!1),(0,i.Z)(this,"timeoutId",void 0),(0,i.Z)(this,"timerSubscribers",new Map),(0,i.Z)(this,"bulkedActions",[]),(0,i.Z)(this,"nextBulkExecutionPromise",Promise.resolve()),(0,i.Z)(this,"centrifugoSubscribers",new Map),(0,i.Z)(this,"channelSubscriptions",new Map),(0,i.Z)(this,"channelSubscribers",new Map),(0,i.Z)(this,"subscriptionsPrefix",void 0),this.centrifugo=e,this.subscriptionsPrefix=null!=t?t:""}async executeCallbacks(e){const t=[];for(const n of e)t.push(n.callback());const n=await Promise.allSettled(t);for(const e of n)"rejected"===e.status&&console.warn("Auto update callback failed",e.reason)}subscribe(e){var t;const n=e.id;if("timer"===e.type)return void this.timerSubscribers.set(n,e);const i={id:e.id,type:"centrifugo",pk:void 0===e.pk?void 0:String(e.pk),callback:e.callback,channels:null!==(t=e.channels)&&void 0!==t?t:e.labels.map((e=>this.subscriptionsPrefix?"".concat(this.subscriptionsPrefix,".").concat(e):e))};this.centrifugoSubscribers.set(n,i);for(const e of i.channels){let t=this.channelSubscriptions.get(e);t||(t={sub:this.centrifugo.subscribe(e),count:0},this.channelSubscriptions.set(e,t),t.sub.on("publish",(t=>this.onCentrifugoUpdate(e,t)))),t.count=t.count+1;let n=this.channelSubscribers.get(e);n||(n=new Map,this.channelSubscribers.set(e,n));let s=n.get(i.pk);s||(s=[],n.set(i.pk,s)),s.push(i)}}unsubscribe(e){if(this.timerSubscribers.has(e))return void this.timerSubscribers.delete(e);const t=this.centrifugoSubscribers.get(e);if(t){for(const e of t.channels){const n=this.channelSubscribers.get(e);if(null!=n&&n.has(t.pk)){const i=n.get(t.pk),s=i.indexOf(t);-1!==s&&(i.splice(s,1),0===i.length&&n.delete(t.pk)),0===n.size&&this.channelSubscribers.delete(e)}const i=this.channelSubscriptions.get(e);i&&(i.count=i.count-1,0===i.count&&(i.sub.unsubscribe(),i.sub.removeAllListeners(),this.channelSubscriptions.delete(e)))}this.centrifugoSubscribers.delete(e)}}start(){globalThis.DISABLE_AUTO_UPDATE||(this.isStarted=!0,this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((async()=>{"hidden"!==s.state()&&await this.updateTimerData(),this.isStarted&&this.start()}),this.getTimerInterval()))}stop(){this.isStarted=!1,Array.from(this.centrifugoSubscribers.keys()).forEach((e=>this.unsubscribe(e)))}getTimerInterval(){return a.guiLocalSettings.get("page_update_interval")||5e3}updateTimerData(){return this.executeCallbacks(this.timerSubscribers.values())}bulkInvoke(e){if(!e)return;let t=!1;for(const n of e)this.bulkedActions.includes(n)||(t=!0,this.bulkedActions.push(n));t&&(this.nextBulkExecutionPromise=this.nextBulkExecutionPromise.then((()=>(0,a.randomSleep)(100,1e3))).then((()=>{const e=this.bulkedActions.slice();return this.bulkedActions=[],this.executeCallbacks(e)})))}onCentrifugoUpdate(e,t){let{data:n}=t;const i=this.channelSubscribers.get(e);i&&(this.bulkInvoke(i.get(void 0)),void 0!==(null==n?void 0:n.pk)&&this.bulkInvoke(i.get(String(n.pk))))}}var o=n(70538),l=n(99100),u=(0,o.defineComponent)({mixins:[l.Z],computed:{autoUpdatePK(){if("function"==typeof this.getInstancePk)return this.getInstancePk()},autoupdateSubscriptionLabels(){var e;return null===(e=this.view)||void 0===e?void 0:e.subscriptionLabels},autoupdateTriggerType(){var e;return null!==(e=this.$app.centrifugoClient)&&void 0!==e&&e.isConnected()&&this.autoupdateSubscriptionLabels?"centrifugo":"timer"}},beforeDestroy(){this.stopAutoUpdate()},methods:{autoUpdateCallback(){return this.updateData},getAutoUpdateAction(){const e=this.autoupdateSubscriptionLabels;return"centrifugo"===this.autoupdateTriggerType&&e?{id:this.componentId,callback:this.autoUpdateCallback(),labels:e,pk:this.autoUpdatePK,type:"centrifugo"}:{id:this.componentId,callback:this.autoUpdateCallback(),type:"timer"}},startAutoUpdate(){this.$app.autoUpdateController.subscribe(this.getAutoUpdateAction())},stopAutoUpdate(){this.$app.autoUpdateController.unsubscribe(this.componentId)}}});async function d(){}function c(e){var t;let{callback:n=d,labels:i,pk:s,startOnMount:r=!0}=e;const l=(0,a.getApp)(),u=(0,a.getUniqueId)(),c=null!==(t=l.centrifugoClient)&&void 0!==t&&t.isConnected()&&i?{id:u,callback:n,labels:i,type:"centrifugo"}:{id:u,callback:n,type:"timer"};function p(){c.callback!==d?l.autoUpdateController.subscribe({...c,pk:"function"==typeof s?s():s}):console.warn("Auto update callback has not been set",c)}function f(){l.autoUpdateController.unsubscribe(u)}return null!==(0,o.getCurrentInstance)()?(r&&(0,o.onMounted)(p),(0,o.onBeforeUnmount)(f)):(0,o.onScopeDispose)(f),{start:p,stop:f,setCallback:function(e){c.callback=e},setPk:function(e){s=e}}}},10860:function(e,t,n){n.r(t),t.default=e=>e.setLanguage("vi",{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Biên tập viên",Preview:"Lượt xem",Headings:"Tiêu đề",Paragraph:"Đoạn văn",Bold:"Béo",Italic:"Chữ in nghiêng",Strike:"Vượt qua",Code:"Mật mã",Line:"Đường kẻ",Blockquote:"Trích dẫn","Unordered list":"Danh sách rối loạn","Ordered list":"Danh sách được yêu cầu",Task:"Đánh dấu",Indent:"Tăng thụt",Outdent:"Giảm thụt","Insert link":"Chèn liên kết","Insert CodeBlock":"Chèn khối mã","Insert table":"Chèn bảng","Insert image":"Chèn hình ảnh",Heading:"Tiêu đề","Image URL":"Hình ảnh URL","Select image file":"Chọn tệp hình ảnh","Choose a file":"Chọn","No file":"Không có tập tin",Description:"Sự miêu tả",OK:"Tốt",More:"Hơn",Cancel:"Hủy bỏ",File:"Tập tin",URL:"URL","Link text":"văn bản liên kết","Add row to up":"Thêm dòng lên","Add row to down":"Thêm dòng xuống","Add column to left":"Thêm cột bên trái","Add column to right":"Thêm cột ở bên phải","Remove row":"Xóa một hàng","Remove column":"Tháo cột","Align column to left":"Căn chỉnh","Align column to center":"Cho thuê trung tâm","Align column to right":"Căn chỉnh","Remove table":"Xóa bảng","Would you like to paste as table?":"Bạn có muốn chèn dưới dạng bảng không?","Text color":"Văn bản màu","Auto scroll enabled":"Tự động -Boiling được bật","Auto scroll disabled":"Tự động -Boiling bị vô hiệu hóa","Choose language":"Chọn một ngôn ngữ"})},40151:function(e,t,n){n.d(t,{Z:function(){return c},s:function(){return p}}),n(33948),n(57640),n(9924),n(57658),n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33792),n(31672),n(2490),n(59461),n(99244),n(74326),n(82499);var i=n(56716);n(88449),n(59849),n(21703);class s extends Error{constructor(e,t){super("Instance with pk: ".concat(e," not found in queryset with url: ").concat(t.url))}}class a{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.queryset=e,this.filterName=t,this.filterFieldName=n,this._queries=new Map}query(e){let t;const n=new Promise(((e,n)=>t={resolve:e,reject:n}));return e=String(e),this._queries.has(e)||this._queries.set(e,[]),this._queries.get(e).push(t),n}async execute(){if(0===this._queries.size)return;const e=this._queries;this._queries=new Map;const t=Array.from(e.keys()),n=this.queryset.filter({[this.filterName]:t.join(","),limit:t.length});let i;try{i=await n.items()}catch(t){for(const n of e.values())for(const e of n)e.reject(t);throw t}for(const t of i){const n=String(t._data[this.filterFieldName]);if(e.has(n)){for(const i of e.get(n))i.resolve(t);e.delete(n)}}for(const[t,n]of e)for(const e of n)e.reject(new s(t,this.queryset))}}var r=n(59198),o=n(97348),l=n(38527),u=n(38191),d=n(88251);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return Promise.resolve();const n=e[0].constructor;return f(e,Array.from(n.fields.values()),t)}function p(e,t,n){if(n||(n=t.getValueFetchQs((0,r.getApp)().router.currentRoute.meta.view.path)),!n)return Promise.resolve(e);const s=new a(n.clone({prefetchEnabled:!1}),t.filterName,t.filterFieldName),o=e.map((e=>"number"==typeof e||"string"==typeof e?s.query(e).catch((()=>{const s=new(n.getResponseModelClass(r.RequestTypes.LIST))({[t.valueField]:e,[t.viewField]:i.a.t(u.FKField.NOT_FOUND_TEXT)});return s.__notFound=!0,s})):Promise.resolve(e)));return s.execute(),Promise.all(o)}function f(e,t,n){const i=[];for(const s of t)!h(s)||!s.usePrefetch&&null!=n&&n.isPrefetch?s instanceof o.ArrayField?i.push(v(s,e,n)):s instanceof l.DynamicField?i.push(g(s,e,n)):s instanceof d.a&&i.push(_(s,e,n)):i.push(m(s,e));return Promise.all(i)}function h(e){return"_canBeFetched"in e}async function m(e,t){const n=t.map((t=>e.getValue(t._data))),i=await p(n,e);for(let n=0;n<i.length;n++)t[n].sandbox.set({field:e.name,value:i[n],markChanged:!1})}async function v(e,t,n){const i=new Map;for(const n of t){const t=e._deserializeValue(n._data),s=n.constructor;class a extends s{}a.fields=new Map(a.fields),a.fields.set(e.name,e.itemField);const o=t.map((t=>new a((0,r.createPropertyProxy)(n._data,e.name,t))));i.set(n,o)}const s=Array.from(i.values()).flat(),a=e.itemField;await f(s,[a],n);for(const[t,n]of i)t.sandbox.set({field:e.name,value:n.map((t=>e.getValue(t.sandbox.value))),markChanged:!1})}async function g(e,t,n){const i=new Map;for(const n of t){const t=e.getRealField(n.sandbox.value),s=Array.from(i.keys()).find((e=>t.isEqual(e)));s?i.get(s).push(n):i.set(t,[n])}const s=Array.from(i.entries()).map((e=>{let[t,i]=e;return f(i,[t],n)}));return Promise.all(s)}async function _(e,t,n){const i=e.itemsModel;for(const n of t){var s;const t=null!==(s=e.getValue(n._data))&&void 0!==s?s:[];n.sandbox.set({field:e.name,value:t.map((e=>new i(e))),markChanged:!1})}return c(t.flatMap((t=>e.getValue(t.sandbox.value))),n)}},97348:function(e,t,n){n.r(t),n.d(t,{ArrayField:function(){return pe},ArrayFieldEdit:function(){return A},ArrayFieldMixin:function(){return E}}),n(57658),n(57640),n(9924);var i=n(70538),s=n(87444),a=function(){var e=this,t=e._self._c;return t("div",[t("select",{ref:"select",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{multiple:""}}),e._v(" "),e.showItemField?t("div",{staticClass:"item-field-wrapper",staticStyle:{padding:"0.5rem"}},[t("button",{staticClass:"btn btn-danger",on:{click:e.closeItemField}},[t("i",{staticClass:"fas fa-ban"})]),e._v(" "),t(e.field.itemField.component,{tag:"component",staticClass:"flex-grow-1",attrs:{field:e.field.itemField,data:e.newValueData,type:"edit","hide-title":""},on:{"set-value":e.setNewValue}}),e._v(" "),t("button",{staticClass:"btn btn-primary",on:{click:e.addValue}},[t("i",{staticClass:"fas fa-plus"})])],1):e._e()])};a._withStripped=!0,n(31672),n(2490),n(59461);var r=n(19755),o=n.n(r),l=n(59198);const u=(0,l.createUniqueIdGenerator)();var d={name:"ArrayFieldEdit",mixins:[s.BaseFieldContentEdit],data(){return{showItemField:!1,newValue:void 0,internalValues:(this.value||[]).map((e=>({id:u(),value:e})))}},computed:{newValueData(){return{...this.data,[this.field.name]:this.currentValue}}},watch:{internalValues:function(e){this.$emit("set-value",e.map((e=>e.value)))}},mounted(){this.initSelect()},beforeDestroy(){this.destroySelect()},methods:{renderSelection(e){const t=this.internalValues.find((t=>e===t.id));return t.cachedContent||(t.vm||(t.vm=new Vue({parent:this,mixins:[this.field.itemField.component],propsData:{field:this.field.itemField,data:{[this.field.itemField.name]:t.value},type:"readonly",hideTitle:!0}}).$mount()),t.cachedContent=o()(t.vm.$el.outerHTML)),t.cachedContent},initSelect(){o()(this.$refs.select).select2({theme:window.SELECT2_THEME,data:this.internalValues.map((e=>({id:e.id,text:e.id,selected:!0}))),templateSelection:e=>this.renderSelection(e.id)}).on("select2:opening",(e=>{e.preventDefault(),this.openItemField()})).on("select2:unselect",(e=>{this.removeValue(e.params.data.id)}))},destroySelect(){o()(this.$refs.select).select2("destroy").off("select2:opening").off("select2:unselect")},openItemField(){this.newValue=this.field.itemField.getEmptyValue(),this.showItemField=!0},closeItemField(){this.showItemField=!1,this.newValue=null},setNewValue(e){let{value:t}=e;this.newValue=t},addValue(){const e=u(),t=this.newValue;this.internalValues.push({id:e,value:t}),o()(this.$refs.select).append(new Option(e,e,!0,!0)).trigger("change"),this.closeItemField()},removeValue(e){var t,n;const i=this.internalValues.findIndex((t=>t.id===e));null===(t=this.internalValues[i])||void 0===t||null===(n=t.vm)||void 0===n||n.$destroy(),this.internalValues.splice(i)}}},c=n(93379),p=n.n(c),f=n(7795),h=n.n(f),m=n(90569),v=n.n(m),g=n(3565),_=n.n(g),b=n(19216),y=n.n(b),w=n(44589),x=n.n(w),C=n(57761),S={};S.styleTagTransform=x(),S.setAttributes=_(),S.insert=v().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=y(),p()(C.Z,S),C.Z&&C.Z.locals&&C.Z.locals;var k=n(74246),F={};F.styleTagTransform=x(),F.setAttributes=_(),F.insert=v().bind(null,"head"),F.domAPI=h(),F.insertStyleElement=y(),p()(k.Z,F),k.Z&&k.Z.locals&&k.Z.locals;var Z=n(51900),A=(0,Z.Z)(d,a,[],!1,null,"dd01e5fc",null).exports;const T=["textarea","uri"];function P(e){return(0,i.defineComponent)({props:s.FieldReadonlyPropsDef,emits:s.FieldReadonlyEmitsDef,setup(t,n){let{emit:s}=n;function a(n,a){var r;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.h)(null===(r=t.field.itemField)||void 0===r?void 0:r.getComponent(),{props:{field:t.field.itemField,data:{...t.data,[t.field.name]:n},type:e,hideTitle:!0},on:{"set-value":e=>function(e,n){var a;const r=null!==(a=t.value)&&void 0!==a?a:[];(0,i.set)(r,n,e.value),s("set-value",r,e)}(e,a)},...o})}return"object"===(r=t.field.itemField).type||"array"===r.type||r.format&&T.includes(r.format)?()=>{var e,n;return n=null!==(e=t.value)&&void 0!==e?e:[],(0,i.h)("div",{staticClass:"row"},n.map(((e,t)=>(0,i.h)("div",{staticClass:"col-12"},[a(e,t)]))))}:()=>{var e;return function(e){const t=[];for(let n=0;n<e.length;n++)t.push(a(e[n],n,{style:"display: inline-block;"})),n+1<e.length&&t.push(", ");return(0,i.h)("div",{},t)}(null!==(e=t.value)&&void 0!==e?e:[])};var r}})}const E=(0,i.defineComponent)({components:{field_content_readonly:P("readonly"),field_content_edit:A,field_list_view:P("list")},mixins:[s.BaseFieldMixin]});var V=n(4942),M=(n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948),n(50887)),I=n(38191),R=n(76274),O=n(53259),B=n(2907),N=n(64765),D=n(17780),j=n(14175),L=n(86767),q={};q.styleTagTransform=x(),q.setAttributes=_(),q.insert=v().bind(null,"head"),q.domAPI=h(),q.insertStyleElement=y(),p()(L.Z,q),L.Z&&L.Z.locals&&L.Z.locals;const $=(0,i.defineComponent)({name:"StringArrayFieldEdit",props:{field:{type:Object,required:!0},value:{type:Array,default:void 0},data:{type:Object,default:void 0},hideable:{type:Boolean,required:!1,default:!1}},data(){return{itemsValidator:void 0}},render(){const e=[(0,i.h)(D.Z,{props:{value:this.value||[],unique:this.field.uniqueItems,validator:this.itemsValidator},on:{change:e=>this.$emit("set-value",e)},class:"tags-selector"})];return this.hideable&&e.push((0,i.h)(j.eX,{nativeOn:{click:e=>this.$emit("hide-field",e)}})),(0,i.h)("div",{class:"input-group"},e)}}),U=(0,i.defineComponent)({components:{field_content_edit:$},mixins:[E],mounted(){(0,l.stopEnterPropagation)(this.$el)},beforeDestroy(){(0,l.resumeEnterPropagation)(this.$el)}});var H=function(){var e=this._self._c;return this._self._setupProxy,e("select",{ref:"select",staticStyle:{width:"100%"},attrs:{multiple:""}})};H._withStripped=!0;var G=n(56430),z=(0,i.defineComponent)({__name:"ChoicesArrayFieldEdit",props:{field:{type:Object,required:!0},data:{type:Object,required:!0},value:{type:Array,default:()=>[]}},emits:["set-value"],setup(e,t){let{emit:n}=t;const s=e,a=(0,i.ref)(null),r=(0,i.computed)((()=>s.field.itemField.prepareEnumData())),{init:o,setValue:u}=(0,G.G)(a,(e=>{const t=e.map((e=>e.id));(0,l.deepEqual)(t,s.value)||n("set-value",t)}));return(0,i.watch)((0,i.toRef)(s,"value"),(e=>{u(e)})),(0,i.onMounted)((()=>{o({data:r.value}),u(s.value)})),{__sfc:!0,props:s,emit:n,select:a,items:r,init:o,setValue:u}}}),W=(0,Z.Z)(z,H,[],!1,null,null,null).exports;const Q=(0,i.defineComponent)({components:{field_content_edit:W},mixins:[U]});n(68216),n(79433);var Y=n(40151);const K=(0,i.defineComponent)({props:s.FieldEditPropsDef,setup(e){const{querysets:t}=(0,I.useQuerySets)(e.field,e.data);return{instancesCache:new Map,transport:(0,I.createTransport)(e.field,t.value,(0,i.toRef)(e,"data"))}},mounted(){this.initSelect2(this.$refs.selectEl),this.$watch("value",(e=>{this.setValue(e)}),{immediate:!0})},methods:{async fetchValue(e){e&&"object"==typeof e&&!e.every((e=>"object"==typeof e))&&this.field.fetchData&&this.$emit("set-value",await(0,Y.s)(e,this.field),{markChanged:!1})},initSelect2(e){o()(e).select2({theme:window.SELECT2_THEME,multiple:!0,ajax:{delay:350,transport:this.transport}}).on("change",(()=>{const t=o()(e).select2("data"),n=t?t.map((e=>{let{id:t}=e;return this.instancesCache.get(String(t))})):[];this.isSameValues(n,this.value)||this.$emit("set-value",n)})).on("select2:selecting",(e=>{this.instancesCache.set(String(e.params.args.data.id),e.params.args.data.instance)}))},getItemValue(e){return"object"==typeof e?e.getPkValue():e},isSameValues(e,t){return e===t||!(!Array.isArray(e)||!Array.isArray(t))&&(e.length===t.length&&e.map((e=>this.getItemValue(e))).join(",")===t.map((e=>this.getItemValue(e))).join(","))},setValue(e){if(e){if(Array.isArray(e)){this.$refs.selectEl.innerHTML="";for(const t of e){const e=String(this.field.getValueFieldValue(t)),n=this.field.getViewFieldValue(t);this.instancesCache.set(e,t),o()(this.$refs.selectEl).append(new Option(n,e,!1,!0))}o()(this.$refs.selectEl).trigger("change")}}else o()(this.$refs.selectEl).val(null).trigger("change")}},render(e){return e("select",{ref:"selectEl",style:"width: 100%"})}}),J=(0,i.defineComponent)({props:{field:{type:Object,required:!0},value:{default:null},data:{type:Object,required:!0}},emits:["set-value"],setup(e,t){let{emit:n}=t;return()=>(0,i.h)(K,{props:{field:e.field.itemField,value:e.value,data:e.data},on:{"set-value":(e,t)=>n("set-value",e,t)}})}}),X=(0,i.defineComponent)({components:{field_content_edit:J},mixins:[E]});var ee=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t(n.Card,[t(n.ModelFields,{attrs:{model:n.modelClass,data:n.newItemData,editable:"","flat-if-possible":"","flat-fields-classes":"col-12"},on:{"set-value":t=>{let{field:i,value:s}=t;return e.$set(n.newItemData,i,s)}}}),e._v(" "),t("div",{staticClass:"d-flex"},[t("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:n.addItem}},[t("i",{staticClass:"fas fa-plus"}),e._v("\n                "+e._s(e.$t("Add"))+"\n            ")]),e._v(" "),e.hideable?t(n.HideButton,{staticClass:"ml-1",nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e()],1)],1),e._v(" "),e._l(n.items,(function(i,s){return t(n.Card,{key:s},[t(n.ModelFields,{attrs:{model:n.modelClass,data:i.data,editable:"","flat-if-possible":"","flat-fields-classes":"col-12"},on:{"set-value":e=>{let{field:t,value:i}=e;return n.changeItem(s,t,i)}}}),e._v(" "),t("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return n.removeItem(s)}}},[t("i",{staticClass:"fas fa-minus"}),e._v("\n            "+e._s(e.$t("Remove"))+"\n        ")])],1)}))],2)};ee._withStripped=!0;var te=n(76118),ne=n(13034),ie=(0,i.defineComponent)({__name:"NestedObjectArrayFieldEdit",props:{field:null,data:null,value:null,hideable:{type:Boolean}},emits:["set-value"],setup(e,t){let{emit:n}=t;const s=e,a=(0,i.ref)((0,l.emptyRepresentData)()),r=(0,i.computed)((()=>{var e;return(null!==(e=s.value)&&void 0!==e?e:[]).map((e=>({data:e})))})),o=s.field.itemField.nestedModel;return{__sfc:!0,props:s,emit:n,newItemData:a,items:r,modelClass:o,addItem:function(){try{var e;n("set-value",[a.value,...null!==(e=s.value)&&void 0!==e?e:[]]),a.value=(0,l.emptyRepresentData)()}catch(e){console.error(e)}},removeItem:function(e){if(s.value){const t=s.value.slice();t.splice(e,1),n("set-value",t)}},changeItem:function(e,t,i){const a={...r.value[e].data,[t]:i},o=s.value.slice();o[e]=a,n("set-value",o)},Card:te.Z,ModelFields:ne.Z,HideButton:j.eX}}}),se=(0,Z.Z)(ie,ee,[],!1,null,null,null).exports;const ae=(0,i.defineComponent)({components:{field_content_edit:se},mixins:[E]});function re(e){const t=Number.parseFloat(e.trim());if(!Number.isNaN(t))return t}const oe=(0,i.defineComponent)({name:"NumberArrayFieldEdit",mixins:[$],data(){return{itemsValidator:re}}}),le=(0,i.defineComponent)({components:{field_content_edit:oe},mixins:[U]});function ue(e){const t=Number.parseInt(e.trim());if(!Number.isNaN(t))return t}const de=(0,i.defineComponent)({name:"IntegerArrayFieldEdit",mixins:[$],data(){return{itemsValidator:ue}}}),ce=(0,i.defineComponent)({components:{field_content_edit:de},mixins:[U]});class pe extends s.BaseField{constructor(e){var t,n,i;super(e),(0,V.Z)(this,"collectionFormat",void 0),(0,V.Z)(this,"separator",void 0),(0,V.Z)(this,"minItems",void 0),(0,V.Z)(this,"maxItems",void 0),(0,V.Z)(this,"uniqueItems",void 0),(0,V.Z)(this,"itemField",void 0),this.collectionFormat=e.collectionFormat||e["x-collectionFormat"],this.separator=this.collectionFormat?pe.SEPARATORS.get(this.collectionFormat):void 0,this.minItems=null!==(t=e.minItems)&&void 0!==t?t:0,this.maxItems=null!==(n=e.maxItems)&&void 0!==n?n:Number.POSITIVE_INFINITY,this.uniqueItems=null!==(i=e.uniqueItems)&&void 0!==i&&i,e.items||this.error('"items" attribute is required for array field'),(0,N.$k)((()=>this.resolveItemField()))}static get mixins(){return[E]}getEmptyValue(){return[]}prepareFieldForView(e){this.itemField.prepareFieldForView(e)}resolveItemField(){this.itemField=this.app.fieldsResolver.resolveField(this.options.items,this.name),this.itemField.model=this.model;const e=pe.CUSTOM_COMPONENTS.get(this.itemField.constructor);e&&(this.component.mixins=[e])}toInner(e){const t=this.getValue(e);if(t){if(0===t.length)return this.separator?"":t;const n=Object.assign({},e),i=t.map((e=>(n[this.name]=e,this.itemField.toInner(n))));return this.separator?i.map((e=>String(e))).join(this.separator):i}return t}_deserializeValue(e){const t=this._getValueFromData(e);return t?this.separator&&!Array.isArray(t)?t.split(this.separator):t:[]}toRepresent(e){const t=this._deserializeValue(e);if(t){const n=Object.assign({},e);return t.map((e=>(n[this.name]=e,this.itemField.toRepresent(n))))}return t}parseFieldError(e,t){return Array.isArray(e)?e.map((e=>this.itemField.parseFieldError(e,t))):null}}(0,V.Z)(pe,"SEPARATORS",new Map([["csv",","],["ssv"," "],["tsv","\t"],["pipes","|"]])),(0,V.Z)(pe,"CUSTOM_COMPONENTS",new Map([[M.ChoicesField,Q],[M.OrderingChoicesField,Q],[I.FKField,X],[B.StringField,U],[O.NumberField,le],[O.integer.IntegerField,ce],[R.NestedObjectField,ae]]))},36778:function(e,t,n){n.d(t,{Cf:function(){return l},Ee:function(){return o},Th:function(){return a},Zf:function(){return r},du:function(){return s}}),n(57658);var i=n(70538);function s(e){const t=e.field,n=["field-component","name-".concat(t.name),"type-".concat(e.type)];return t.format&&n.push("format-".concat(t.format)),t.required&&n.push("required"),t.model&&n.push("model-".concat(t.model.name)),n}function a(e){return(0,i.computed)((()=>s(e)))}function r(e){const t={};return e.required&&(t.required=!0),void 0!==e.options.minLength&&(t.minlength=e.options.minLength),void 0!==e.options.maxLength&&(t.maxlength=e.options.maxLength),void 0!==e.options.minimum&&(t.min=e.options.minimum),void 0!==e.options.maximum&&(t.max=e.options.maximum),t}function o(e){return(0,i.computed)((()=>r(e.value)))}function l(e){const t={},n=e.value;return n.required&&(t.required=!0),void 0!==n.options.minLength&&(t.minlength=n.options.minLength),void 0!==n.options.maxLength&&(t.maxlength=n.options.maxLength),t}},87444:function(e,t,n){n.r(t),n.d(t,{BaseField:function(){return b},BaseFieldContentEdit:function(){return y.Z},BaseFieldContentMixin:function(){return w.Z},BaseFieldContentReadonlyMixin:function(){return x.Z},BaseFieldInnerComponentMixin:function(){return C.Z},BaseFieldLabel:function(){return S.Z},BaseFieldListView:function(){return k.Z},BaseFieldMixin:function(){return p.Z},FieldEditEmitsDef:function(){return r},FieldEditEmitsNames:function(){return o},FieldEditPropsDef:function(){return i.rx},FieldEmitsDef:function(){return s},FieldEmitsNames:function(){return a},FieldPropsDef:function(){return i.IO},FieldReadonlyEmitsDef:function(){return l},FieldReadonlyEmitsNames:function(){return u},FieldReadonlyPropsDef:function(){return i.Vu},FieldReadonlyValue:function(){return F.Z},customizedInnerComponents:function(){return f},defineFieldComponent:function(){return h},getFieldWrapperClasses:function(){return d.du},getInputAttrs:function(){return d.Zf},useFieldWrapperClasses:function(){return d.Th},useInputAttrs:function(){return d.Ee},useTextAreaAttrs:function(){return d.Cf}});var i=n(59109);const s={"set-value":e=>!0,"hide-field":()=>!0},a=Object.keys(s),r={"set-value":(e,t)=>!0,"hide-field":()=>!0,clear:()=>!0},o=Object.keys(r),l={"set-value":(e,t)=>!0},u=Object.keys(l);var d=n(36778),c=n(70538),p=n(30636);function f(e){let{edit:t,readonly:n,list:s}=e;const a=(0,c.defineComponent)({components:{},mixins:[p.Z]});return t&&(a.components.field_content_edit=(0,c.defineComponent)({props:i.rx,emits:o,setup:t})),n&&(a.components.field_content_readonly=(0,c.defineComponent)({props:i.Vu,emits:u,setup:n})),s&&(a.components.field_list_view=(0,c.defineComponent)({props:i.Vu,emits:u,setup:s})),a}function h(e){return"function"==typeof e?(t=e,(0,c.defineComponent)({props:i.IO,emits:a,setup:t})):f(e);var t}var m=n(4942),v=(n(21703),n(88449),n(2490),n(59849),n(57640),n(9924),n(59198)),g=n(90548),_=n(56716);class b{constructor(e){var t,n,i,s,a,r,o,l,u;(0,m.Z)(this,"options",void 0),(0,m.Z)(this,"props",void 0),(0,m.Z)(this,"component",void 0),(0,m.Z)(this,"type",void 0),(0,m.Z)(this,"format",void 0),(0,m.Z)(this,"name",void 0),(0,m.Z)(this,"title",void 0),(0,m.Z)(this,"required",void 0),(0,m.Z)(this,"readOnly",void 0),(0,m.Z)(this,"nullable",void 0),(0,m.Z)(this,"description",void 0),(0,m.Z)(this,"hidden",void 0),(0,m.Z)(this,"hasDefault",void 0),(0,m.Z)(this,"default",void 0),(0,m.Z)(this,"prependText",void 0),(0,m.Z)(this,"appendText",void 0),(0,m.Z)(this,"redirect",void 0),(0,m.Z)(this,"validators",void 0),(0,m.Z)(this,"model",void 0),(0,m.Z)(this,"translateFieldName",void 0),this.options=e,this.props=e[v.X_OPTIONS]||{},this.type=null!==(t=e.type)&&void 0!==t?t:"string",this.format=e.format,this.validators=[],this.hidden=null!==(n=null!==(i=e["x-hidden"])&&void 0!==i?i:e.hidden)&&void 0!==n&&n,this.name=e.name,this.title=null!==(s=e.title)&&void 0!==s?s:(0,v.capitalize)((0,v.nameToTitle)(this.name)),this.description=e.description,this.required=Boolean(e.required),this.readOnly=Boolean(e.readOnly),this.nullable=Boolean(e["x-nullable"]),this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.hasDefault&&(this.default=e.default),this.prependText=null===(a=this.props)||void 0===a?void 0:a.prependText,this.appendText=null===(r=this.props)||void 0===r?void 0:r.appendText,this.redirect=null===(o=this.props)||void 0===o?void 0:o.redirect,this.translateFieldName=null!==(l=null===(u=this.props)||void 0===u?void 0:u.translateFieldName)&&void 0!==l?l:this.name,this.component={name:"".concat(this.constructor.name||(0,v.capitalize)(this.name),"Component"),mixins:this.constructor.mixins}}static get app(){return globalThis.__currentApp}get app(){return globalThis.__currentApp}get fkLinkable(){return this.constructor.fkLinkable}getComponent(){return this.component}translateValue(e){return e}getValue(e){if(e)return this._getValueFromData(e)}_getValueFromData(e){return e[this.name]}warn(e){var t,n;console.warn("".concat(this.constructor.name," ").concat(null!==(t=null===(n=this.model)||void 0===n?void 0:n.name)&&void 0!==t?t:"",".").concat(this.name,": ").concat(e))}error(e){var t,n;throw new Error("".concat(this.constructor.name," ").concat(null!==(t=null===(n=this.model)||void 0===n?void 0:n.name)&&void 0!==t?t:"",".").concat(this.name,": ").concat(e))}prepareFieldForView(e){}getInitialValue(){let{requireValue:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.required||e)return this.hasDefault?this.default:this.getEmptyValue()}getEmptyValue(){}toInner(e){return this.getValue(e)}toRepresent(e){return this.getValue(e)}validateValue(e){let t=this.getValue(e);const n=g.pop_up_msg.field.error,i=v._translate;if("string"===this.type&&this.required&&void 0===t&&(t=""),"string"==typeof t){const e=t.toString().length;if(this.options.maxLength&&e>this.options.maxLength)throw{error:"validation",message:i(n.maxLength).format([this.options.maxLength])};if(this.options.minLength){if(0===e){if(!this.required)return;throw{error:"validation",message:i(n.empty)}}if(e<this.options.minLength)throw{error:"validation",message:i(n.minLength).format([this.options.minLength])}}}if("number"==typeof t){if(this.options.maximum&&t>this.options.maximum)throw{error:"validation",message:i(n.max).format([this.options.maximum])};if(this.options.minimum&&t<this.options.minimum)throw{error:"validation",message:i(n.min).format([this.options.maximum])}}if(void 0===t&&this.required&&!this.options.default)throw{error:"validation",message:i(n.required)};return t}validateInner(e){return this.getValue(e)}static get mixins(){return[p.Z]}toDescriptor(){const e=this;return{get(){return(0,c.toRaw)(this).sandbox.value[e.name]},set(t){this.sandbox.set({field:e.name,value:e.validateValue({...this.sandbox.value,[e.name]:t})})}}}isEqual(e){return this===e||!!e&&e.constructor===this.constructor&&(0,v.deepEqual)(this.options,e.options)}isSameValues(e,t){return(0,v.deepEqual)(this.toInner(e),this.toInner(t))}parseFieldError(e,t){return e?"string"==typeof e?_.a.ts(e):Array.isArray(e)?e.map((e=>this.parseFieldError(e,t))).filter((e=>Boolean(e))).join(" "):e:""}}(0,m.Z)(b,"fkLinkable",!0);var y=n(38849),w=n(27752),x=n(34287),C=n(57800),S=n(49997),k=n(52775),F=n(28228)},59109:function(e,t,n){n.d(t,{IO:function(){return i},Vu:function(){return s},rx:function(){return a}});const i={field:{type:Object,required:!0},data:{type:Object,required:!0},type:{type:String,required:!0},hideable:{type:Boolean,default:!1},hideTitle:{type:Boolean,default:!1},error:{type:[String,Object,Array],default:null}},s={field:{type:Object,required:!0},data:{type:Object,required:!0},value:{}},a={field:{type:Object,required:!0},data:{type:Object,required:!0},value:{},hideable:{type:Boolean,default:!1}}},14175:function(e,t,n){n.d(t,{Di:function(){return y},Cd:function(){return x},k2:function(){return w},eX:function(){return C},xN:function(){return S}});var i=n(70538),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"field-button",class:e.wrapperClasses,style:e.wrapperStyles,attrs:{title:e.helpText,"data-toggle":"tooltip"}},[t("span",{class:e.spanClasses,style:e.spanStyles},[t("i",{class:e.iconClasses,style:e.iconStyles})])])};s._withStripped=!0;var a=n(93379),r=n.n(a),o=n(7795),l=n.n(o),u=n(90569),d=n.n(u),c=n(3565),p=n.n(c),f=n(19216),h=n.n(f),m=n(44589),v=n.n(m),g=n(53383),_={};_.styleTagTransform=v(),_.setAttributes=p(),_.insert=d().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=h(),r()(g.Z,_),g.Z&&g.Z.locals&&g.Z.locals;var b=(0,n(51900).Z)({},s,[],!1,null,"7ce943b4",null).exports;const y=(0,i.defineComponent)({mixins:[b],data(){return{iconClasses:[],helpText:"",wrapperClasses:["input-group-append"],wrapperStyles:{},spanClasses:["input-group-text"],spanStyles:{},iconStyles:{}}}}),w=(0,i.defineComponent)({mixins:[b],props:{iconClasses:{type:Array,required:!0},helpText:{type:String,required:!0},wrapperClasses:{type:Array,required:!1,default:()=>["input-group-append"]},wrapperStyles:{type:Object,required:!1,default:()=>({})},spanClasses:{type:Array,required:!1,default:()=>["input-group-text"]},spanStyles:{type:Object,required:!1,default:()=>({})},iconStyles:{type:Object,required:!1,default:()=>({})}}}),x=(0,i.defineComponent)({name:"ClearButton",mixins:[y],data(){return{helpText:"Clean value",iconClasses:["fa","fa-times"]}}}),C=(0,i.defineComponent)({name:"HideButton",mixins:[y],data(){return{helpText:"Hide field",iconClasses:["fa","fa-minus"]}}}),S=(0,i.defineComponent)({name:"SetDefaultButton",mixins:[y],data(){return{helpText:"Set default value",iconClasses:["fas","fa-redo"]}}})},50887:function(e,t,n){n.r(t),n.d(t,{ChoicesField:function(){return m},ChoicesFieldContentEdit:function(){return c},ChoicesFieldMixin:function(){return h},OrderingChoicesField:function(){return v}});var i=n(4942),s=(n(57640),n(9924),n(88449),n(2490),n(59849),n(56716)),a=n(2907),r=(n(33948),n(57658),function(){var e=this,t=e._self._c;return e._self._setupProxy,t("select",{ref:"selectEl",staticClass:"form-control select2 select2-field-select",domProps:{value:e.value}})});r._withStripped=!0,n(30541);var o=n(70538),l=n(56430),u=n(87444),d=(0,o.defineComponent)({props:u.FieldEditPropsDef,emits:["set-value"],setup(e,t){let{emit:n}=t;const i=(0,o.ref)(null),s=(0,o.computed)((()=>void 0!==e.field.fieldForEnum&&e.field.fieldForEnum)),a=(0,o.computed)((()=>{const t=void 0!==e.field.fieldForEnum?e.data[e.field.fieldForEnum]:e.field.enum,n=e.field.prepareEnumData(t);for(const t of n)t.text=e.field.translateValue(t.text);return n})),r=(0,o.computed)((()=>a.value.map((e=>e.id)))),{init:u,setValue:d}=(0,l.G)(i,(function(t,i){let s;const a=t[0];s=a&&a.id?a.id:i.target.value||null,r.value.includes(s)||!s?e.value!==s&&(null==s&&(s=e.field.getInitialValue()),n("set-value",s)):d(r.value[0]||null)}));return(0,o.watch)((0,o.toRef)(e,"value"),(e=>{d(e)})),(0,o.onMounted)((()=>{(0,o.watch)(a,(t=>{if(!t)return;const n=e.field.nullable||!e.field.required;if(n&&a.value.unshift({id:"",text:" "}),u({width:"100%",data:t,disabled:s.value&&0===t.length,allowClear:n,placeholder:{id:void 0,text:""},templateResult:e.field.templateResult,templateSelection:e.field.templateSelection,matcher:e.field.customMatcher}),void 0!==e.value)d(e.value);else if(e.field.hasDefault)d(e.field.default);else if(e.field.required){var i;d(null!==(i=a.value[0])&&void 0!==i?i:null)}}),{immediate:!0})})),{selectEl:i}}}),c=(0,n(51900).Z)(d,r,[],!1,null,null,null).exports,p=n(59198);function f(){let e=u.BaseFieldContentReadonlyMixin.computed.preparedValue.call(this);if(e&&this.field.enum)for(const t of this.field.prepareEnumData(this.field.enum))if(t&&t.id===e){e=t.text;break}return this.field.translateValue(e)}var h={mixins:[u.BaseFieldMixin],components:{field_content_edit:c,field_content_readonly:{extends:u.BaseFieldContentReadonlyMixin,computed:{preparedValue(){return f.call(this)}}},field_list_view:{extends:u.BaseFieldListView,computed:{preparedValue(){return f.call(this)}}}},computed:{wrapperClasses(){const e=u.BaseFieldMixin.computed.wrapperClasses.call(this);return this.value&&e.push("value-".concat((0,p.stringToCssClass)(this.value))),e}}};class m extends a.StringField{constructor(e){var t;super(e),(0,i.Z)(this,"enum",null),(0,i.Z)(this,"fieldForEnum",void 0),(0,i.Z)(this,"templateResult",void 0),(0,i.Z)(this,"templateSelection",void 0),(0,i.Z)(this,"customMatcher",void 0),this.enum=null!==(t=e.enum)&&void 0!==t?t:null,this.fieldForEnum=this.props.fieldForEnum,this.templateResult=this.props.templateResult,this.templateSelection=this.props.templateSelection,this.customMatcher=this.props.customMatcher}translateValue(e){var t;const n=":model:".concat((null===(t=this.model)||void 0===t?void 0:t.translateModel)||"",":").concat(this.translateFieldName,":").concat(e);return s.a.te(n)?s.a.ts(n):e}getEmptyValue(){return this.enum?this.enum[0]:null}prepareEnumItem(e){if("string"==typeof e)return{id:e,text:e};if(Array.isArray(e))return{id:e[0],text:e[1]};if("object"==typeof e){if("getViewFieldString"in e){const t=e.getViewFieldString();return t?{id:t,text:t}:void 0}if(e.value&&e.prefetch_value)return{id:e.value,text:e.prefetch_value}}this.warn('Can not handle option "'.concat(JSON.stringify(e),'"'))}prepareEnumData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.enum;return"string"==typeof e&&e.length>0?e.split(",").map((e=>({id:e,text:e}))):Array.isArray(e)?e.map((e=>this.prepareEnumItem(e))).filter(Boolean):[]}static get mixins(){return[h]}}n(15306);var v=class extends m{translateValue(e){const t=s.a.ts(e);return t===e?t.replace(/_/g," "):t}prepareEnumItem(e){const t=super.prepareEnumItem(e);if(t){const e=t.text.startsWith("-"),n=e?t.text.slice(1):t.text,i=this.translateValue(n);t.text=e?"⬇ ".concat(i):"⬆ ".concat(i)}return t}}},38527:function(e,t,n){n.r(t),n.d(t,{DependFromFkField:function(){return v},DynamicField:function(){return p},DynamicFieldMixin:function(){return u}});var i=function(){var e=this,t=e._self._c;return e._self._setupProxy,t(e.realField.getComponent(),{tag:"component",attrs:{field:e.realField,data:e.data,type:e.type,hideable:e.hideable,error:e.error},on:{"hide-field":function(t){return e.$emit("hide-field")},"set-value":e.setValue}})};i._withStripped=!0,n(78206),n(12714),n(33948);var s=n(70538),a=n(59198),r=n(87444),o=(0,s.defineComponent)({props:r.FieldPropsDef,emits:r.FieldEmitsDef,setup(e,t){let{emit:n}=t;const i=new WeakMap,r=(0,s.computed)((()=>e.field._getParentValues(e.data))),o=(0,s.ref)(e.field.getRealField(r.value));function l(e){i.set(o.value,e.value),n("set-value",e)}return(0,s.watch)(r,((t,n)=>{(0,a.deepEqual)(t,n)||(o.value=e.field.getRealField(t),l({field:e.field.name,value:i.has(o.value)?i.get(o.value):o.value.getInitialValue()}))})),{realField:o,setValue:l}}}),l=n(51900),u=(0,l.Z)(o,i,[],!1,null,null,null).exports,d=n(4942),c=(n(88921),n(96248),n(27561),n(13599),n(11477),n(64362),n(15389),n(3440),n(90401),n(66244),n(45164),n(89772),n(91238),n(88910),n(54837),n(87485),n(56767),n(76651),n(61437),n(63252),n(35285),n(17454),n(39865),n(52262),n(24506),n(86035),n(64211),n(2490),n(41874),n(64765));class p extends r.BaseField{constructor(e){super(e),(0,d.Z)(this,"types",null),(0,d.Z)(this,"usedOnViews",new Set),(0,d.Z)(this,"sourceView",void 0),(0,c.v7)((()=>{this.resolveTypes(),this.checkSourceView()}))}checkSourceView(){if(!this.props.source_view)return;if(this.props.source_view.match(/^<<parent>>(.<<parent>>)*$/))return void(this.sourceView=-1*(this.props.source_view.split(".").length+1));const e=this.app.views.get(this.props.source_view);e||this.error("Invalid source_view path ".concat(this.props.source_view)),e.isDetailPage()||this.error("Only detail view is supported as source_view"),this.sourceView=e}resolveTypes(){if(this.props.types){const e={};for(const[t,n]of Object.entries(this.props.types)){const i=this.getFieldByDefinition(n);this.required&&(i.required=this.required),e[t]=i}this.types=e;for(const e of this.usedOnViews)for(const t of Object.values(this.types))t.prepareFieldForView(e)}}prepareFieldForView(e){this.usedOnViews.add(e)}static get mixins(){return[u]}toInner(e){return this.getRealField(e).toInner(e)}toRepresent(e){return this.getRealField(e).toRepresent(e)}validateValue(e){return this.getRealField(e).validateValue(e)}validateInner(e){return this.getRealField(e).validateInner(e)}_getParentFields(){var e;const t=null!==(e=this.props.field)&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}_getParentChoices(){var e;return null!==(e=this.props.choices)&&void 0!==e?e:{}}resolveParentViewData(){if(void 0===this.sourceView)return;let e;if("number"==typeof this.sourceView){const t=this.app.store.viewItems.at(this.sourceView);if(!t)return;if(!t.view.isDetailPage())return void this.warn("Only detail view is supported as source_view");e=t.view}else e=this.sourceView;const t=e.getSavedState();return null!=t&&t.instance?t.instance._getRepresentData():void 0}_getParentValues(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null!==(e=this.resolveParentViewData())&&void 0!==e?e:t,i=this._getParentFields(),s={};for(const e of i)s[e]=n[e];return s}getRealField(){var e,t,n,i;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=this._getParentValues(s),r=null!==(e=null!==(t=null!==(n=null!==(i=this._getFromTypes(a))&&void 0!==i?i:this._getFromCallback(a))&&void 0!==n?n:this._getFromChoices(a))&&void 0!==t?t:this._getFromValue(a))&&void 0!==e?e:this._getDefault();return r.prepareFieldForView(this.app.router.currentRoute.meta.view.path),!r.model&&this.model&&(r.model=this.model),r}parseFieldError(e,t){return this.getRealField(t).parseFieldError(e,t)}_getFromValue(e){if("string"==typeof this.props.field){const t=e[this.props.field];if(t)try{return this.getFieldByDefinition(t)}catch{return}}}_getFromTypes(e){if(this.types)for(const t of Object.values(e)){const e=this.types[t];if(e)return e}}_getFromChoices(e){const t=this._getParentChoices();for(const n of Object.keys(e)){const i=t[e[n]];if(Array.isArray(i)){const e=i.some((e=>"boolean"==typeof e));return this.getFieldByDefinition(e?{type:"boolean"}:{format:"choices",enum:i})}}}_getFromCallback(e){if(this.props.callback){const t=this.props.callback(e);if(t)return this.getFieldByDefinition(t)}}_getDefault(){return this.getFieldByDefinition({type:"string"})}getFieldByDefinition(e){const t=this.app.fieldsResolver.resolveField(e,this.name);return"object"!=typeof e||e.title||(t.title=this.title),t}}var f=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.realField.getComponent(),{tag:"component",attrs:{field:n.realField,data:e.data,type:e.type},on:{"set-value":function(t){return e.$emit("set-value",t)}}})};f._withStripped=!0;var h=(0,s.defineComponent)({__name:"DependFromFkFieldMixin",props:r.FieldPropsDef,emits:["set-value"],setup(e,t){let{emit:n}=t;const i=e,r=(0,a.getApp)(),o=(0,s.ref)(r.fieldsResolver.resolveField({type:"string",name:i.field.name}));return(0,s.watch)((()=>i.data[i.field.dependField]),(()=>{o.value=i.field.getRealField(i.data),"edit"===i.type&&n("set-value",{field:i.field.name,value:o.value.getInitialValue(),markChanged:!1})}),{immediate:!0}),{__sfc:!0,props:i,emit:n,app:r,realField:o}}}),m=(0,l.Z)(h,f,[],!1,null,null,null).exports;class v extends r.BaseField{constructor(e){super(e),(0,d.Z)(this,"dependField",void 0),(0,d.Z)(this,"dependFieldAttribute",void 0),(0,d.Z)(this,"callback",void 0),this.dependField=this.props.field,this.dependFieldAttribute=this.props.field_attribute,this.callback=this.props.callback}static get mixins(){return[m]}toInner(e){return this.getRealField(e).toInner(e)}toRepresent(e){return this.getRealField(e).toRepresent(e)}validateValue(e){return this.getRealField(e).validateValue(e)}getFieldByFormat(e,t){let n={};this.callback&&(n=this.callback(t));const i=this.app.fieldsResolver.resolveField((0,a.mergeDeep)({format:e,callback_opt:n}),this.name);return this.app.store.page&&i.prepareFieldForView(this.app.store.page.view.path),i}getRealField(e){const t=e[this.dependField],n=(null==t?void 0:t[this.dependFieldAttribute])||"string";return this.getFieldByFormat(n,e)}}},59802:function(e,t,n){n.d(t,{I:function(){return o},e:function(){return r}}),n(33948);var i=n(70538),s=n(40151),a=n(59198);function r(e,t){const n=(0,a.getApp)(),s=(0,i.computed)((()=>e.getAllQuerysets(n.store.page.view.path))),r=(0,i.computed)((()=>e.getAppropriateQuerySet({data:t,querysets:s.value})));return{querysets:s,queryset:r}}function o(e,t){const n=(0,i.getCurrentInstance)(),r=(0,i.ref)(!1);return(0,i.watch)(t,(async t=>{if(t&&"object"!=typeof t&&e.fetchData){r.value=!0;try{const[i]=await(0,s.s)([t],e);i&&"object"==typeof i&&(null==n||n.proxy.$emit("set-value",i,{markChanged:!1}))}catch(e){(0,a.getApp)().error_handler.defineErrorAndShow(e)}r.value=!1}}),{immediate:!0}),{loading:(0,i.readonly)(r)}}},38191:function(e,t,n){n.r(t),n.d(t,{FKField:function(){return N},FKFieldContent:function(){return D},FKFieldContentEditable:function(){return E},FKFieldContentReadonly:function(){return V.Z},FKFieldMixin:function(){return M},createTransport:function(){return f},ensureValueFetched:function(){return h.I},useQuerySets:function(){return h.e}});var i=n(4942),s=(n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948),n(57640),n(9924),n(88921),n(96248),n(27561),n(13599),n(11477),n(64362),n(15389),n(3440),n(90401),n(66244),n(45164),n(89772),n(91238),n(88910),n(54837),n(87485),n(56767),n(76651),n(61437),n(63252),n(35285),n(17454),n(39865),n(88449),n(2490),n(59849),n(76373),n(15306),n(87444)),a=n(64765),r=n(56716),o=n(59198),l=n(70538),u=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"input-group",staticStyle:{"flex-wrap":"nowrap"},attrs:{"aria-busy":e.loading}},[t("select",{ref:"selectEl",staticClass:"form-control"}),e._v(" "),e.hideable?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e(),e._v(" "),e.loading?t("div",{staticClass:"loader field-button input-group-append"},[e._m(0)]):e._e()],1)};u._withStripped=!0;var d=n(63564),c=(n(57658),n(8366));const p=20;function f(e,t,n){let i=0,s=0;return async function(r,o,l){if(0===t.length)return void o({results:[]});const u=r.data.term?r.data.term.trim():"";"query"===r.data._type&&(i=0,s=0);const d=t[i];try{const{items:r,total:l}=await async function(t,i,s){var r;const o={limit:p,offset:i,[e.viewField]:t};e.filters&&Object.assign(o,e.filters);const l={qs:s,filters:o,dependenceFilters:e.getDependenceFilters(n.value),nest_prom:void 0};let u;a.pp.emit("filter.".concat(e.format,".").concat(e.fkModel.name,".").concat(e.name),l),u=l.nest_prom?l.nest_prom:null!==l.dependenceFilters?s.filter({...o,...l.dependenceFilters}).items():Promise.resolve((0,c.createInstancesList)([]));const d=await u,f=d.map((t=>({id:t[e.valueField],text:e.translateValue(t),instance:t})));return e.hasDefault&&("object"!=typeof e.default?f.push({id:e.default,text:e.translateValue(e.default)}):f.push(e.default)),{items:f,total:void 0!==(null===(r=d.extra)||void 0===r?void 0:r.count)?d.extra.count:f.length}}(u,s,d);s+p>=l?i+1>=t.length?o({results:r}):(s=0,i+=1,o({results:r,pagination:{more:!0}})):(s+=p,o({results:r,pagination:{more:!0}}))}catch(e){console.error(e),l([])}}}var h=n(59802),m=n(14175),v=(0,l.defineComponent)({components:{HideButton:m.eX},props:s.FieldEditPropsDef,setup(e){const{querysets:t}=(0,h.e)(e.field,e.data),n=new Map,i=f(e.field,t.value,(0,l.toRef)(e,"data")),s=(0,l.ref)(null),{loading:a}=(0,h.I)(e.field,(0,l.toRef)(e,"value"));return{selectEl:s,instancesCache:n,transport:i,loading:a}},watch:{value(e){this.setValue(e)}},mounted(){this.initSelect2(),this.value&&this.setValue(this.value)},beforeDestroy(){(0,d.default)(this.selectEl).off().select2("destroy")},methods:{initSelect2(){(0,d.default)(this.selectEl).select2({theme:globalThis.SELECT2_THEME,width:"100%",ajax:{delay:350,transport:this.transport},allowClear:this.field.nullable,placeholder:{id:void 0,text:""}}).on("change",(()=>{const e=(0,d.default)(this.selectEl).select2("data")[0]||{},t=e.instance||this.instancesCache.get(String(e.id))||null;this.isSameValues(t,this.value)||this.$emit("set-value",t)}))},isSameValues(e,t){return"object"==typeof e==("object"==typeof t)&&this.field.getValueFieldValue(e)===this.field.getValueFieldValue(t)},setValue(e){if(!e)return void(0,d.default)(this.selectEl).val(null).trigger("change");const t=(0,d.default)(this.selectEl).select2("data")[0]||{},n=t.instance||this.instancesCache.get(String(t.id))||null;if(this.isSameValues(n,e))return;this.instancesCache.set(String(this.field.getValueFieldValue(e)),e);const i=new Option(this.field.translateValue(e),e[this.field.valueField]||e,!1,!0);(0,d.default)(this.selectEl).empty().append(i).trigger("change")}}}),g=n(93379),_=n.n(g),b=n(7795),y=n.n(b),w=n(90569),x=n.n(w),C=n(3565),S=n.n(C),k=n(19216),F=n.n(k),Z=n(44589),A=n.n(Z),T=n(55392),P={};P.styleTagTransform=A(),P.setAttributes=S(),P.insert=x().bind(null,"head"),P.domAPI=y(),P.insertStyleElement=F(),_()(T.Z,P),T.Z&&T.Z.locals&&T.Z.locals;var E=(0,n(51900).Z)(v,u,[function(){var e=this._self._c;return this._self._setupProxy,e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"fa-spin fas fa-sync-alt"})])}],!1,null,"3aacc6cb",null).exports,V=n(32900),M=(0,l.defineComponent)({components:{field_content_edit:E,field_content_readonly:V.Z,field_list_view:V.Z},mixins:[s.BaseFieldMixin]});const I=/<<\w+>>/g,R=new Map([["pk",function(){const e=(0,o.getApp)(),t=e.store.page;if("function"==typeof t.getInstancePk){const e=t.getInstancePk();if(void 0!==e)return e}return t.view.parent&&t.view.parent.pkParamName?e.router.currentRoute.params[t.view.parent.pkParamName]:""}],["parent_pk",function(){var e;const t=(0,o.getApp)();let n=null===(e=t.store.page.view.parent)||void 0===e?void 0:e.parent;var i;return t.store.page.view.isEditPage()&&!t.store.page.view.isEditStyleOnly&&(n=null===(i=n)||void 0===i?void 0:i.parent),t.router.currentRoute.params[n.pkParamName]||""}],["view_name",()=>(0,o.getApp)().store.page.view.name],["parent_view_name",()=>{var e,t;return null!==(e=null===(t=(0,o.getApp)().store.page.view.parent)||void 0===t?void 0:t.name)&&void 0!==e?e:""}],["view_level",()=>(0,o.getApp)().store.page.view.level],["operation_id",()=>(0,o.getApp)().store.page.view.operationId],["parent_operation_id",()=>{var e,t;return null!==(e=null===(t=(0,o.getApp)().store.page.view.parent)||void 0===t?void 0:t.operationId)&&void 0!==e?e:""}]]),O=Array.from(R.keys());class B extends s.BaseField{constructor(e){var t,n;super(e),(0,i.Z)(this,"_canBeFetched",!0),(0,i.Z)(this,"valueField",void 0),(0,i.Z)(this,"viewField",void 0),(0,i.Z)(this,"usePrefetch",void 0),(0,i.Z)(this,"makeLink",void 0),(0,i.Z)(this,"fetchData",void 0),(0,i.Z)(this,"dependence",void 0),(0,i.Z)(this,"filters",void 0),(0,i.Z)(this,"filterName",void 0),(0,i.Z)(this,"filterFieldName",void 0),(0,i.Z)(this,"showLoader",void 0),(0,i.Z)(this,"querysets",void 0),(0,i.Z)(this,"fkModel",void 0),this.valueField=this.props.value_field,this.viewField=this.props.view_field,this.usePrefetch=this.props.usePrefetch,this.makeLink=this.props.makeLink,this.dependence=this.props.dependence||{},this.filters=this.props.filters,this.filterName=this.props.filter_name||this.valueField,this.filterFieldName=this.props.filter_field_name||this.valueField,this.showLoader=null===(t=this.props.showLoader)||void 0===t||t,void 0!==this.props.fetchData?this.fetchData=this.props.fetchData:this.fetchData=this.viewField!==this.valueField,this.props.querysets instanceof Map?this.querysets=this.props.querysets:this.querysets=new Map(Object.entries(null!==(n=this.props.querysets)&&void 0!==n?n:{})),!this.fkModel&&this.props.model&&(0,a.$k)((()=>this.resolveModel()))}translateValue(e){const t=this.getViewFieldValue(e),n=":model:".concat(this.fkModel.translateModel||"",":").concat(this.viewField,":").concat(t);return r.a.te(n)?r.a.ts(n):t}resolveModel(){this.props.model?this.fkModel=this.app.modelsResolver.bySchemaObject(this.props.model):this.error("Could not resolve Model")}static get mixins(){return[M]}getEmptyValue(){return null}toInner(e){return this.getValueFieldValue(super.toInner(e))}isSameValues(e,t){let n=this.toInner(e);n&&"object"==typeof n&&(n=n[this.valueField]);let i=this.toInner(t);return i&&"object"==typeof i&&(i=i[this.valueField]),n===i}prepareFieldForView(e){if(this.querysets.has(e))return;let t;const{list_paths:n}=this.props;n?(t=n.map((e=>this.app.views.get(e).objects.clone())),this.fkModel||(this.fkModel=t[0].getResponseModelClass(o.RequestTypes.LIST))):(this.fkModel||this.error("FK model (".concat(JSON.stringify(this.props.model),") is not initialized")),t=[this.app.qsResolver.findQuerySet(this.fkModel.name,e)]),this.querysets.set(e,t)}_formatQuerysets(e){return e.map((e=>this._formatQuerysetPath(e)))}_formatQuerysetPath(e){var t,n;const i=null!==(t=null===(n=this.app.router)||void 0===n?void 0:n.currentRoute.params)&&void 0!==t?t:{};return e.clone({url:(0,o.formatPath)(e.url,i)})}getValueFetchQs(e){var t;let n=this.getAppropriateQuerySet({path:e});return n||(n=null===(t=this.app.qsResolver)||void 0===t?void 0:t.findQuerySet(this.fkModel.name,this.app.store.page.view.path),n?this._formatQuerysetPath(n):void 0)}_resolveDependenceValue(e,t){const n=new Set(Array.from(e.matchAll(I),(e=>e[0].slice(2,-2))).filter((e=>O.includes(e))));if(0!==n.size){for(const i of n){const n=R.get(i);try{e=i.replace(i,String(n(t)))}catch(e){return void console.warn(e)}}return e}}getDependenceFilters(e){const t={};for(const[n,i]of Object.entries(this.dependence)){let s=this._resolveDependenceValue(n,e);if(void 0!==s){t[i]=s;continue}const a=this.model.fields.get(n);if(s=(0,o.getDependenceValueAsString)(a.toInner(e)),s)t[i]=s;else if(!a.nullable&&a.required)return null}return t}getValueFieldValue(e){return null!==e&&"object"==typeof e&&e._data?e._data[this.valueField]:e}getViewFieldValue(e){return null!==e&&"object"==typeof e?e[this.viewField]:e}getAppropriateQuerySet(){let{data:e,querysets:t,path:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[i]=t||this.querysets.get(n)||[];if(i)return this._formatQuerysetPath(i).filter(this.filters||{})}getFallbackQs(){return this.app.qsResolver.findQuerySet(this.fkModel.name)}getAllQuerysets(e){return this._formatQuerysets(this.querysets.get(e)||this.querysets.get(void 0)||[this.getFallbackQs()])}}(0,i.Z)(B,"NOT_FOUND_TEXT","[Object not found]");var N=B,D=(0,l.defineComponent)({computed:{querysets(){return this.field.getAllQuerysets(this.$app.getCurrentViewPath())},queryset(){return this.field.getAppropriateQuerySet({data:this.data,querysets:this.querysets})}},watch:{value(e){this.fetchValue(e)},"field.props.querysets":function(e){const t=this.field.props.url_params||{};this.querysets=e.map((e=>e.clone({url:(0,o.formatPath)(e.url,t)}))),this.queryset=this.field.getAppropriateQuerySet({data:this.data,querysets:this.querysets})}},beforeMount(){this.fetchValue(this.value)},methods:{async fetchValue(e){if(!e||"object"==typeof e||!this.field.fetchData)return;const[t]=await this.field._fetchRelated([e],this.queryset);this.$emit("set-value",t,{markChanged:!1})}}})},77656:function(e,t,n){n.r(t),n.d(t,{FieldLabelIdMixin:function(){return Ja.Z},FieldsResolver:function(){return E},ModalWindowAndButtonMixin:function(){return Xa.Z},TableRowMixin:function(){return Ls.Z},addDefaultFields:function(){return rr},array:function(){return V},autocomplete:function(){return i},base:function(){return A},boolean:function(){return s},choices:function(){return Ce},color:function(){return C},crontab:function(){return a},datetime:function(){return r},dynamic:function(){return bt},email:function(){return S},files:function(){return m},fk:function(){return b},hidden:function(){return k},json:function(){return w},nestedObject:function(){return Ta},numbers:function(){return Je},password:function(){return x},staticValue:function(){return F},text:function(){return M}});var i={};n.r(i),n.d(i,{AutocompleteField:function(){return H},AutocompleteFieldContentEditMixin:function(){return q},AutocompleteFieldMixin:function(){return $},useAutocompleteDropdown:function(){return z}});var s={};n.r(s),n.d(s,{BooleanField:function(){return xe},BooleanFieldContentEdit:function(){return ce},BooleanFieldContentMixin:function(){return Q},BooleanFieldContentReadonly:function(){return ve},BooleanFieldListView:function(){return be},BooleanFieldMixin:function(){return ye}});var a={};n.r(a),n.d(a,{CrontabField:function(){return Oe},CrontabFieldComponent:function(){return Ae},CrontabFieldContentEdit:function(){return Me},CrontabFieldMixin:function(){return Ie},FieldToggleCrontabButton:function(){return Pe}});var r={};n.r(r),n.d(r,{DateField:function(){return qe},DateFieldContent:function(){return De},DateFieldMixin:function(){return je},DateTimeField:function(){return We},DateTimeFieldContent:function(){return He},DateTimeFieldMixin:function(){return Ge},TimeIntervalField:function(){return et},TimeIntervalFieldMixin:function(){return Ke},UptimeField:function(){return _t},UptimeFieldButton:function(){return ot},UptimeFieldContentEdit:function(){return ut},UptimeFieldMixin:function(){return vt}});var o={};n.r(o),n.d(o,{FileField:function(){return Et},FileFieldButtonMixin:function(){return yt},FileFieldContentEdit:function(){return At},FileFieldMixin:function(){return Tt},FileFieldReadFileButton:function(){return St},fileIsTooLarge:function(){return Mt},fileIsTooSmall:function(){return It},parseAllowedMediaTypes:function(){return Pt},validateSimpleFileLength:function(){return Rt}});var l={};n.r(l),n.d(l,{BinaryFileField:function(){return nn},BinaryFileFieldContentEdit:function(){return Kt},BinaryFileFieldMixin:function(){return tn},BinaryFileFieldReadFileButton:function(){return sn}});var u={};n.r(u),n.d(u,{NamedBinaryFileField:function(){return Yn},NamedBinaryFileFieldContentEdit:function(){return Un},NamedBinaryFileFieldContentReadonly:function(){return zn},NamedBinaryFileFieldMixin:function(){return Wn},ensureMediaTypeExists:function(){return un},useFileNameValidator:function(){return dn},useNamedFileText:function(){return ln},validateNamedFileJson:function(){return pn},validateNamedFilesContentSize:function(){return cn}});var d={};n.r(d),n.d(d,{MultipleNamedBinaryFileField:function(){return Jn},MultipleNamedBinaryFileFieldContentEdit:function(){return Zn},MultipleNamedBinaryFileFieldContentList:function(){return En},MultipleNamedBinaryFileFieldContentReadonly:function(){return In},MultipleNamedBinaryFileFieldMixin:function(){return Rn}});var c={};n.r(c),n.d(c,{ImageBlock:function(){return ii},NamedBinaryImageField:function(){return Zi},NamedBinaryImageFieldContentEdit:function(){return wi},NamedBinaryImageFieldContentReadonly:function(){return Si},NamedBinaryImageFieldMixin:function(){return ki},ResolutionValidatorConfig:function(){return Fi},ResolutionValidatorModal:function(){return bi},useResolutionValidator:function(){return ai}});var p={};n.r(p),n.d(p,{MultipleNamedBinaryImageField:function(){return zi},MultipleNamedBinaryImageFieldContentEdit:function(){return ji},MultipleNamedBinaryImageFieldContentReadonly:function(){return Bi},MultipleNamedBinaryImageFieldMixin:function(){return Gi}});var f={};n.r(f),n.d(f,{SecretFileField:function(){return Wi}});var h={};n.r(h),n.d(h,{CsvFileField:function(){return xs},CsvFileFieldEdit:function(){return ps},CsvFileFieldMixin:function(){return ws},CsvFileFieldReadonly:function(){return bs}});var m={};n.r(m),n.d(m,{binaryFile:function(){return l},csvFile:function(){return h},file:function(){return o},multipleNamedBinaryFile:function(){return d},multipleNamedBinaryImage:function(){return p},namedBinaryFile:function(){return u},namedBinaryImage:function(){return c},secretFile:function(){return f}});var v={};n.r(v),n.d(v,{FKAutocompleteField:function(){return Ts},FKAutocompleteFieldContentEdit:function(){return Fs},FKAutocompleteFieldMixin:function(){return Zs}});var g={};n.r(g),n.d(g,{FKMultiAutocompleteField:function(){return Rs},FKMultiAutocompleteFieldContentEdit:function(){return Ms},FKMultiAutocompleteFieldMixin:function(){return Is},FKMultiAutocompleteFieldModal:function(){return Es},FKMultiAutocompleteFieldSearchInput:function(){return Ns},FKMultiAutocompleteFieldTable:function(){return Hs},FKMultiAutocompleteFieldTableRow:function(){return $s}});var _={};n.r(_),n.d(_,{DeepFKField:function(){return zs},DeepFKFieldMixin:function(){return ea}});var b={};n.r(b),n.d(b,{autocomplete:function(){return v},deepFk:function(){return _},fk:function(){return Cs},multiAutocomplete:function(){return g}});var y={};n.r(y),n.d(y,{JsonArray:function(){return ma},JsonObject:function(){return _a},JsonString:function(){return Ca},StringJsonArray:function(){return Aa}});var w={};n.r(w),n.d(w,{JSONField:function(){return ca},JSONFieldMixin:function(){return oa},JsonFieldContentReadonly:function(){return ra},JsonMapper:function(){return ua},components:function(){return y}});var x={};n.r(x),n.d(x,{PasswordField:function(){return Ba},PasswordFieldContent:function(){return Pa},PasswordFieldContentEdit:function(){return Ia},PasswordFieldMixin:function(){return Ra}});var C={};n.r(C),n.d(C,{ColorField:function(){return ja},ColorFieldContentMixin:function(){return Na},ColorFieldMixin:function(){return Da}});var S={};n.r(S),n.d(S,{EmailField:function(){return qa},EmailFieldMixin:function(){return La}});var k={};n.r(k),n.d(k,{HiddenField:function(){return Ua},HiddenFieldMixin:function(){return $a}});var F={};n.r(F),n.d(F,{StaticValueField:function(){return Ga}}),n(33948);var Z=n(4942),A=(n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(25387),n(2490),n(72608),n(21703),n(87444)),T=n(59198);const P="x-format";class E{constructor(e){(0,Z.Z)(this,"_schema",void 0),(0,Z.Z)(this,"_types",new Map([["string",new Map],["number",new Map],["integer",new Map],["boolean",new Map],["array",new Map],["object",new Map],["file",new Map]])),this._schema=e}_resolveJsonPointer(e){return e.split("/").slice(1).reduce(((e,t)=>e[t]),this._schema)}registerField(e,t,n){const i=this._types.get(e);if(!i)throw new Error("Unknown data type: ".concat(e));i.set(t,n)}registerDefaultForType(e,t){this.registerField(e,E.DEFAULT_FIELD_KEY,t)}resolveField(e,t){if(!e)throw new Error("Obj is required");if(function(e){return e instanceof A.BaseField}(e))return e;if("string"==typeof e?e=this._getByString(e):"$ref"in e&&Object.assign(e,this._resolveJsonPointer(e.$ref)),t)e.name=t;else if(!(0,T.hasOwnProp)(e,"name"))throw new Error('Name for field "'.concat(JSON.stringify(e),'" is not provided'));var n;e.format||(e.format=e[P]||(null===(n=e.items)||void 0===n?void 0:n[P])),e.format&&!e.type&&this._guessTypeByFormat(e),this._handleSpecialCase(e);const i=this._types.get(e.type);if(!i)return console.warn("Unknown type: ".concat(e.type)),this._defaultField(e);if(e.format){const t=i.get(e.format);if(t)return new t(e);console.warn('Unknown format "'.concat(e.format,'" for type "').concat(e.type,'"'))}const s=i.get(E.DEFAULT_FIELD_KEY);return s?new s(e):(console.warn('Type "'.concat(e.type,'" has no default field class')),this._defaultField(e))}_handleSpecialCase(e){!e.format&&e.enum&&e.type&&T.ENUM_TYPES.includes(e.type)&&(e.format="choices")}_getByString(e){if(T.SCHEMA_DATA_TYPE_VALUES.includes(e))return{type:e};for(const n of T.SCHEMA_DATA_TYPE_VALUES){var t;if(null===(t=this._types.get(n))||void 0===t?void 0:t.get(e))return{type:n,format:e}}return console.warn("Can not detect field from string ".concat(e,", string field will be used")),{type:T.SCHEMA_DATA_TYPE.string}}_guessTypeByFormat(e){T.SCHEMA_DATA_TYPE_VALUES.includes(e.format)&&(e.type=e.format,delete e.format);for(const n of T.SCHEMA_DATA_TYPE_VALUES){var t;if(null!==(t=this._types.get(n))&&void 0!==t&&t.has(e.format)){e.type=n;break}}}_defaultField(e){return new A.BaseField(e)}*allFieldsClasses(){for(const e of this._types.values())yield*e.values()}}(0,Z.Z)(E,"DEFAULT_FIELD_KEY",Symbol("defaultFieldClassKey"));var V=n(97348),M=n(2907),I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group"},[t("input",{ref:"inputEl",class:e.classes,style:e.styles,attrs:{type:"text","aria-labelledby":e.label_id,"aria-label":e.aria_label},domProps:{value:e.val},on:{blur:function(t){return e.$emit("set-value",t.target.value)},input:function(t){return e.setValueByHandsInStore(t.target.value)}}}),e._v(" "),e.hasHideButton?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e(),e._v(" "),e.hasDefaultValue?t("SetDefaultButton",{nativeOn:{click:function(t){return e.$emit("set-value",e.field.default)}}}):e._e(),e._v(" "),t("ClearButton",{nativeOn:{click:function(t){return e.clearValue.apply(null,arguments)}}})],1)};I._withStripped=!0,n(31672),n(59461),n(57658),n(88449),n(59849);var R=n(19755),O=n.n(R),B=n(56233),N=n.n(B),D={mixins:[A.BaseFieldContentEdit],data(){return{ac:void 0,class_list:["form-control","autocomplete-field-input"]}},computed:{val(){return this.value}},mounted(){this.ac=O()(this.$el).find(".autocomplete-field-input")[0],this.initAutoComplete()},methods:{initAutoComplete(){return new(N())({selector:this.ac,minChars:0,delay:350,cache:!1,showByClick:!0,renderItem:(e,t)=>this._renderItem(e,t),onSelect:(e,t,n)=>this._onSelect(e,t,n),source:(e,t)=>this._source(e,t)})},_renderItem(e){return e=(0,T.escapeHtml)(e),'<div class="autocomplete-suggestion" data-value="'.concat(e,'">').concat(e,"</div>")},_onSelect(e,t,n){let i=this._getAutocompleteValue(n);this.$emit("set-value",i),O()(this.ac).attr({"data-hide":"hide"})},_getAutocompleteValue(e){return O()(e).attr("data-value")},_source(e,t){this._autocompleteIsHidden()||this._filterAutocompleteData(e.trim(),t)},_autocompleteIsHidden(){return"hide"==O()(this.ac).attr("data-hide")&&(O()(this.ac).attr({"data-hide":"show"}),!0)},_filterAutocompleteData(e,t){let n=[],i=this.field.options.enum||[];this.field.options.default&&!i.includes(this.field.options.default)&&n.push(this.field.options.default),n=n.concat(i),t(n.filter((t=>-1!=t.indexOf(e))))},setValueByHandsInStore(e){this.$emit("set-value",e)}}},j=D,L=n(51900),q=(0,L.Z)(j,I,[],!1,null,null,null).exports,$={mixins:[A.BaseFieldMixin],components:{field_content_edit:q}};class U extends M.StringField{static get mixins(){return[$]}}var H=U,G=n(70538);function z(e){let{element:t,renderItem:n,selectItem:i,filterItems:s}=e;(0,G.onMounted)((()=>new(N())({selector:t.value,minChars:0,delay:350,cache:!1,showByClick:!0,renderItem:(e,t)=>n(e),onSelect:(e,t,n)=>{i(n)},source:(e,t)=>{s(e,t)}})))}var W=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group"},[t("div",{class:e.classes,style:e.styles,attrs:{onselectstart:"return false",onmousedown:"return false","aria-labelledby":e.label_id,"aria-label":e.aria_label},on:{click:function(t){return e.$emit("set-value",!e.value)}}},[t("div",{staticClass:"ico-on fa fa-toggle-on"}),e._v(" "),t("div",{staticClass:"ico-off fa fa-toggle-off"})]),e._v(" "),e.hasHideButton?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e(),e._v(" "),t("ClearButton",{nativeOn:{click:function(t){return e.clearValue.apply(null,arguments)}}})],1)};W._withStripped=!0;var Q={computed:{selected:function(){return this.value?"selected":""},classes(){return["boolean-select"].concat(this.class_list,this.selected,this.additional_classes)},additional_classes(){return[]}}},Y={mixins:[A.BaseFieldContentEdit,Q]},K=n(93379),J=n.n(K),X=n(7795),ee=n.n(X),te=n(90569),ne=n.n(te),ie=n(3565),se=n.n(ie),ae=n(19216),re=n.n(ae),oe=n(44589),le=n.n(oe),ue=n(70261),de={};de.styleTagTransform=le(),de.setAttributes=se(),de.insert=ne().bind(null,"head"),de.domAPI=ee(),de.insertStyleElement=re(),J()(ue.Z,de),ue.Z&&ue.Z.locals&&ue.Z.locals;var ce=(0,L.Z)(Y,W,[],!1,null,"eafa3df0",null).exports,pe=function(){var e=this,t=e._self._c;return t("div",{class:e.classes,attrs:{onselectstart:"return false",onmousedown:"return false","aria-labelledby":e.label_id,"aria-label":e.aria_label}},[t("div",{staticClass:"ico-on fa fa-toggle-on"}),e._v(" "),t("div",{staticClass:"ico-off fa fa-toggle-off"})])};pe._withStripped=!0;var fe={mixins:[A.BaseFieldContentReadonlyMixin,Q],computed:{additional_classes(){return["boolean-select_disabled"]}}},he=n(3377),me={};me.styleTagTransform=le(),me.setAttributes=se(),me.insert=ne().bind(null,"head"),me.domAPI=ee(),me.insertStyleElement=re(),J()(he.Z,me),he.Z&&he.Z.locals&&he.Z.locals;var ve=(0,L.Z)(fe,pe,[],!1,null,"b4f7c9d8",null).exports,ge=function(){var e=this;return(0,e._self._c)("i",{class:e.classes,style:e.styles})};ge._withStripped=!0;var _e={mixins:[A.BaseFieldListView],computed:{classes(){return this.value?"boolean-true fa fa-check":"boolean-false fa fa-times"}}},be=(0,L.Z)(_e,ge,[],!1,null,null,null).exports,ye={mixins:[n(30636).Z],methods:{toggleValue(){this.setValue(!this.value)}},components:{field_content_readonly:ve,field_content_edit:ce,field_list_view:be}};class we extends A.BaseField{_toBoolean(e){return"boolean"==typeof e?e:"string"==typeof e?(0,T.stringToBoolean)(e):"number"==typeof e?Boolean(e):void 0}toInner(e){return this._toBoolean(super.toInner(e))}toRepresent(e){return this._toBoolean(super.toRepresent(e))}getInitialValue(){return super.getInitialValue({requireValue:!0})}getEmptyValue(){return!1}static get mixins(){return[ye]}}var xe=we,Ce=n(50887),Se=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"input-group"},[t("input",{class:e.classes,style:e.styles,attrs:{type:"text",required:e.attrs.required,"aria-labelledby":e.label_id,"aria-label":e.aria_label},domProps:{value:e.value},on:{blur:function(t){return e.updateValue(t.target.value)}}}),e._v(" "),t("field_toggle_crontab_button",{nativeOn:{click:function(t){return e.toggleCrontab.apply(null,arguments)}}})],1)])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show_crontab,expression:"show_crontab"}],staticClass:"row crontabEditor",staticStyle:{"margin-top":"15px",display:"none"},attrs:{id:"guiElement-gui"}},e._l(e.crontab_elements,(function(n,i){return t("crontab_element",{key:i,attrs:{options:n,model:e.model},on:{setModelValue:function(t){return e.setModelValue(t)},setCrontabElValue:function(t){return e.setCrontabElValue(t)}}})})),1)])};Se._withStripped=!0,n(15306);var ke=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group col-lg-3 col-xs-12 col-md-6 col-sm-6"},[t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","aria-label":e.options.title,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v("\n            "+e._s(e.options.title)+"\n            "),t("span",{staticClass:"caret"})]),e._v(" "),t("ul",{staticClass:"dropdown-menu dropdown-menu-left"},e._l(e.options.samples,(function(n,i){return t("li",{key:i},[t("a",{staticClass:"crontab_li_a",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.proxyCrontabEvent("setCrontabElValue",{name:e.options.name,value:n.value})}}},[e._v("\n                    "+e._s(n.view)+"\n                ")])])})),0)]),e._v(" "),t("div",{staticClass:"control-label",staticStyle:{"margin-top":"15px"}},e._l(e.values,(function(n,i){return t("button",{key:i,staticClass:"btn btn-default",class:e.is_selected(n),style:e.styles,attrs:{"aria-label":e.getLabel(e.options,n)},on:{click:function(t){return e.toggleModelValue(e.options.name,n.number)}}},[e._v("\n            "+e._s(e.getLabel(e.options,n))+"\n        ")])})),0)])};ke._withStripped=!0;var Fe={props:{options:{type:Object,required:!0},model:{type:Object,required:!0}},computed:{values(){let e=[];for(let t=this.options.start;t<=this.options.end;t++){let n={number:t,selected:this.model[this.options.name][t]};e.push(n)}return e},styles(){return this.options.labels?"width: 50%;":"width: calc(20% - 4px);"}},methods:{proxyCrontabEvent(e,t){this.$emit(e,t)},is_selected(e){return e.selected?"selected":""},toggleModelValue(e,t){let n=!1;this.model[e]&&this.model[e][t]&&(n=this.model[e][t]),this.proxyCrontabEvent("setModelValue",{prop:e,number:t,value:!n})},getLabel(e,t){return e.labels&&e.labels[t.number]?e.labels[t.number]:t.number}}},Ze=Fe,Ae=(0,L.Z)(Ze,ke,[],!1,null,null,null).exports,Te=n(14175),Pe={mixins:[Te.Di],data(){return{iconClasses:["fas","fa-pencil-alt"],helpText:"Crontab form"}}},Ee={components:{field_toggle_crontab_button:Pe,crontab_element:Ae},data(){return{show_crontab:!1,crontab_elements:{Minutes:{name:"Minutes",title:"Minutes",start:0,end:59,reg_str:"{0} $2 $3 $4 $5",order:0,samples:[{view:"All",value:"*"},{view:"*/2",value:"*/2"},{view:"*/3",value:"*/3"},{view:"*/5",value:"*/5"},{view:"*/10",value:"*/10"},{view:"*/15",value:"*/15"},{view:"*/20",value:"*/20"},{view:"At the beginning",value:"0"}]},Hours:{name:"Hours",title:"Hours",start:0,end:23,reg_str:"$1 {0} $3 $4 $5",order:1,samples:[{view:"All",value:"*"},{view:"*/2",value:"*/2"},{view:"*/3",value:"*/3"},{view:"*/4",value:"*/4"},{view:"*/5",value:"*/5"},{view:"*/6",value:"*/6"},{view:"*/8",value:"*/8"},{view:"At the beginning",value:"0"}]},DayOfMonth:{name:"DayOfMonth",title:"Days of Month",start:1,end:31,reg_str:"$1 $2 {0} $4 $5",order:2,samples:[{view:"All",value:"*"},{view:"*/2",value:"*/2"},{view:"*/3",value:"*/3"},{view:"*/4",value:"*/4"},{view:"*/5",value:"*/5"},{view:"*/7",value:"*/7"},{view:"At the beginning",value:"1"}]},Months:{name:"Months",title:"Months",start:1,end:12,reg_str:"$1 $2 $3 {0} $5",order:3,samples:[{view:"All",value:"*"},{view:"*/2",value:"*/2"},{view:"*/3",value:"*/3"},{view:"*/4",value:"*/4"},{view:"*/6",value:"*/6"},{view:"At the beginning",value:"1"}],labels:["","January","February","March","April","May","June","July","August","September","October","November","December"]},DaysOfWeek:{name:"DaysOfWeek",title:"Days of Week",start:0,end:6,reg_str:"$1 $2 $3 $4 {0}",order:4,samples:[{view:"All",value:"*"},{view:"*/2",value:"*/2"},{view:"*/3",value:"*/3"},{view:"At the beginning",value:"1"}],labels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}},val:"* * * * *",model:{}}},created(){for(let e of Object.values(this.crontab_elements))this.model[e.name]={},this.model[e.name+"Str"]="*"},mounted(){this.val=this.value,this.parseCronString(this.val),this.calculateValue()},methods:{toggleCrontab(){this.show_crontab=!this.show_crontab},parseItem(e,t,n,i){for(let t=n;t<=i;t++)e[t]=!1;t||(t="*");let s=t.split(",");for(let t in s)if(/^\*$/.test(s[t])){if(n<i)for(let t=n;t<=i;t++)e[t]=!1}else if(/^\*\/([0-9]+)$/.test(s[t])){let a=/^\*\/([0-9]+)$/.exec(s[t]);if(n<i&&a[1]/1>=1)for(let t=n;t<=i;t+=a[1]/1)e[t]=!0}else if(/^([0-9]+)-([0-9]+)$/.test(s[t])){let a=/^([0-9]+)-([0-9]+)$/.exec(s[t]);if(a[1]/1>i&&(a[1]=n),a[2]/1>i&&(a[2]=i),a[1]/1<a[2]/1)for(let t=a[1]/1;t<=a[2]/1;t++)e[t]=!0}else if(/^([0-9]+)$/.test(s[t]))s[t]/1<=i&&s[t]/1>=n&&(e[s[t]/1]=!0);else if(/^([0-9]+)\/([0-9]+)$/.test(s[t])){let a=/^([0-9]+)\/([0-9]+)$/.exec(s[t]);if(a[1]/1>i&&(a[1]=n),a[1]/1<i&&a[2]/1>=1)for(let t=a[1]/1;t<=i;t+=a[2]/1)e[t]=!0}else if(/^([0-9]+)-([0-9]+)\/([0-9]+)$/.test(s[t])){let a=/^([0-9]+)-([0-9]+)\/([0-9]+)$/.exec(s[t]);if(a[1]/1>i&&(a[1]=n),a[2]/1>i&&(a[2]=i),a[1]/1<a[2]/1&&a[3]/1>=1)for(let t=a[1]/1;t<=a[2]/1;t+=a[3]/1)e[t]=!0}return e},parseCronString(e){void 0!==e&&(this.val=e),(5!=(e=this.val.trim().split(" ")).length||/[A-z]/.test(this.val))&&(this.val="* * * * *",e=this.val.trim().split(" "));for(let t of Object.values(this.crontab_elements))this.model[t.name+"Str"]=e[t.order];for(let e of Object.values(this.crontab_elements))this.parseItem(this.model[e.name],this.model[e.name+"Str"],e.start,e.end)},_calculateValue_handle(e){let t=[];for(let n in this.model[e.name])this.model[e.name][n]&&t.push(n/1);this.model[e.name+"Str"]=this.compileItem(t,e.start,e.end)},calculateValue(){for(let e of Object.values(this.crontab_elements))this._calculateValue_handle(e);this.val=this.model.MinutesStr+" "+this.model.HoursStr+" "+this.model.DayOfMonthStr+" "+this.model.MonthsStr+" "+this.model.DaysOfWeekStr,this.model={...this.model}},setCrontabElValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.crontab_elements[e.name];t&&(this.val=this.value.replace(/^([^ ]+) +([^ ]+) +([^ ]+) +([^ ]+) +([^ ]+)/gim,t.reg_str.format([e.value])),this.parseCalcAndSave(this.val))},setModelValue(e){this.model[e.prop]&&(this.model[e.prop][e.number]=e.value),this.calculateValue(),this.$emit("set-value",this.val)},updateValue(e){this.val=e,this.parseCalcAndSave(this.val)},parseCalcAndSave(e){this.parseCronString(e),this.calculateValue(),this.$emit("set-value",e)},compileItem(e,t,n){let i=[];if(i.push(e.join(",")),!e||!e.length||e.length==n-t+1)return"*";if(e.length){let s=[];for(let i=2;i<n/2;i++){let a=!1;for(let e in s)i%s[e]==0&&(a=!0);if(a)continue;let r=!0;for(let s=t;s<n;s+=i)if(-1==e.indexOf(s)){r=!1;break}r&&s.push(i)}let a=[],r=[];for(let e=0;e<s.length;e++){for(let i=t;i<n;i+=s[e])a.push(i);r.push("*/"+s[e])}let o=-1,l=[];for(let t=0;t<e.length;t++)if(-1==a.indexOf(e[t])){if(o+1==e[t])l.push(e[t]);else{if(l.length>2)r.push(l[0]+"-"+l[l.length-1]);else if(l.length)for(let e=0;e<l.length;e++)r.push(l[e]);l=[e[t]]}o=e[t]}if(l.length>2)r.push(l[0]+"-"+l[l.length-1]);else if(l.length)for(let e=0;e<l.length;e++)r.push(l[e]);i.push(r.join(","))}if(e.length){let t=-1,n=[],s=[];for(let i=0;i<e.length;i++){if(t+1==e[i])s.push(e[i]);else{if(s.length>2)n.push(s[0]+"-"+s[s.length-1]);else if(s.length)for(let e=0;e<s.length;e++)n.push(s[e]);s=[e[i]]}t=e[i]}if(s.length>2)n.push(s[0]+"-"+s[s.length-1]);else if(s.length)for(let e=0;e<s.length;e++)n.push(s[e]);i.push(n.join(","))}let s=99999,a="";for(let e in i)i[e].length<s&&(s=i[e].length,a=i[e]);return a}}},Ve=Ee,Me=(0,L.Z)(Ve,Se,[],!1,null,null,null).exports,Ie={components:{field_content_edit:{mixins:[A.BaseFieldContentEdit,Me]}}};class Re extends A.BaseField{_getValue(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[this.options.name]||"* * * * *"}toInner(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getValue(e)}toRepresent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getValue(e)}static get mixins(){return super.mixins.concat(Ie)}}var Oe=Re,Be=n(30381),Ne=n.n(Be),De={data(){return{inputType:"date"}}},je={components:{field_content_readonly:{mixins:[A.BaseFieldContentReadonlyMixin,De]},field_content_edit:{mixins:[A.BaseFieldContentEdit,De]}}};class Le extends A.BaseField{constructor(e){super(e),this.dateInnerFormat="YYYY-MM-DD",this.dateRepresentFormat=this.props.format||this.dateInnerFormat}_getValue(e,t){if(e)return Ne()(e).format(t)}toInner(e){return this._getValue(super.toInner(e),this.dateInnerFormat)}toRepresent(e){return this._getValue(super.toInner(e),this.dateRepresentFormat)}static get mixins(){return super.mixins.concat(je)}}var qe=Le,$e=n(94611),Ue=n.n($e),He={data(){return{inputType:"datetime-local"}},computed:{preparedValue(){return this.value?this.value.format(this.format):""},format(){var e;return(null===(e=this.field)||void 0===e?void 0:e.dateRepresentFormat)||"llll"}}},Ge={mixins:[A.BaseFieldMixin],components:{field_content_readonly:{mixins:[A.BaseFieldContentReadonlyMixin,He]},field_content_edit:{mixins:[A.BaseFieldContentEdit,He],computed:{format(){return"YYYY-MM-DDTHH:mm"}}},field_list_view:{mixins:[A.BaseFieldListView,He]}}};class ze extends A.BaseField{constructor(e){super(e),this.dateRepresentFormat=this.props.format||"llll"}toInner(e){var t,n,i;const s=super.toInner(e);if(s)return Ue().tz(s,Ue().tz.guess()).tz((null===(t=this.constructor)||void 0===t||null===(n=t.app)||void 0===n||null===(i=n.api)||void 0===i?void 0:i.getTimeZone())||"UTC").format()}toRepresent(e){var t,n,i;const s=super.toRepresent(e);if(s)return Ue().tz(s,(null===(t=this.constructor)||void 0===t||null===(n=t.app)||void 0===n||null===(i=n.api)||void 0===i?void 0:i.getTimeZone())||"UTC").tz(Ue().tz.guess())}static get mixins(){return[Ge]}}var We=ze,Qe=n(66044);const Ye={methods:{handleValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e[this.field.options.name];if(void 0!==t)return{value:this.field._toInner(e),represent_value:t}}},components:{field_content_edit:{mixins:[A.BaseFieldContentEdit,Qe.IntegerFieldContentMixin],data(){return{default_field_attrs:{min:0}}}}}};var Ke=Ye,Je=n(53259);class Xe extends Je.integer.IntegerField{toInner(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[this.options.name];if(e)return"object"==typeof e&&e.value?e.value:e}_toInner(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[this.options.name];if(e)return 1e3*e}toRepresent(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[this.options.name];if(e)return"object"==typeof e&&e.represent_value?e.represent_value:e/1e3}static get mixins(){return super.mixins.concat(Ke)}}var et=Xe,tt=n(53973),nt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group"},[t("input",{class:e.classes,style:e.styles,attrs:{type:"text",required:e.attrs.required,"aria-labelledby":e.label_id,"aria-label":e.aria_label},domProps:{value:e.value},on:{blur:function(t){return e.$emit("set-value",t.target.value)}}}),e._v(" "),t("DownButton",{on:{action:e.$parent.callDoDecrease,"reset-increment":e.$parent.resetIncrement}}),e._v(" "),t("UpButton",{on:{action:e.$parent.callDoIncrease,"reset-increment":e.$parent.resetIncrement}}),e._v(" "),e.hasHideButton?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e(),e._v(" "),e.hasDefaultValue?t("SetDefaultButton",{nativeOn:{click:function(t){return e.$parent.valueToDefault.apply(null,arguments)}}}):e._e()],1)};nt._withStripped=!0;var it=function(){var e=this,t=e._self._c;return t("div",{class:e.wrapperClasses,style:e.wrapperStyles,attrs:{"data-toggle":"tooltip",title:e.helpText},on:{mousedown:function(t){return e.$emit("action")},mouseup:function(t){return e.$emit("reset-increment")},mouseleave:function(t){return e.$emit("reset-increment")}}},[t("span",{class:e.spanClasses,style:e.spanStyles},[t("span",{class:e.iconClasses,style:e.iconStyles})])])};it._withStripped=!0;var st={mixins:[Te.Di]},at=n(8947),rt={};rt.styleTagTransform=le(),rt.setAttributes=se(),rt.insert=ne().bind(null,"head"),rt.domAPI=ee(),rt.insertStyleElement=re(),J()(at.Z,rt),at.Z&&at.Z.locals&&at.Z.locals;var ot=(0,L.Z)(st,it,[],!1,null,"0567e189",null).exports,lt={components:{DownButton:{mixins:[ot],data(){return{iconClasses:["fa","fa-chevron-left"],helpText:"Decrease value"}}},UpButton:{mixins:[ot],data(){return{iconClasses:["fa","fa-chevron-right"],helpText:"Increase value"}}}},mixins:[A.BaseFieldContentEdit],data(){return{class_list:["form-control","uptime-input"]}}},ut=(0,L.Z)(lt,nt,[],!1,null,null,null).exports;const dt={mask:tt.ZP.MaskedRange,from:0,to:99},ct={mask:tt.ZP.MaskedRange,from:0,to:12},pt={mask:tt.ZP.MaskedRange,from:0,to:31},ft={mask:tt.ZP.MaskedRange,from:0,to:23},ht={mask:tt.ZP.MaskedRange,from:0,to:59},mt={mask:tt.ZP.MaskedRange,from:0,to:59};var vt={components:{field_content_edit:ut},data(){return{uptimeSettings:{timeout:100,iteration:1,mouseDown:!1},maskObj:{mask:[{mask:"HH:mm:SS",blocks:{HH:ft,mm:ht,SS:mt}},{mask:"DAYd HH:mm:SS",blocks:{DAY:pt,HH:ft,mm:ht,SS:mt}},{mask:"MONTHm DAYd HH:mm:SS",blocks:{MONTH:ct,DAY:pt,HH:ft,mm:ht,SS:mt}},{mask:"YEARy MONTHm DAYd HH:mm:SS",blocks:{YEAR:dt,MONTH:ct,DAY:pt,HH:ft,mm:ht,SS:mt}}]}}},mounted(){const e=this.$el.getElementsByTagName("input")[0];e&&(!this.value&&this.field.hasDefault&&this.setValue(this.field.toRepresent(this.field.default)),this.field.readOnly||(this.IMask=new tt.ZP(e,this.maskObj)))},methods:{value_in_seconds(){const e=O().extend(!0,{},this.data,{[this.field.name]:this.value});return this.field.toInner(e)},valueUp(e){let t=this.value_in_seconds()+e;t>=3155759999&&(t=0);let n=O().extend(!0,{},this.data);n[this.field.options.name]=t,this.setValue(this.field.toRepresent(n))},valueDown(e){let t=this.value_in_seconds()-e;t<0&&(t=0);let n=O().extend(!0,{},this.data);n[this.field.options.name]=t,this.setValue(this.field.toRepresent(n))},doIncrease(){if(this.uptimeSettings.mouseDown){let e=this.getIncrement(this.uptimeSettings.iteration);this.valueUp(e),this.uptimeSettings.iteration++,setTimeout(this.doIncrease,this.uptimeSettings.timeout)}},doDecrease(){if(this.uptimeSettings.mouseDown){let e=this.getIncrement(this.uptimeSettings.iteration);this.valueDown(e),this.uptimeSettings.iteration++,setTimeout(this.doDecrease,this.uptimeSettings.timeout)}},getIncrement(e){return e>=40?1e3:e>=30?100:e>=20?10:1},resetIncrement(){this.uptimeSettings.mouseDown=!1,this.uptimeSettings.iteration=1},callDoIncrease(){this.uptimeSettings.mouseDown=!0,setTimeout(this.doIncrease,this.uptimeSettings.timeout)},callDoDecrease(){this.uptimeSettings.mouseDown=!0,setTimeout(this.doDecrease,this.uptimeSettings.timeout)}}};class gt extends A.BaseField{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.reg_exp_arr=[/(?<y>[0-9]+)[y] (?<m>[0-9]+)[m] (?<d>[0-9]+)[d] (?<hh>[0-9]+):(?<mm>[0-9]+):(?<ss>[0-9]+)/,/(?<m>[0-9]+)[m] (?<d>[0-9]+)[d] (?<hh>[0-9]+):(?<mm>[0-9]+):(?<ss>[0-9]+)/,/(?<d>[0-9]+)[d] (?<hh>[0-9]+):(?<mm>[0-9]+):(?<ss>[0-9]+)/,/(?<hh>[0-9]+):(?<mm>[0-9]+):(?<ss>[0-9]+)/]}toInner(e){const t=super.toInner(e);if(!t)return;if(!isNaN(Number(t)))return Number(t);let n=0;for(const e of this.reg_exp_arr){const i=e.exec(t);if(!i)continue;const s=i.groups;let a={seconds:Number(s.ss),minutes:Number(s.mm),hours:Number(s.hh),days:Number(s.d||0),months:Number(s.m||0),years:Number(s.y||0)};return n=Ne().duration(a).asSeconds(),n}return n}toRepresent(e){return(0,T.getTimeInUptimeFormat)(super.toRepresent(e))}static get mixins(){return super.mixins.concat(vt)}}var _t=gt,bt=n(38527),yt={extends:Te.Di,data(){return{wrapperClasses:[],wrapperStyles:{},spanClasses:["btn","btn-default","btn-right","textfile"],spanStyles:{float:"right",margin:"0 0 10px 10px"},iconStyles:{}}}},wt=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t("div",{staticClass:"file-buttons"},[t("ClearButton",{nativeOn:{click:function(t){return e.clearValue.apply(null,arguments)}}}),e._v(" "),t("ReadFileButton",{attrs:{"media-types":e.field.allowedMediaTypes},on:{"read-file":function(t){return e.$parent.readFile(t)}}}),e._v(" "),e.hasHideButton?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e()],1),e._v(" "),t("textarea",{class:e.classes,style:e.styles,attrs:{placeholder:e.$u.capitalize(e.$t("enter value")),required:e.attrs.required,minlength:e.attrs.minlength,maxlength:e.attrs.maxlength,"aria-labelledby":e.label_id,"aria-label":e.aria_label},domProps:{value:e.value},on:{input:e.onInput}})])};wt._withStripped=!0;var xt=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("label",{class:e.wrapperClasses,style:e.wrapperStyles,attrs:{"data-toggle":"tooltip",title:e.$tc(e.helpText)}},[t("span",{class:e.spanClasses,style:e.spanStyles,on:{change:e.onChange}},[t("input",{staticClass:"input-file",staticStyle:{"pointer-events":"none"},attrs:{type:"file",accept:e.accept,multiple:e.multiple}}),e._v(" "),t("span",{class:e.iconClasses,style:e.iconStyles})])])};xt._withStripped=!0;var Ct=(0,G.defineComponent)({extends:yt,props:{mediaTypes:{type:Array,default:()=>["*"]}},data(){return{iconClasses:["far","fa-file-alt"],helpText:"Open file",multiple:!1}},computed:{accept(){return Array.isArray(this.mediaTypes)?this.mediaTypes.join(","):"*/*"}},methods:{onChange(e){this.$emit("read-file",e)}}}),St=(0,L.Z)(Ct,xt,[],!1,null,null,null).exports,kt=(0,G.defineComponent)({components:{ReadFileButton:St},extends:A.BaseFieldContentEdit,emits:["set-value","hide-field"],data(){return{styles_dict:{resize:"vertical"}}},computed:{selectorText(){return this.$u.capitalize(this.$tc("file n selected",this.value?1:0))}},methods:{onInput(e){this.$emit("set-value",e.target.value)}}}),Ft=n(26560),Zt={};Zt.styleTagTransform=le(),Zt.setAttributes=se(),Zt.insert=ne().bind(null,"head"),Zt.domAPI=ee(),Zt.insertStyleElement=re(),J()(Ft.Z,Zt),Ft.Z&&Ft.Z.locals&&Ft.Z.locals;var At=(0,L.Z)(kt,wt,[],!1,null,"d92651d4",null).exports,Tt=(0,G.defineComponent)({components:{field_content_edit:At},extends:A.BaseFieldMixin,props:A.FieldPropsDef,data(){return{file_reader_method:"readAsText",file_obj:void 0}},methods:{readFile(e){var t;const n=e instanceof FileList?e[0]:null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;this.file_obj=n;const i=new FileReader;i.onload=this.readFileOnLoadCallback.bind(this),i[this.file_reader_method](n)},readFileOnLoadCallback(e){this.$emit("set-value",{field:this.field.name,value:e.target.result}),this.$el.querySelector("input").value=""}}});function Pt(e){var t,n;return null!==(t=e["x-options"])&&void 0!==t&&t.media_types?e["x-options"].media_types:null!==(n=e["x-validators"])&&void 0!==n&&n.extensions?e["x-validators"].extensions:void 0}class Et extends A.BaseField{constructor(e){super(e),(0,Z.Z)(this,"allowedMediaTypes",void 0),this.allowedMediaTypes=Pt(e)}getEmptyValue(){return null}static get mixins(){return[Tt]}}(0,Z.Z)(Et,"fkLinkable",!1);var Vt=n(56716);const Mt=e=>Vt.a.ts("File{fileName} is too large",{fileName:e?' "'.concat(e,'"'):""}),It=e=>Vt.a.ts("File{fileName} is too small",{fileName:e?' "'.concat(e,'"'):""});function Rt(e,t){if(void 0!==e.options.maxLength&&t.length>e.options.maxLength)throw new Error("".concat(Mt(),", ").concat(Vt.a.ts("Max length: {0}",[e.options.maxLength]).toLowerCase()));if(void 0!==e.options.minLength&&t.length<e.options.minLength)throw new Error("".concat(It(),", ").concat(Vt.a.ts("Min length: {0}",[e.options.minLength]).toLowerCase()))}var Ot=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("FileFieldSelector",{attrs:{hideable:e.hasHideButton,clearable:e.value,field:e.field,text:e.selectorText},on:{input:e.readFile,clear:e.clearValue,hide:function(t){return e.$emit("hide-field",e.field)}}})};Ot._withStripped=!0;var Bt=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.FileInput,{attrs:{"file-types":e.field.allowedMediaTypes,text:e.text,multiple:e.multiple,disabled:e.disabled},on:{input:function(e){return n.emit("input",e)}},scopedSlots:e._u([{key:"append",fn:function(){return[e.hideable?t("button",{staticClass:"btn input-group-text",attrs:{title:e.$ts("Hide field")},on:{click:function(e){return n.emit("hide")}}},[t("i",{staticClass:"fa fa-minus"})]):e._e(),e._v(" "),e.clearable?t("button",{staticClass:"btn input-group-text",attrs:{title:e.$ts("Clear field")},on:{click:function(e){return n.emit("clear")}}},[t("i",{staticClass:"fa fa-times"})]):e._e()]},proxy:!0}])})};Bt._withStripped=!0;var Nt=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{ref:"dragZone",staticClass:"file-input input-group",class:{"is-dragover":n.isDragOver}},[t("div",{staticClass:"form-control file-selector-text"},[e._v(e._s(e.text))]),e._v(" "),t("input",{staticClass:"hidden-input",attrs:{id:n.inputId,type:"file",accept:n.fileTypesStr,multiple:e.multiple,disabled:e.disabled},on:{input:n.handleInput}}),e._v(" "),t("div",{staticClass:"input-group-append"},[t("label",{staticClass:"btn input-group-text",attrs:{for:n.inputId,title:n.helpText,disabled:e.disabled}},[t("i",{staticClass:"far fa-file-alt",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",{staticClass:"sr-only"},[e._v(e._s(n.helpText))])]),e._v(" "),e._t("append")],2)])};Nt._withStripped=!0;const Dt=function(){const e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}();function jt(e){e.preventDefault(),e.stopPropagation()}const Lt=["dragover","dragenter"],qt=["dragleave","dragend","drop"],$t=["drag","dragstart",...Lt,...qt];var Ut=(0,G.defineComponent)({__name:"FileInput",props:{multiple:{type:Boolean},text:null,fileTypes:{default:()=>["*/*"]},disabled:{type:Boolean}},emits:["input"],setup(e,t){let{emit:n}=t;const i=e,s="file-selector-".concat((0,T.getUniqueId)()),a=(0,G.ref)(!1),r=(0,G.ref)(null),o=(0,G.computed)((()=>i.fileTypes.join(","))),l=(0,G.computed)((()=>i.multiple?Vt.a.ts("Select files"):Vt.a.ts("Select file")));return function(e){let{dragZoneRef:t,onDragOver:n,onDragLeave:i,onDragFinished:s}=e;if(!Dt)return;function a(e){const a=t.value;for(const t of $t)a[e](t,jt);if(n)for(const t of Lt)a[e](t,n);if(i)for(const t of qt)a[e](t,i);s&&a[e]("drop",s)}(0,G.onBeforeUnmount)((()=>{t.value&&a("removeEventListener")}));const r=(0,G.watch)(t,(()=>{t.value&&(a("addEventListener"),r())}))}({dragZoneRef:r,onDragOver:()=>a.value=!0,onDragLeave:()=>a.value=!1,onDragFinished:e=>n("input",Array.from(e.dataTransfer.files))}),{__sfc:!0,props:i,emit:n,inputId:s,isDragOver:a,dragZone:r,fileTypesStr:o,helpText:l,handleInput:function(e){const t=e.target;n("input",Array.from(t.files)),t.value=""}}}}),Ht=n(79721),Gt={};Gt.styleTagTransform=le(),Gt.setAttributes=se(),Gt.insert=ne().bind(null,"head"),Gt.domAPI=ee(),Gt.insertStyleElement=re(),J()(Ht.Z,Gt),Ht.Z&&Ht.Z.locals&&Ht.Z.locals;var zt=(0,L.Z)(Ut,Nt,[],!1,null,"47a537a6",null).exports,Wt=(0,G.defineComponent)({__name:"FileFieldSelector",props:{field:null,text:null,multiple:{type:Boolean},clearable:null,hideable:{type:Boolean},disabled:{type:Boolean}},emits:["input","clear","hide"],setup(e,t){let{emit:n}=t;return{__sfc:!0,emit:n,FileInput:zt}}}),Qt=(0,L.Z)(Wt,Bt,[],!1,null,null,null).exports,Yt=(0,G.defineComponent)({components:{FileFieldSelector:Qt},extends:At,methods:{readFile(e){const t=e[0];if(!t)return;const n=new FileReader;n.onload=()=>this.$emit("set-value",(0,T.arrayBufferToBase64)(n.result)),n.readAsArrayBuffer(t)}}}),Kt=(0,L.Z)(Yt,Ot,[],!1,null,null,null).exports,Jt=function(){var e=this,t=e._self._c;return e.value?t("a",{staticClass:"btn btn-secondary",attrs:{href:"data:application/octet-stream;base64,".concat(e.value),download:e.field.name}},[t("i",{staticClass:"fas fa-download"})]):e._e()};Jt._withStripped=!0;var Xt={mixins:[A.BaseFieldContentReadonlyMixin]},en=(0,L.Z)(Xt,Jt,[],!1,null,null,null).exports,tn=(0,G.defineComponent)({components:{field_content_edit:Kt,field_content_readonly:en},extends:Tt}),nn=class extends Et{static get mixins(){return[tn]}validateValue(e){const t=this.getValue(e);if(t){if(void 0!==this.options.maxLength&&t.length>this.options.maxLength)throw new Error(Mt());if(void 0!==this.options.minLength&&t.length<this.options.minLength)throw new Error(It())}return super.validateValue(e)}},sn={mixins:[St],data(){return{wrapperClasses:["input-group-append"],wrapperStyles:{margin:"0"},spanClasses:["btn","input-group-text","textfile"],spanStyles:{margin:"0",borderLeft:"none"},iconClasses:["far","fa-file-alt"],iconStyles:{},helpText:"Open file",multiple:!1}},methods:{onChange(e){this.$emit("read-file",e.target.files),e.target.value=null}}},an=(n(43847),n(57640),n(9924),n(90548)),rn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t(n.MultipleFilesInput,{attrs:{hideable:e.hideable,clearable:e.value&&e.value.length>0,field:e.field,text:n.text},on:{input:n.readFiles,clear:function(e){return n.emit("clear")},hide:function(e){return n.emit("hide-field")}}}),e._v(" "),e.value&&e.value.length>0?t(n.FilesList,{attrs:{files:e.value},on:{remove:n.removeFile}}):e._e()],1)};rn._withStripped=!0;var on=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticStyle:{display:"contents"}},[t(n.FileFieldSelector,{attrs:{hideable:e.hideable,clearable:e.clearable,field:e.field,text:e.text,multiple:""},on:{input:n.readFiles,clear:function(e){return n.emit("clear")},hide:function(e){return n.emit("hide")}}}),e._v(" "),n.filesToRename.length>0?t(n.FileNamesEditor,{staticStyle:{"margin-top":"1rem"},attrs:{files:n.filesToRename,"max-length":n.maxNameLength,"min-length":n.minNameLength},on:{done:n.readFiles,cancel:function(e){n.filesToRename=[]}}}):e._e()],1)};function ln(e){return(0,G.computed)((()=>{var t;return null!==(t=e.value)&&void 0!==t&&t.content?e.value.name||Vt.a.tc("file n selected",1):""}))}function un(e){return e&&"object"==typeof e&&!("mediaType"in e)&&(e={...e,mediaType:null}),e}function dn(e){const t=(0,G.computed)((()=>{var t,n,i;return null!==(t=null===(n=e.value.options.properties)||void 0===n||null===(i=n.name)||void 0===i?void 0:i.minLength)&&void 0!==t?t:Number.NEGATIVE_INFINITY})),n=(0,G.computed)((()=>{var t,n,i;return null!==(t=null===(n=e.value.options.properties)||void 0===n||null===(i=n.name)||void 0===i?void 0:i.maxLength)&&void 0!==t?t:Number.POSITIVE_INFINITY}));return{validate:function(e){return!(e.name.length>n.value||e.name.length<t.value)},minLength:t,maxLength:n}}function cn(e,t){var n,i,s,a;const r=null===(n=e.options.properties)||void 0===n||null===(i=n.content)||void 0===i?void 0:i.minLength,o=null===(s=e.options.properties)||void 0===s||null===(a=s.content)||void 0===a?void 0:a.maxLength;let l=!0;if(void 0!==r)for(const e of t)e.content.length<r&&(an.guiPopUp.error(It(e.name)),l=!1);if(void 0!==o)for(const e of t)e.content.length>o&&(an.guiPopUp.error(Mt(e.name)),l=!1);return l}function pn(e,t){const n=e.options.minLength,i=e.options.maxLength;if(void 0!==n||void 0!==i){const e=JSON.stringify(t);if(void 0!==n&&e.length<n)throw new Error(It(t.name));if(void 0!==i&&e.length>i)throw new Error(Mt(t.name))}}on._withStripped=!0,n(64211),n(41874);var fn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.Card,[t("form",{on:{submit:function(e){return e.preventDefault(),n.check.apply(null,arguments)}}},[e._l(n.filesData,(function(i,s){return t("div",{key:s,staticClass:"form-group"},[t("input",{staticClass:"form-control",attrs:{"data-idx":s,maxlength:e.maxLength,minlength:e.minLength},domProps:{value:i.value},on:{input:n.handleInput}}),e._v(" "),i.errorText?t("small",{staticClass:"form-text info"},[t("span",{staticStyle:{color:"var(--danger)"}},[e._v(e._s(i.errorText))]),e._v(" "),t("span",[e._v(e._s(i.value.length))])]):e._e()])})),e._v(" "),t("button",{staticClass:"btn btn-default",attrs:{type:"submit",disabled:!n.ready}},[e._v(e._s(e.$t("Save")))]),e._v(" "),t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){return n.emit("cancel")}}},[e._v(e._s(e.$t("Cancel")))])],2)])};fn._withStripped=!0,n(68216),n(79433);var hn=n(76118),mn=(0,G.defineComponent)({__name:"FileNamesEditor",props:{files:null,maxLength:null,minLength:null},emits:["done","cancel"],setup(e,t){let{emit:n}=t;const i=e,s=(0,G.ref)(i.files.map((e=>e.name))),a=(0,G.computed)((()=>i.files.map(((e,t)=>{const n=s.value[t];return{value:n,errorText:n.length<i.minLength?Vt.a.t("Minimum filename length: {0}",[i.minLength]):n.length>i.maxLength?Vt.a.t("Maximum filename length: {0}",[i.maxLength]):""}})))),r=(0,G.computed)((()=>a.value.every((e=>!e.errorText))));return{__sfc:!0,props:i,emit:n,values:s,filesData:a,ready:r,handleInput:function(e){const t=e.target,n=Number.parseInt(t.dataset.idx);(0,G.set)(s.value,n,t.value)},check:function(){n("done",i.files.map(((e,t)=>new File([e],s.value[t],{type:e.type}))))},Card:hn.Z}}}),vn=n(11435),gn={};gn.styleTagTransform=le(),gn.setAttributes=se(),gn.insert=ne().bind(null,"head"),gn.domAPI=ee(),gn.insertStyleElement=re(),J()(vn.Z,gn),vn.Z&&vn.Z.locals&&vn.Z.locals;var _n=(0,L.Z)(mn,fn,[],!1,null,"2efa8755",null).exports,bn=(0,G.defineComponent)({__name:"MultipleFilesInput",props:{field:null,text:null,multiple:{type:Boolean},clearable:null,hideable:{type:Boolean}},emits:["input","clear","hide"],setup(e,t){let{emit:n}=t;const i=e,{validate:s,maxLength:a,minLength:r}=dn((0,G.toRef)(i,"field")),o=(0,G.ref)([]);return{__sfc:!0,props:i,emit:n,validateName:s,maxNameLength:a,minNameLength:r,filesToRename:o,readFiles:function(e){o.value=[],e.some((e=>!s(e)))?o.value=e:n("input",e)},FileNamesEditor:_n,FileFieldSelector:Qt}}}),yn=(0,L.Z)(bn,on,[],!1,null,null,null).exports,wn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ul",e._l(e.files,(function(i,s){return t("li",{key:s},[t("div",{staticClass:"item-wrapper"},[t("span",{staticClass:"cursor-pointer break-word",attrs:{title:"Download file"},domProps:{textContent:e._s(i.name)},on:{click:function(e){return n.fileClickHandler(i)}}}),e._v(" "),e.readonly?e._e():t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return n.emit("remove",s)}}},[t("i",{staticClass:"fa fa-times"})])])])})),0)};wn._withStripped=!0;var xn=(0,G.defineComponent)({__name:"FilesList",props:{files:null,readonly:{type:Boolean}},emits:["remove"],setup(e,t){let{emit:n}=t;return{__sfc:!0,emit:n,fileClickHandler:function(e){(0,T.downloadBase64File)(e)}}}}),Cn=n(34498),Sn={};Sn.styleTagTransform=le(),Sn.setAttributes=se(),Sn.insert=ne().bind(null,"head"),Sn.domAPI=ee(),Sn.insertStyleElement=re(),J()(Cn.Z,Sn),Cn.Z&&Cn.Z.locals&&Cn.Z.locals;var kn=(0,L.Z)(xn,wn,[],!1,null,"4fdbf401",null).exports,Fn=(0,G.defineComponent)({__name:"MultipleNamedBinaryFileFieldContentEdit",props:A.FieldEditPropsDef,emits:["set-value","hide-field","clear"],setup(e,t){let{emit:n}=t;const i=e,s=(0,G.computed)((()=>{var e,t;return Vt.a.tc("file n selected",null!==(e=null===(t=i.value)||void 0===t?void 0:t.length)&&void 0!==e?e:0)}));return{__sfc:!0,props:i,emit:n,text:s,removeFile:function(e){let t=i.value?[...i.value]:[];t.splice(e,1),n("set-value",t)},readFiles:async function(e){var t;const s=[];for(const t of e)s.push(await(0,T.readFileAsObject)(t));n("set-value",[...null!==(t=i.value)&&void 0!==t?t:[],...s])},MultipleFilesInput:yn,FilesList:kn}}}),Zn=(0,L.Z)(Fn,rn,[],!1,null,null,null).exports,An=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return e.value&&e.value.length>0?t(n.BootstrapModal,{attrs:{styles:"width: 90vw; max-width: 1000px",title:n.title},scopedSlots:e._u([{key:"activator",fn:function(e){let{openModal:n}=e;return[t("button",{staticClass:"btn",attrs:{type:"button"}},[t("i",{staticClass:"fas fa-file-alt",staticStyle:{"font-size":"1.5rem"},on:{click:function(e){return e.stopPropagation(),n.apply(null,arguments)}}})])]}}],null,!1,2896517625)},[t(n.FilesList,{attrs:{files:e.value,readonly:""}})],1):e._e()};An._withStripped=!0;var Tn=n(43223),Pn=(0,G.defineComponent)({__name:"MultipleNamedBinaryFileFieldContentList",props:{field:null,value:null},setup(e){const t=e,n=(0,G.computed)((()=>"".concat(Vt.a.t("File list")," (").concat(Vt.a.t(t.field.title),")")));return{__sfc:!0,props:t,title:n,BootstrapModal:Tn.Z,FilesList:kn}}}),En=(0,L.Z)(Pn,An,[],!1,null,null,null).exports,Vn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",[e._v("\n        "+e._s(n.text)+"\n    ")]),e._v(" "),e.value&&e.value.length>0?t(n.FilesList,{attrs:{files:e.value,readonly:""}}):e._e()],1)};Vn._withStripped=!0;var Mn=(0,G.defineComponent)({__name:"MultipleNamedBinaryFileFieldContentReadonly",props:{value:null},setup(e){const t=e,n=(0,G.computed)((()=>{var e,n;return Vt.a.tc("file n selected",null!==(e=null===(n=t.value)||void 0===n?void 0:n.length)&&void 0!==e?e:0)}));return{__sfc:!0,props:t,text:n,FilesList:kn}}}),In=(0,L.Z)(Mn,Vn,[],!1,null,null,null).exports,Rn=(0,G.defineComponent)({components:{field_content_readonly:In,field_content_edit:Zn,field_list_view:En},extends:A.BaseFieldMixin}),On=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.SingleFileInput,{attrs:{hideable:e.hideable,clearable:!!e.value,field:e.field,text:n.name},on:{input:n.readFile,clear:function(e){return n.emit("clear")},hide:function(e){return n.emit("hide-field")}}})};On._withStripped=!0;var Bn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.renaming?t(n.FileRenameInput,{attrs:{file:n.renaming,"max-length":n.maxNameLength,"min-length":n.minNameLength},on:{done:function(e){return n.readFile([e])}}}):t(n.FileFieldSelector,{attrs:{hideable:e.hideable,clearable:e.clearable,field:e.field,text:e.text},on:{input:n.readFile,clear:function(e){return n.emit("clear")},hide:function(e){return n.emit("hide")}}})};Bn._withStripped=!0;var Nn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("form",{on:{submit:function(e){return e.preventDefault(),n.check.apply(null,arguments)}}},[t("div",{staticClass:"input-group"},[t("input",e._b({directives:[{name:"model",rawName:"v-model",value:n.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:n.value},on:{input:function(e){e.target.composing||(n.value=e.target.value)}}},"input",n.attrs,!1)),e._v(" "),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn input-group-text",attrs:{type:"submit",disabled:!!n.errorText,title:e.$ts("Save")}},[t("i",{staticClass:"fas fa-save"})])])]),e._v(" "),n.errorText?t("small",{staticClass:"form-text",staticStyle:{display:"flex","justify-content":"space-between"}},[t("span",{staticStyle:{color:"var(--danger)"}},[e._v(e._s(n.errorText))]),e._v(" "),t("span",[e._v(e._s(n.value.length))])]):e._e()])};Nn._withStripped=!0;var Dn=(0,G.defineComponent)({__name:"FileRenameInput",props:{file:null,maxLength:null,minLength:null},emits:["done"],setup(e,t){let{emit:n}=t;const i=e,s=(0,G.ref)(i.file.name),a=(0,G.computed)((()=>{const e={};return Number.isFinite(i.minLength)&&(e.minlength=i.minLength),Number.isFinite(i.maxLength)&&(e.maxlength=i.maxLength),e})),r=(0,G.computed)((()=>s.value.length<i.minLength?Vt.a.t("Min length: {0}",[i.minLength]):s.value.length>i.maxLength?Vt.a.t("Max length: {0}",[i.maxLength]):""));return{__sfc:!0,props:i,emit:n,value:s,attrs:a,errorText:r,check:function(){r.value||n("done",new File([i.file],s.value,{type:i.file.type}))}}}}),jn=(0,L.Z)(Dn,Nn,[],!1,null,null,null).exports,Ln=(0,G.defineComponent)({__name:"SingleFileInput",props:{field:null,text:null,multiple:{type:Boolean},clearable:null,hideable:{type:Boolean}},emits:["input","clear","hide"],setup(e,t){let{emit:n}=t;const i=e,s=(0,G.ref)(),{validate:a,maxLength:r,minLength:o}=dn((0,G.toRef)(i,"field"));return{__sfc:!0,props:i,emit:n,renaming:s,validateName:a,maxNameLength:r,minNameLength:o,readFile:async function(e){s.value=void 0;const t=e[0];t&&(a(t)?n("input",t):s.value=t)},FileRenameInput:jn,FileFieldSelector:Qt}}}),qn=(0,L.Z)(Ln,Bn,[],!1,null,null,null).exports,$n=(0,G.defineComponent)({__name:"NamedBinaryFileFieldContentEdit",props:A.FieldEditPropsDef,emits:["set-value","hide-field","clear"],setup(e,t){let{emit:n}=t;const i=e,s=ln((0,G.toRef)(i,"value"));return{__sfc:!0,props:i,emit:n,name:s,readFile:async function(e){const t=await(0,T.readFileAsObject)(e);cn(i.field,[t])&&n("set-value",t)},SingleFileInput:qn}}}),Un=(0,L.Z)($n,On,[],!1,null,null,null).exports,Hn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.link?t("a",{attrs:{href:n.link,download:n.fileName}},[e._v(e._s(n.text))]):e._e()};Hn._withStripped=!0;var Gn=(0,G.defineComponent)({__name:"NamedBinaryFileFieldReadonly",props:{field:null,value:null},setup(e){const t=e,n=(0,G.computed)((()=>{var e;if(null!==(e=t.value)&&void 0!==e&&e.content)return(0,T.makeDataImageUrl)(t.value)})),i=(0,G.computed)((()=>{var e;return null!==(e=t.value)&&void 0!==e&&e.name?t.value.name:t.field.name})),s=ln((0,G.toRef)(t,"value"));return{__sfc:!0,props:t,link:n,fileName:i,text:s}}}),zn=(0,L.Z)(Gn,Hn,[],!1,null,null,null).exports,Wn=(0,G.defineComponent)({components:{field_content_readonly:zn,field_content_edit:Un,field_list_view:zn},extends:A.BaseFieldMixin});class Qn extends A.BaseField{constructor(e){super(e),(0,Z.Z)(this,"allowedMediaTypes",void 0),this.allowedMediaTypes=Pt(e)}static get mixins(){return[Wn]}validateValue(e){const t=super.validateValue(e);if(t&&pn(this,t),t&&this.required&&null===t.name&&null===t.content)throw{error:"validation",message:Vt.a.ts(an.pop_up_msg.field.error.empty)};return t}toRepresent(e){return un(this.getValue(e))}getEmptyValue(){return null}}var Yn=Qn;class Kn extends A.BaseField{constructor(e){Object.assign(e,e.items),delete e.items,super(e),(0,Z.Z)(this,"allowedMediaTypes",void 0),this.allowedMediaTypes=Pt(e)}static get mixins(){return[Rn]}getInitialValue(){const e=super.getInitialValue();return void 0===e?this.getEmptyValue():e}getEmptyValue(){return[]}validateValue(e){const t=super.validateValue(e);if(t&&this.options.required&&Array.isArray(t)&&0===t.length){const e=(this.options.title||this.options.name).toLowerCase();throw{error:"validation",message:Vt.a.ts(an.pop_up_msg.field.error.empty).format(Vt.a.ts(e))}}return t}toRepresent(e){let t=this.getValue(e);return"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)?t.map((e=>un(e))):t}}var Jn=Kn,Xn=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.BootstrapModal,{attrs:{title:n.imageAlt},scopedSlots:e._u([{key:"activator",fn:function(i){let{openModal:s}=i;return[t("div",{staticClass:"preview-img",style:{backgroundImage:n.cssSrc,...e.previewStyle},on:{click:function(e){return e.stopPropagation(),s.apply(null,arguments)}}})]}}])},[t("img",{staticClass:"image-field-content",staticStyle:{"max-height":"80vh"},attrs:{src:n.src,alt:n.imageAlt}})])};Xn._withStripped=!0;var ei=(0,G.defineComponent)({__name:"ImageBlock",props:{value:null,field:null,previewStyle:null},setup(e){const t=e,n=(0,G.computed)((()=>{var e;if(null!==(e=t.value)&&void 0!==e&&e.content)return(0,T.makeDataImageUrl)(t.value)})),i=(0,G.computed)((()=>{if(n.value)return'url("'.concat(n.value,'")')})),s=(0,G.computed)((()=>Vt.a.ts(t.field.title)));return{__sfc:!0,props:t,src:n,cssSrc:i,imageAlt:s,BootstrapModal:Tn.Z}}}),ti=n(70545),ni={};ni.styleTagTransform=le(),ni.setAttributes=se(),ni.insert=ne().bind(null,"head"),ni.domAPI=ee(),ni.insertStyleElement=re(),J()(ti.Z,ni),ti.Z&&ti.Z.locals&&ti.Z.locals;var ii=(0,L.Z)(ei,Xn,[],!1,null,"1fe7c439",null).exports,si=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[n.showPreview?t(n.ImageBlock,{attrs:{field:e.field,value:e.value,"preview-style":{marginBottom:"1rem"}}}):e._e(),e._v(" "),n.imagesForValidation?t(n.ResolutionValidatorModal,{attrs:{field:e.field,images:n.imagesForValidation},on:{cancel:n.cancelValidation,validated:n.onImageValidated}}):e._e(),e._v(" "),t(n.SingleFileInput,{attrs:{hideable:e.hideable,clearable:!!e.value,field:e.field,text:n.name},on:{input:function(e){return n.readFiles([e])},clear:function(e){return n.emit("clear")},hide:function(e){return n.emit("hide-field")}}})],1)};function ai(e,t){const n=(0,G.ref)(null);return{imagesForValidation:n,cancelValidation:function(){n.value=null},readFiles:async function(i){const s=[];for(const e of i)s.push(await(0,T.readFileAsObject)(e));if(!cn(e,s))return;const a=e.allowedMediaTypes;if(a&&a.length>0)for(const{mediaType:e,name:t}of s)if(!a.includes(e))return void an.guiPopUp.error("".concat(Vt.a.t("This file format is not supported"),": ").concat(null!=t?t:""));if(e.resolutionConfig){for(const{content:e,mediaType:t,name:n}of s){let i=null;try{i=await(0,T.loadImage)((0,T.makeDataImageUrl)({content:e,mediaType:t}))}catch(e){}const s=[];if(i||s.push(Vt.a.t("Invalid file {0}",[n])),s.length)return void an.guiPopUp.error(s.join("<br/>"))}n.value=s}else t(s)}}}si._withStripped=!0;var ri=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.BootstrapModal,{ref:"modalRef",attrs:{"wrapper-classes":"validator-modal",classes:"modal-lg"},on:{exit:n.onModalClosed,shown:function(e){n.isOpen=!0}}},[n.isOpen?t(n.ResolutionValidatorImage,{key:n.currentImageIdx,attrs:{image:n.image,field:e.field},on:{crop:n.onCrop}}):e._e()],1)};ri._withStripped=!0;var oi=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"img-wrapper"},[n.preparedImage?t("img",{ref:"imageRef",staticClass:"hidden modal-img",attrs:{src:n.preparedImage,alt:""},on:{load:n.initCropper}}):e._e()]),e._v(" "),t("div",{staticClass:"button-margin"},[t("div",{staticClass:"btn-group mb-2"},[t("button",{staticClass:"btn btn-primary button-small",attrs:{type:"button"},on:{click:function(e){return n.zoom(.1)}}},[t("span",{staticClass:"fa fa-search-plus"})]),e._v(" "),t("button",{staticClass:"btn btn-primary btn-title button-small",attrs:{type:"button",disabled:""}},[e._v("\n                "+e._s(e.$t("Zoom"))+"\n            ")]),e._v(" "),t("button",{staticClass:"btn btn-primary button-small",attrs:{type:"button"},on:{click:function(e){return n.zoom(-.1)}}},[t("span",{staticClass:"fa fa-search-minus"})])]),e._v(" "),t("div",{staticClass:"btn-group mb-2"},[t("button",{staticClass:"btn btn-primary button-small",attrs:{type:"button",disabled:!n.isScale},on:{click:function(e){return n.scale(.1)}}},[t("span",{staticClass:"fa fa-search-plus"})]),e._v(" "),t("button",{staticClass:"btn btn-primary btn-title button-small",attrs:{type:"button",disabled:""}},[e._v("\n                "+e._s(e.$t("Scale"))+"\n            ")]),e._v(" "),t("button",{staticClass:"btn btn-primary button-small",attrs:{type:"button",disabled:n.zoomOutDisabled},on:{click:function(e){return n.scale(-.1)}}},[t("span",{staticClass:"fa fa-search-minus"})])]),e._v(" "),t("div",{staticClass:"btn-group mb-2"},[t("button",{staticClass:"btn btn-primary button-small",attrs:{type:"button"},on:{click:function(e){return n.rotate(-90)}}},[t("span",{staticClass:"fa fa-undo"})]),e._v(" "),t("button",{staticClass:"btn btn-primary btn-title button-small",attrs:{type:"button",disabled:""}},[e._v("\n                "+e._s(e.$t("Rotate"))+"\n            ")]),e._v(" "),t("button",{staticClass:"btn btn-primary button-small",attrs:{type:"button"},on:{click:function(e){return n.rotate(90)}}},[t("span",{staticClass:"fa fa-redo"})])])]),e._v(" "),n.ready?e._l(n.checkParams,(function(i){return t("p",{key:i,staticClass:"validator-params"},[e._v("\n            "+e._s(e.$u.capitalize(e.$ts(i)))+": "+e._s(n.paramsValues[i])+"px.\n            "),n.isValidSizeParam(i)?e._e():t("span",{staticClass:"error"},[e._v("\n                "+e._s(n.getErrorMessage(i))+"\n            ")])])})):e._e(),e._v(" "),t("button",{staticClass:"btn btn-primary button-small",attrs:{disabled:!n.isValid},on:{click:n.crop}},[e._v("\n        "+e._s(e.$t("Crop"))+"\n    ")])],2)};oi._withStripped=!0;var li=n(33129),ui=n.n(li),di=n(98005),ci=n.n(di),pi=(0,G.defineComponent)({__name:"ResolutionValidatorImage",props:{field:null,image:null},emits:["crop"],setup(e,t){let{emit:n}=t;const i=e,s=["jpeg","png","webp"],a=["width","height"],r=(0,G.ref)(!1),o=(0,G.ref)(!1),l=4096,u=(0,G.ref)(!0);let d=null;const c=(0,G.ref)(null);let p=1,f=1;const h=(0,G.ref)(null),m=(0,G.ref)(!1),v=(0,G.reactive)({width:0,height:0}),g=i.field.resolutionConfig,_=(0,G.computed)((()=>{const e=(i.image.name||"").split(".").last;return s.includes(e)?e:"jpeg"})),b=(0,G.computed)((()=>0===a.filter((e=>!x(e))).length));function y(e){return new Promise(((t,n)=>{new(ci())(e,{quality:.8,maxWidth:l,maxHeight:l,success(e){return t(e)},error(e){return n(e)}})}))}async function w(e){const t=await fetch((0,T.makeDataImageUrl)(e)),n=await t.blob();return new File([n],e.name||"",{type:e.mediaType})}function x(e){return g[e].min<=v[e]&&v[e]<=g[e].max}function C(e){d.zoom(e)}return w(i.image).then((e=>y(e))).then((e=>(0,T.readFileAsDataUrl)(e))).then((e=>{h.value=e})),{__sfc:!0,allowedExtensions:s,checkParams:a,props:i,emit:n,ready:r,readyToCrop:o,RESOLUTION:l,isScale:u,cropper:d,imageRef:c,scaleX:p,scaleY:f,preparedImage:h,zoomOutDisabled:m,paramsValues:v,config:g,format:_,isValid:b,getNormalizedFile:y,namedFileToFile:w,initCropper:function(){if(d)return;const e=g.width.min,t=g.height.min,n=g.width.max,i=g.height.max;d=new(ui())(c.value,{viewMode:0,dragMode:"move",zoomable:!0,autoCrop:!1,ready:()=>{if(r.value=!0,e||t){const n=d.getCanvasData(),i=n.width/n.naturalWidth,s=d.getContainerData(),a=i*e,r=i*t,o=Math.max((a-s.width)/s.width,(r-s.height)/s.height);o>0&&C(-1.05*o)}o.value=!0,d.crop()},zoom:e=>{if(!o.value)return;const t=e.detail.ratio,n=d.getCanvasData(),i=n.naturalWidth*t/n.width;if(i>1){const t=d.getCropBoxData(),n=t.width*i,s=t.height*i;(n>d.cropper.clientWidth||s>d.cropper.clientHeight)&&e.preventDefault()}},crop:s=>{if(!o.value)return;p=s.detail.scaleX,f=s.detail.scaleY;const a=Math.round(s.detail.width),r=Math.round(s.detail.height);v.width=a,v.height=r,(a<e||r<t||a>n||r>i)&&d.setData({width:Math.round(Math.max(e,Math.min(n,a))),height:Math.round(Math.max(t,Math.min(i,r)))})}})},isValidSizeParam:x,getErrorMessage:function(e){if("height"===e||"width"===e)return Vt.a.t("imageValidationResolutionError",{min:g[e].min,max:g[e].max})},crop:function(){const e=d.getData(!0);let t=d.getCroppedCanvas({width:g.width.max||e.width,height:g.height.max||e.height,maxWidth:4096,maxHeight:4096,fillColor:i.field.backgroundFillColor}).toDataURL(i.image.mediaType||"image/".concat(_.value));t=t.replace(/data:\w*\/?\w*;?(base64)?,/,""),n("crop",t)},scale:function(e){const t=(p||1)+e,n=(f||1)+e;if(t<.1||n<.1)m.value=!0;else{if(m.value=!1,e>0){const e=d.getCanvasData();if(e.naturalHeight*n>l)return void(u.value=!1);if(e.naturalWidth*t>l)return void(u.value=!1)}u.value=!0,d.scale(t,n)}},zoom:C,rotate:function(e){d.rotate(e)}}}}),fi=n(61186),hi={};hi.styleTagTransform=le(),hi.setAttributes=se(),hi.insert=ne().bind(null,"head"),hi.domAPI=ee(),hi.insertStyleElement=re(),J()(fi.Z,hi),fi.Z&&fi.Z.locals&&fi.Z.locals;var mi=(0,L.Z)(pi,oi,[],!1,null,"0ec81725",null).exports,vi=(0,G.defineComponent)({__name:"ResolutionValidatorModal",props:{field:null,images:null},emits:["cancel","validated"],setup(e,t){let{emit:n}=t;const i=e,s=(0,G.ref)(0),a=(0,G.ref)(!1),r=(0,G.ref)(null),o=[],l=(0,G.computed)((()=>i.images[s.value]));return(0,G.onMounted)((()=>{r.value.open()})),{__sfc:!0,props:i,emit:n,currentImageIdx:s,isOpen:a,modalRef:r,resized:o,image:l,onModalClosed:function(){n("cancel"),a.value=!1},onCrop:function(e){o.push({...l.value,content:e}),s.value+=1,s.value===i.images.length&&(n("validated",o),n("cancel"))},BootstrapModal:Tn.Z,ResolutionValidatorImage:mi}}}),gi=n(85135),_i={};_i.styleTagTransform=le(),_i.setAttributes=se(),_i.insert=ne().bind(null,"head"),_i.domAPI=ee(),_i.insertStyleElement=re(),J()(gi.Z,_i),gi.Z&&gi.Z.locals&&gi.Z.locals;var bi=(0,L.Z)(vi,ri,[],!1,null,"96c3182c",null).exports,yi=(0,G.defineComponent)({__name:"NamedBinaryImageFieldContentEdit",props:A.FieldEditPropsDef,emits:["set-value","hide-field","clear"],setup(e,t){let{emit:n}=t;const i=e,s=(0,G.computed)((()=>{var e;return null===(e=i.value)||void 0===e?void 0:e.content}));function a(e){e.length>0?n("set-value",e[0]):n("set-value",null)}const r=ln((0,G.toRef)(i,"value")),{imagesForValidation:o,cancelValidation:l,readFiles:u}=ai(i.field,a);return{__sfc:!0,props:i,emit:n,showPreview:s,onImageValidated:a,name:r,imagesForValidation:o,cancelValidation:l,readFiles:u,ImageBlock:ii,ResolutionValidatorModal:bi,SingleFileInput:qn}}}),wi=(0,L.Z)(yi,si,[],!1,null,null,null).exports,xi=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return e.value&&e.value.content?t(n.ImageBlock,{attrs:{field:e.field,value:e.value},nativeOn:{click:function(e){e.stopPropagation()}}}):e._e()};xi._withStripped=!0;var Ci=(0,G.defineComponent)({__name:"NamedBinaryImageFieldContentReadonly",props:{field:null,value:null},setup(e){return{__sfc:!0,ImageBlock:ii}}}),Si=(0,L.Z)(Ci,xi,[],!1,null,null,null).exports,ki=(0,G.defineComponent)({components:{field_content_readonly:Si,field_content_edit:wi,field_list_view:Si},extends:A.BaseFieldMixin});class Fi{constructor(e,t,n,i){(0,Z.Z)(this,"width",void 0),(0,Z.Z)(this,"height",void 0),this.width={min:e,max:t},this.height={min:n,max:i}}static createIfNeeded(e){const{min_width:t,max_width:n,min_height:i,max_height:s}=e["x-validators"]||{};return[t,n,i,s].some((e=>"number"==typeof e))?new Fi(t||Number.NEGATIVE_INFINITY,n||Number.POSITIVE_INFINITY,i||Number.NEGATIVE_INFINITY,s||Number.POSITIVE_INFINITY):null}}class Zi extends Yn{constructor(e){var t;super(e),(0,Z.Z)(this,"resolutionConfig",void 0),(0,Z.Z)(this,"backgroundFillColor",void 0),this.resolutionConfig=Fi.createIfNeeded(e),this.backgroundFillColor=null!==(t=this.props.backgroundFillColor)&&void 0!==t?t:"transparent"}static get mixins(){return[ki]}}(0,Z.Z)(Zi,"fkLinkable",!1);var Ai=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",[e._v("\n        "+e._s(n.text)+"\n    ")]),e._v(" "),e.value&&e.value.length?t(n.Carousel,{attrs:{items:e.value,name:e.$ts(e.field.title),readonly:""}}):e._e()],1)};Ai._withStripped=!0;var Ti=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"container text-center my-3"},[t(n.Splide,{ref:"splideRef",attrs:{options:n.options},on:{"splide:mounted":n.updateOptions}},e._l(n.preparedItems,(function(i,s){var a;return t(n.SplideSlide,{key:s,staticStyle:{cursor:"pointer"},nativeOn:{click:function(e){return n.onClick(s)}}},[t("div",{staticClass:"splide__container"},[t("div",{staticClass:"splide__content",staticStyle:{overflow:"hidden"}},[e.$listeners["remove-file"]?t("span",{staticClass:"fa fa-times btn-default remove-file",on:{click:function(e){return e.stopPropagation(),n.emit("remove-file",s)}}}):e._e(),e._v(" "),t("img",{staticStyle:{margin:"4px auto 16px auto",width:"90%",height:"auto"},attrs:{src:i.imgSrc,alt:null!==(a=i.name)&&void 0!==a?a:""}}),e._v(" "),t("div",{staticClass:"item-title"},[e._v("\n                        "+e._s(i.name)+"\n                    ")])])])])})),1),e._v(" "),t(n.BootstrapModal,{ref:"modalRef",attrs:{title:e.$ts(e.name),"render-body-when-shown":""}},[t(n.Splide,{staticClass:"modal-slider",attrs:{options:{rewind:!0,perPage:1,start:n.selectedImageIdx}}},e._l(n.preparedItems,(function(e,i){var s;return t(n.SplideSlide,{key:i},[t("img",{staticStyle:{"max-width":"100%","max-height":"100%"},attrs:{src:e.imgSrc,alt:null!==(s=e.name)&&void 0!==s?s:""}})])})),1)],1)],1)};Ti._withStripped=!0;var Pi=n(13358),Ei=(n(58988),(0,G.defineComponent)({__name:"Carousel",props:{items:null,name:null,readonly:{type:Boolean}},emits:["remove-file"],setup(e,t){let{emit:n}=t;const i=e,s=(0,G.ref)(),a=(0,G.ref)(),r=(0,G.ref)(0),o=(0,G.computed)((()=>i.items.map((e=>({...e,imgSrc:(0,T.makeDataImageUrl)(e)})))));(0,G.watch)(o,(()=>{(0,G.nextTick)().then((()=>{var e;null===(e=s.value)||void 0===e||e.splide.refresh()}))}));const l={rewind:!0,focus:"center",perPage:2,pagination:!1,width:"90vw"};function u(){var e;const t=null===(e=s.value)||void 0===e?void 0:e.$el.clientWidth,n=Math.floor(t/150);l.perPage!==n&&(l.perPage=n,s.value&&(s.value.splide.options=l))}return(0,G.onMounted)((()=>{window.addEventListener("resize",u)})),(0,G.onBeforeUnmount)((()=>{window.removeEventListener("resize",u)})),{__sfc:!0,props:i,emit:n,splideRef:s,modalRef:a,selectedImageIdx:r,preparedItems:o,options:l,onClick:function(e){r.value=e,a.value.open()},updateOptions:u,Splide:Pi.tv,SplideSlide:Pi.jw,BootstrapModal:Tn.Z}}})),Vi=Ei,Mi=n(20649),Ii={};Ii.styleTagTransform=le(),Ii.setAttributes=se(),Ii.insert=ne().bind(null,"head"),Ii.domAPI=ee(),Ii.insertStyleElement=re(),J()(Mi.Z,Ii),Mi.Z&&Mi.Z.locals&&Mi.Z.locals;var Ri=(0,L.Z)(Vi,Ti,[],!1,null,"0ad7db6c",null).exports,Oi=(0,G.defineComponent)({__name:"MultipleNamedBinaryImageFieldContentReadonly",props:{field:null,value:null},setup(e){const t=e,n=(0,G.computed)((()=>{var e,n;return Vt.a.tc("image n selected",null!==(e=null===(n=t.value)||void 0===n?void 0:n.length)&&void 0!==e?e:0)}));return{__sfc:!0,props:t,text:n,Carousel:Ri}}}),Bi=(0,L.Z)(Oi,Ai,[],!1,null,null,null).exports,Ni=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[n.imagesForValidation?t(n.ResolutionValidatorModal,{attrs:{field:e.field,images:n.imagesForValidation},on:{cancel:n.cancelValidation,validated:n.onImagesValidated}}):e._e(),e._v(" "),t(n.MultipleFilesInput,{attrs:{hideable:e.hideable,clearable:e.value&&e.value.length>0,field:e.field,text:n.text},on:{input:n.readFiles,clear:function(e){return n.emit("clear")},hide:function(e){return n.emit("hide-field")}}}),e._v(" "),e.value&&e.value.length?t(n.Carousel,{attrs:{items:e.value,name:e.$ts(e.field.title)},on:{"remove-file":n.removeFile}}):e._e()],1)};Ni._withStripped=!0;var Di=(0,G.defineComponent)({__name:"MultipleNamedBinaryImageFieldContentEdit",props:A.FieldEditPropsDef,emits:["set-value","hide-field","clear"],setup(e,t){let{emit:n}=t;const i=e,s=(0,G.computed)((()=>{var e,t;return Vt.a.tc("image n selected",null!==(e=null===(t=i.value)||void 0===t?void 0:t.length)&&void 0!==e?e:0)}));function a(e){var t;n("set-value",[...null!==(t=i.value)&&void 0!==t?t:[],...e])}const{imagesForValidation:r,cancelValidation:o,readFiles:l}=ai(i.field,a);return{__sfc:!0,props:i,emit:n,text:s,onImagesValidated:a,removeFile:function(e){let t=i.value?[...i.value]:[];t.splice(e,1),n("set-value",t)},imagesForValidation:r,cancelValidation:o,readFiles:l,ResolutionValidatorModal:bi,MultipleFilesInput:yn,Carousel:Ri}}}),ji=(0,L.Z)(Di,Ni,[],!1,null,null,null).exports,Li=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return e.value&&e.value.length>0?t(n.BootstrapModal,{attrs:{classes:"modal-lg",title:e.$ts(e.field.title)},on:{exit:function(e){n.shown=!1},shown:function(e){n.shown=!0}},scopedSlots:e._u([{key:"body",fn:function(){return[n.shown?t(n.Splide,{attrs:{options:n.options}},e._l(n.preparedItems,(function(e,i){var s;return t(n.SplideSlide,{key:i},[t("img",{staticClass:"slide-image",attrs:{src:e.imgSrc,alt:null!==(s=e.name)&&void 0!==s?s:""}})])})),1):e._e()]},proxy:!0},{key:"activator",fn:function(e){let{openModal:n}=e;return[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),n.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-eye"})])]}}],null,!1,2374029067)}):e._e()};Li._withStripped=!0;var qi=(0,G.defineComponent)({__name:"MultipleNamedBinaryImageFieldListView",props:{field:null,value:null},setup(e){const t=e,n=(0,G.ref)(!1),i=(0,G.computed)((()=>{var e;return(null!==(e=t.value)&&void 0!==e?e:[]).map((e=>({...e,imgSrc:(0,T.makeDataImageUrl)(e)})))}));return{__sfc:!0,props:t,options:{heightRatio:1,perPage:1,perMove:1,rewind:!0,rewindByDrag:!0},shown:n,preparedItems:i,Splide:Pi.tv,SplideSlide:Pi.jw,BootstrapModal:Tn.Z}}}),$i=n(22985),Ui={};Ui.styleTagTransform=le(),Ui.setAttributes=se(),Ui.insert=ne().bind(null,"head"),Ui.domAPI=ee(),Ui.insertStyleElement=re(),J()($i.Z,Ui),$i.Z&&$i.Z.locals&&$i.Z.locals;var Hi=(0,L.Z)(qi,Li,[],!1,null,"710d8c99",null).exports,Gi=(0,G.defineComponent)({components:{field_content_readonly:Bi,field_content_edit:ji,field_list_view:Hi},extends:A.BaseFieldMixin}),zi=class extends Jn{constructor(e){var t;super(e),(0,Z.Z)(this,"resolutionConfig",void 0),(0,Z.Z)(this,"backgroundFillColor",void 0),this.resolutionConfig=Fi.createIfNeeded(this.options),this.backgroundFillColor=null!==(t=this.props.backgroundFillColor)&&void 0!==t?t:"transparent"}static get mixins(){return[Gi]}};class Wi extends Et{}var Qi=n(57460),Yi=n.n(Qi),Ki=n(64765),Ji=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"csv-table",style:n.requiredErrorTextVar},[t(n.FileFieldSelector,{attrs:{field:e.field,hideable:e.hideable,clearable:e.value&&e.value.length,text:n.text},on:{input:function(e){return n.updateFile(e[0])},clear:n.clear,hide:function(e){return n.emit("hide-field")}}}),e._v(" "),t("div",{staticClass:"m-0"},[t(n.DataTable,{attrs:{model:n.rowModel,"min-column-width":e.field.minColumnWidth,rows:n.rows},on:{change:function(e){return n.emit("set-value",e)}}})],1)],1),e._v(" "),t(n.ConfirmModal,{ref:"confirmationModalRef",attrs:{message:e.$ts("Your changes will be deleted. Are you sure?")},on:{confirm:n.confirmClear,reject:n.rejectClear}})],1)};Ji._withStripped=!0;var Xi=n(48955),es=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"csv-table"},[e.readonly?e._e():t("button",{staticClass:"btn btn-outline-primary my-2",on:{click:n.add}},[t("i",{staticClass:"fa fa-plus"})]),e._v(" "),t(n.CustomVirtualTable,{attrs:{config:n.tableConfig,data:e.rows,height:600,"item-height":55,selectable:!1,"min-width":n.tableConfig.length*e.minColumnWidth,language:"en"},scopedSlots:e._u([e.readonly?null:{key:"actionCommon",fn:function(i){let{index:s,row:a}=i;return[t("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return n.edit(s,a)}}},[t("i",{staticClass:"fa fa-edit"})]),e._v(" "),t("button",{staticClass:"btn btn-outline-warning",staticStyle:{"margin-left":"5px"},on:{click:function(e){return n.del(s)}}},[t("i",{staticClass:"fa fa-times"})])]}}],null,!0)}),e._v(" "),t(n.BootstrapModal,{ref:"editModal",attrs:{"body-classes":"p-0"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",form:"row-edit-form"}},[e._v("\n                "+e._s(e.$t("Save"))+"\n            ")])]},proxy:!0}])},[n.editingRow?t("form",{attrs:{id:"row-edit-form"},on:{submit:function(e){return e.preventDefault(),n.saveRow.apply(null,arguments)}}},[t(n.ModelFields,{attrs:{model:e.model,data:n.editingRow.sandbox.value,"flat-if-possible":"","flat-fields-classes":"col-12",editable:""},on:{"set-value":function(e){var t;null===(t=n.editingRow)||void 0===t||t.sandbox.set(e)}}})],1):e._e()])],1)};es._withStripped=!0;var ts=n(51100),ns=n(13034);const is=(0,G.defineComponent)({mixins:[ts.Z],methods:{parseClass(e,t){const n={};for(const i in e)n[i]=new Function("row",e[i])(t);return n}}});function ss(e,t){const n=[{prop:"_index",name:Vt.a.ts("Index")}],i=Array.from(e.fields.values());for(const e of i){const i={prop:e.name,name:e.title};!t&&e.required&&(i.eClass={missedValue:'\n                        const value = row["'.concat(e.name,"\"];\n                        return !value || value === '0';\n                    ")}),n.push(i)}return n}var as=(0,G.defineComponent)({__name:"DataTable",props:{model:null,rows:null,readonly:{type:Boolean},minColumnWidth:{default:200}},emits:["change"],setup(e,t){let{emit:n}=t;const i=e,s=(0,T.getApp)(),a=(0,G.ref)(),r=(0,G.ref)(null),o=(0,G.ref)(),l=(0,G.computed)((()=>ss(i.model,i.readonly))),u=(0,G.computed)((()=>{const e=l.value.slice();return i.readonly||e.splice(1,0,{prop:"_action",name:Vt.a.ts("Actions"),actionName:"actionCommon",width:200}),e}));return{__sfc:!0,CustomVirtualTable:is,getTableConfig:ss,props:i,emit:n,app:s,editingRow:a,editingRowIdx:r,editModal:o,config:l,tableConfig:u,edit:function(e,t){a.value=new i.model(t),r.value=e,o.value.open()},add:function(){a.value=new i.model,r.value=i.rows.length,o.value.open()},del:function(e){const t=i.rows.slice();t.splice(e,1),n("change",t),an.guiPopUp.success(Vt.a.ts("Object removed from the list"))},saveRow:function(){let e;try{e=a.value.sandbox.validate()}catch(e){return void s.error_handler.defineErrorAndShow(e)}const t=i.rows.slice();t[r.value]=e,n("change",t),a.value=void 0,r.value=null,o.value.close(),an.guiPopUp.success(Vt.a.ts("Action completed successfully"))},ModelFields:ns.Z,BootstrapModal:Tn.Z}}}),rs=n(21805),os={};os.styleTagTransform=le(),os.setAttributes=se(),os.insert=ne().bind(null,"head"),os.domAPI=ee(),os.insertStyleElement=re(),J()(rs.Z,os),rs.Z&&rs.Z.locals&&rs.Z.locals;var ls=(0,L.Z)(as,es,[],!1,null,"37a0f1ac",null).exports,us=(0,G.defineComponent)({__name:"CSVFileFieldEdit",props:A.FieldEditPropsDef,emits:["set-value","hide-field","clear"],setup(e,t){let{emit:n}=t;const i=e,s=(0,G.ref)(),a=(0,G.computed)((()=>i.field.rowModel)),r=(0,G.computed)((()=>i.value||[])),o=(0,G.computed)((()=>'--required-error-text: "'.concat(Vt.a.tc("Column is required!"),'"'))),l=(0,G.computed)((()=>Vt.a.tc("file n selected",i.value?1:0)));return{__sfc:!0,props:i,emit:n,confirmationModalRef:s,rowModel:a,rows:r,requiredErrorTextVar:o,text:l,clear:function(){s.value.openModal()},confirmClear:function(){n("clear"),s.value.closeModal()},rejectClear:function(){s.value.closeModal()},updateFile:async function(e){if(!e)return void n("set-value",null);const t=await(0,T.readFileAsText)(e),s=i.field.parseFile(t);s&&n("set-value",s)},ConfirmModal:Xi.Z,DataTable:ls,FileFieldSelector:Qt}}}),ds=n(56296),cs={};cs.styleTagTransform=le(),cs.setAttributes=se(),cs.insert=ne().bind(null,"head"),cs.domAPI=ee(),cs.insertStyleElement=re(),J()(ds.Z,cs),ds.Z&&ds.Z.locals&&ds.Z.locals;var ps=(0,L.Z)(us,Ji,[],!1,null,"6d3fcb4a",null).exports,fs=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.rows.length>0?t("div",{staticStyle:{margin:"0"}},[t("div",{staticClass:"table-header"},[t("button",{staticClass:"btn btn-outline-secondary",attrs:{id:"download-button"},on:{click:n.download}},[t("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}})]),e._v(" "),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:n.withHeader,expression:"withHeader"}],attrs:{id:"checkbox",type:"checkbox"},domProps:{checked:Array.isArray(n.withHeader)?e._i(n.withHeader,null)>-1:n.withHeader},on:{change:function(t){var i=n.withHeader,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(n.withHeader=i.concat([null])):r>-1&&(n.withHeader=i.slice(0,r).concat(i.slice(r+1)))}else n.withHeader=a}}}),e._v(" "),t("label",{attrs:{for:"checkbox"}},[e._v(e._s(e.$t("Download with headers")))])])]),e._v(" "),t(n.DataTable,{attrs:{model:n.rowModel,"min-column-width":e.field.minColumnWidth,rows:n.rows,readonly:""}})],1):e._e()};fs._withStripped=!0,n(60285),n(41637),n(62062);var hs=(0,G.defineComponent)({__name:"CsvFileFieldReadonly",props:{field:null,value:null},setup(e){const t=e,n=(0,G.ref)(!1),i=(0,G.computed)((()=>t.field.rowModel)),s=(0,G.computed)((()=>{var e;return null!==(e=t.value)&&void 0!==e?e:[]}));return{__sfc:!0,props:t,withHeader:n,rowModel:i,rows:s,download:function(){if(t.value){const e=t.field.unparse(t.value,!n.value),i=new Blob([e],{type:"text/csv"}),s=URL.createObjectURL(i);window.open(s),URL.revokeObjectURL(s)}},DataTable:ls}}}),ms=n(52456),vs={};vs.styleTagTransform=le(),vs.setAttributes=se(),vs.insert=ne().bind(null,"head"),vs.domAPI=ee(),vs.insertStyleElement=re(),J()(ms.Z,vs),ms.Z&&ms.Z.locals&&ms.Z.locals;var gs=n(30518),_s={};_s.styleTagTransform=le(),_s.setAttributes=se(),_s.insert=ne().bind(null,"head"),_s.domAPI=ee(),_s.insertStyleElement=re(),J()(gs.Z,_s),gs.Z&&gs.Z.locals&&gs.Z.locals;var bs=(0,L.Z)(hs,fs,[],!1,null,"63e30122",null).exports,ys=n(27914);const ws=(0,G.defineComponent)({components:{field_content_edit:ps,field_content_readonly:bs},extends:A.BaseFieldMixin});class xs extends A.BaseField{constructor(e){super(e),(0,Z.Z)(this,"parserConfig",void 0),(0,Z.Z)(this,"minColumnWidth",void 0),(0,Z.Z)(this,"rowModel",void 0),(0,Z.Z)(this,"allowedMediaTypes",["text/csv"]),this.parserConfig={header:!1,skipEmptyLines:!0},this.props.parserConfig&&Object.assign(this.parserConfig,this.props.parserConfig),this.minColumnWidth=this.props.minColumnWidth,(0,Ki.$k)((()=>{this.rowModel=this.app.modelsResolver.bySchemaObject(this.props.items)}))}static get mixins(){return[ws]}toInner(e){const t=this.getValue(e);return"string"==typeof t?t:t?Yi().unparse(t,this.parserConfig):t}toRepresent(e){const t=this.getValue(e);return"string"==typeof t?this.parseFile(t):t}getColumnsNames(){return Array.from(this.rowModel.fields.keys())}get delimiter(){return this.parserConfig.delimiter||","}validateInner(e){const t=super.validateInner(e);return t&&Rt(this,t),t}parseFile(e){const t=this.getColumnsNames(),n=Yi().parse(e,this.parserConfig);return n.errors.length>0?(console.error(n),void an.guiPopUp.error(ys.i18n.ts('Cannot parse CSV file in field "{fieldName}"',{fieldName:ys.i18n.t(this.title)}))):n.data.map((e=>e.reduce(((e,n,i)=>(e[t[i]]=n,e)),(0,T.emptyInnerData)())))}unparse(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Yi().unparse(e,{delimiter:this.delimiter,header:!t})}}var Cs=n(38191),Ss=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"input-group"},[t("input",{ref:"inputRef",class:e.classes,style:e.styles,attrs:{type:"text","aria-labelledby":e.label_id,"aria-label":e.aria_label},on:{blur:e.handleBlur}}),e._v(" "),e.hasHideButton?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e(),e._v(" "),e.hasDefaultValue?t("SetDefaultButton",{nativeOn:{click:function(t){return e.$emit("set-value",e.field.default)}}}):e._e(),e._v(" "),t("ClearButton",{nativeOn:{click:function(t){return e.clearValue.apply(null,arguments)}}})],1)};Ss._withStripped=!0;var ks=(0,G.defineComponent)({name:"FKAutocompleteFieldContentEdit",extends:A.BaseFieldContentEdit,props:A.FieldEditPropsDef,emits:["set-value"],setup(e,t){let{emit:n}=t;const{querysets:i,queryset:s}=(0,Cs.useQuerySets)(e.field,e.data),a=(0,G.ref)(null),r=new Map;function o(t){const n=e.field.getValueFieldValue(t),i=e.field.getViewFieldValue(t);return'<div class="autocomplete-suggestion" data-value="'.concat((0,T.escapeHtml)(String(n)),'">\n                    ').concat((0,T.escapeHtml)(String(i)),"\n                </div>")}async function l(t,n){const a={limit:T.guiLocalSettings.get("page_size")||20,[e.field.viewField]:t},o=(0,T.getDependenceValueAsString)(e.data,e.field.props.field_dependence_name),l={fieldType:e.field.options.format,modelName:s.value.getResponseModelClass(T.RequestTypes.LIST).name,fieldName:e.field.options.name},u=i.value.map((t=>{const n={qs:t,filters:a};return void 0!==o&&(n.field_dependence_name=e.field.props.field_dependence_name,n.filter_name=e.field.props.filter_name,n[e.field.props.field_dependence_name]=o),Ki.pp.emit("filter.".concat(l.fieldType,".").concat(l.modelName,".").concat(l.fieldName),n),Object.prototype.hasOwnProperty.call(n,"nest_prom")?n.nest_prom:t.filter(a).items()}));try{const t=await Promise.all(u),i=[];void 0!==e.field.options.default&&("object"!=typeof e.field.options.default?i.push(new e.field.fkModel({[e.field.viewField]:e.field.options.default,[e.field.valueField]:e.field.options.default})):i.push(e.field.options.default));for(const e of t)for(const t of e)i.push(t);r.clear();for(const t of i)r.set(String(e.field.getValueFieldValue(t)),t);n(i)}catch(e){console.error(e)}}function u(e){const t=e.dataset.value,i=r.get(t);n("set-value",i)}return(0,G.onMounted)((()=>{(0,G.watch)((0,G.toRef)(e,"value"),(t=>{var n;a.value.value=null!==(n=e.field.getValueFieldValue(t))&&void 0!==n?n:""}),{immediate:!0})})),z({element:a,renderItem:o,filterItems:l,selectItem:u}),{querysets:i,queryset:s,renderItem:o,filterItems:l,selectItem:u,inputRef:a,handleBlur:function(e){n("set-value",e.target?e.target.value:void 0)}}}}),Fs=(0,L.Z)(ks,Ss,[],!1,null,null,null).exports,Zs=(0,G.defineComponent)({components:{field_content_edit:Fs},mixins:[Cs.FKFieldMixin]});class As extends Cs.FKField{constructor(e){super(e),this.makeLink=!1}static get mixins(){return[Zs]}}var Ts=As,Ps=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group"},[t("input",{class:e.classes,style:e.styles,attrs:{type:"text",required:e.attrs.required,disabled:e.disabled,"aria-labelledby":e.label_id,"aria-label":e.aria_label},domProps:{value:e.val},on:{input:function(t){return e.setValueByHandsInStore(t.target.value)}}}),e._v(" "),e.field.options.enable_button?t("field_enable_button",{attrs:{field:e.field,disabled:e.disabled},nativeOn:{click:function(t){return e.toggleEnableField.apply(null,arguments)}}}):e._e(),e._v(" "),e.hasHideButton?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e(),e._v(" "),t("field_fk_multi_autocomplete_modal",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],attrs:{options:e.modal_options},on:{"clean-tmp-value":e.cleanTmpValue,"change-value":e.changeTmpValue,"set-new-value":e.setValueInStore,"update-query-set":e.updateQuerySet}}),e._v(" "),t("ClearButton",{nativeOn:{click:function(t){return e.clearValue.apply(null,arguments)}}})],1)};Ps._withStripped=!0;var Es={computed:{qs(){return this.options.qs},field_props(){return this.options.field_props},field_value(){return this.options.field_value}},methods:{open(){let e=this.generateFilters();this.updateInstances(e)},close(){this.$emit("clean-tmp-value"),this.showModal=!1},changeValue(e){this.$emit("change-value",e)},setNewValue(){this.$emit("set-new-value"),this.close()},onUpdateInstances(e){this.$emit("update-query-set",e)}}},Vs={components:{field_enable_button:{mixins:[Te.Di],props:["disabled","field"],data(){return{iconClasses:["fa","fa-power-off"],helpText:"Enable/disable field"}},created(){this.handleDisabled(this.disabled)},watch:{disabled(e){this.handleDisabled(e)}},methods:{handleDisabled(e){e?this.iconStyles.color="#00c0ef":delete this.iconStyles.color,this.iconStyles={...this.iconStyles}}}},field_fk_multi_autocomplete_modal:Es},mixins:[A.BaseFieldContentEdit,Cs.FKFieldContent,Fs],data(){return{disabled:!1,values_cache:{},tmp_field_value:{value_val:void 0,view_val:void 0},queryset:void 0}},computed:{fieldProps(){return{value_field:this.field.valueField,view_field:this.field.viewField}},field_value(){return{value:this.tmp_field_value.value_val,view:this.tmp_field_value.view_val}},val(){return this.disabled?"Field is disabled":this._val},qs(){return this.queryset},modal_options(){return{qs:this.qs,fieldProps:this.fieldProps,fieldValue:this.fieldValue}}},watch:{value(e){e?this.setTmpValue(this.value.value,this.value.prefetch_value):this.cleanTmpValue()}},created(){this.queryset=this.field.getAppropriateQuerySet({data:this.data,querysets:this.querysets}),this.value&&this.setTmpValue(this.value.value,this.value.prefetch_value),void 0===this.value&&this.field.options.enable_button&&(this.disabled=this.field.options.enable_button)},methods:{toggleEnableField(){this.disabled=!this.disabled,this.$emit("set-value",this.field.getInitialValue())},addValueToCache(e,t){this.values_cache[e]={value_val:e,view_val:t}},setTmpValue(e,t){this.tmp_field_value.value_val=e,this.tmp_field_value.view_val=t},cleanTmpValue(){return this.value&&"object"==typeof this.value?this.setTmpValue(this.value.value,this.value.prefetch_value):this.setTmpValue()},changeTmpValue(e){e.value_val==this.tmp_field_value.value_val&&e.view_val==this.tmp_field_value.view_val?this.setTmpValue(void 0,void 0):(this.setTmpValue(e.value_val,e.view_val),this.addValueToCache(e.value_val,e.view_val))},setValueInStore(){let e={value:this.tmp_field_value.value_val,prefetch_value:this.tmp_field_value.view_val};void 0===e.value&&void 0===e.prefetch_value&&(e=void 0),this.$emit("set-value",e)},updateQuerySet(e){this.queryset=e}}},Ms=(0,L.Z)(Vs,Ps,[],!1,null,null,null).exports,Is={components:{field_content_edit:Ms}},Rs=class extends Ts{static get mixins(){return super.mixins.concat(Is)}},Os=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group mb-3"},[t("div",{staticClass:"input-group-prepend hidden-360"},[t("span",{staticClass:"input-group-text"},[e._v(e._s(e.$t(e.title)))])]),e._v(" "),t("input",{ref:"input",staticClass:"form-control rounded-360 modal-list-search-input",attrs:{type:"text",placeholder:e.$u.capitalize("".concat(e.$t("search by")," ").concat(e.$t(e.title)))},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.applyFilter.apply(null,arguments)}}}),e._v(" "),t("div",{staticClass:"input-group-append modal-list-search-apply cursor-pointer",on:{click:e.applyFilter}},[e._m(0)]),e._v(" "),t("div",{staticClass:"input-group-append cursor-pointer",on:{click:e.cleanFilterValue}},[e._m(1)])])};Os._withStripped=!0;var Bs={props:{title:{type:String,required:!0}},methods:{applyFilter(){this.$emit("filter",this.$refs.input.value)},cleanFilterValue(){this.$refs.input.value="",this.applyFilter()}}},Ns=(0,L.Z)(Bs,Os,[function(){var e=this._self._c;return e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])},function(){var e=this._self._c;return e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"fas fa-times",attrs:{"aria-hidden":"true"}})])}],!1,null,null,null).exports,Ds=function(){var e=this,t=e._self._c;return t("table",{staticClass:"table table-bordered multiple-select"},[t("thead",[t("tr",[t("th",{staticStyle:{width:"50px"}}),e._v(" "),e._l(e.fields,(function(n,i){return t("th",{key:i},[e._v("\n                "+e._s(e.$t(n.title))+"\n            ")])}))],2)]),e._v(" "),t("tbody",e._l(e.instances,(function(n,i){return t("fma_table_row",{key:i,attrs:{qs:e.qs,instance:n,fields:e.fields,field_props:e.fieldProps,field_value:e.fieldValue},on:{"change-value":e.changeValue}})})),1)])};Ds._withStripped=!0;var js=function(){var e=this,t=e._self._c;return t("tr",{staticClass:"item-row item-row-id highlight-tr",class:e.is_selected,attrs:{"data-id":e.instance.getPkValue(),"data-href":e.rowLink},on:{click:function(t){return e.goToTrLink(t,!0)}}},[t("td",{staticClass:"highlight-tr-none guiListSelections-toggle-btn td_select_btn",on:{click:e.selectCurrentInstance}},[t("div",{staticClass:"ico-on fa fa-toggle-on"}),e._v(" "),t("div",{staticClass:"ico-off fa fa-toggle-off"})]),e._v(" "),e._l(e.fieldsToShow,(function(n,i){return t("td",{key:i},[t("field_"+n.options.format,{tag:"component",attrs:{prop_data:e.data_to_represent,field:n,wrapper_opt:{list_view:!0,use_prop_data:!0}}})],1)}))],2)};js._withStripped=!0;var Ls=n(88225),qs={mixins:[Ls.Z],props:{qs:{type:Object,required:!0},instance:{type:Object,required:!0},fields:{type:Object,required:!0},fieldProps:{type:Object,required:!0},fieldValue:{type:Object,required:!0}},computed:{data_to_represent:function(){return this.instance.data},selected(){return!!this.fieldValue.value&&this.data_to_represent[this.fieldProps.value_field]===this.fieldValue.value},rowLink(){return this.base_url+"/"+this.instance.getPkValue()},is_selected(){return this.selected?"selected":""},base_url(){return this.qs.url.replace(/\/$/g,"")}},methods:{selectCurrentInstance(){let e=this.data_to_represent[this.fieldProps.view_field],t=this.data_to_represent[this.fieldProps.value_field];this.$emit("change-value",{view_val:e,value_val:t})}}},$s=(0,L.Z)(qs,js,[],!1,null,null,null).exports,Us={components:{fma_table_row:$s},props:{instances:{type:Object,required:!0},qs:{type:Object,required:!0},fieldProps:{type:Object,required:!0},fieldValue:{type:Object,required:!0}},computed:{fields(){return this.qs.model.fields}},methods:{changeValue(e){this.$emit("change-value",e)}}},Hs=(0,L.Z)(Us,Ds,[],!1,null,null,null).exports;class Gs extends Cs.FKField{constructor(e){super(e),this.onlyLastChild=this.props.only_last_child,this.parentFieldName=this.props.parent_field_name,this.limit=1e5}makeRequest(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.getAppropriateQuerySet({querysets:this.getAllQuerysets(this.constructor.app.getCurrentViewPath())}).clone({prefetchEnabled:!1}).filter({offset:e,limit:this.limit}).items().then((n=>(e+=this.limit,t=t.concat(n),e>=n.extra.count?t:this.makeRequest(e,t))))}getParentFieldValue(e){return null!==e&&"object"==typeof e?e._data?e._data[this.parentFieldName]:e[this.parentFieldName]:e}createTreeData(e){const t=JSON.parse(JSON.stringify(e)),n=new Map,i=[];for(let i=0;i<t.length;i++)n.set(this.getValueFieldValue(e[i]),i),t[i].children=[];for(let s=0;s<t.length;s++){const a={data:{instance:e[s]},id:this.getValueFieldValue(e[s]),text:this.getViewFieldValue(e[s]),parent:this.getParentFieldValue(e[s]),children:t[s].children};![null,a.id].includes(a.parent)&&n.has(a.parent)?t[n.get(a.parent)].children.push(a):i.push(a)}return i}static get mixins(){return[ea]}}var zs=Gs,Ws=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group d-flex flex-column"},[t("div",{staticClass:"input-group-sm mb-1 d-flex"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.treeFilter,expression:"treeFilter"}],staticClass:"form-control",staticStyle:{"border-radius":"3px 0px 0px 3px"},attrs:{type:"text",placeholder:e.$t("Search"),"aria-label":"Search"},domProps:{value:e.treeFilter},on:{input:function(t){t.target.composing||(e.treeFilter=t.target.value)}}}),e._v(" "),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-outline-secondary",staticStyle:{"border-radius":"0 3px 3px 0"},on:{click:function(t){e.treeFilter=""}}},[t("i",{staticClass:"fa fa-times"})])])]),e._v(" "),e.selectedText?t("h5",{staticClass:"mb-1"},[t("span",{staticClass:"badge badge-info"},[e._v("\n            "+e._s(e.$t("Selected"))+": "+e._s(e.selectedText)+"\n            "),t("i",{staticClass:"fa fa-times ml-2",staticStyle:{cursor:"pointer"},on:{click:e.removeValue}})])]):e._e(),e._v(" "),e.loaded?t("LiquorTree",{ref:"tree",attrs:{options:e.treeOptions,filter:e.treeFilter,data:e.treeData},on:{"node:selected":e.selected}}):e._e()],1)};Ws._withStripped=!0;var Qs={name:"DeepFK",components:{LiquorTree:n(41281).Z},mixins:[A.BaseFieldContentEdit],data(){return{class_list:["form-control"],treeData:[],loaded:!1,treeFilter:"",selectedText:"",treeOptions:{filter:{emptyText:this.$t("Nothing found!")}},onlyLastChild:this.field.onlyLastChild,selectedNode:null}},mounted(){this.field.makeRequest().then((e=>{if(this.treeData=this.field.createTreeData(e),this.loaded=!0,this.value){const t=this.field.getValueFieldValue(this.value);this.$emit("set-value",e.find((e=>this.field.getValueFieldValue(e)===t)),{markChanged:!1})}this.$nextTick().then((()=>{this.selectOnLoad()}))}))},methods:{selectOnLoad(){if(!this.value)return;this.selectedNode=this.$refs.tree.findAll(this.field.getViewFieldValue(this.value)).find((e=>e.id===this.field.getValueFieldValue(this.value))),this.selectedNode.select();let e=this.selectedNode;for(;e.parent;)e=e.parent,e.expand()},selected(e){const t=e.data.instance,n=this.value;t&&n&&"object"==typeof t&&"object"==typeof n&&t.getPkValue()===n.getPkValue()||this.onlyLastChild&&e.children.length||(this.setValue(e.data.instance),this.selectedNode=e,this.selectedText=e.data.text)},removeValue(){this.setValue(this.field.getEmptyValue()),this.selectedNode.unselect(),this.selectedNode=null,this.selectedText=""}}},Ys=n(80306),Ks={};Ks.styleTagTransform=le(),Ks.setAttributes=se(),Ks.insert=ne().bind(null,"head"),Ks.domAPI=ee(),Ks.insertStyleElement=re(),J()(Ys.Z,Ks),Ys.Z&&Ys.Z.locals&&Ys.Z.locals;var Js=(0,L.Z)(Qs,Ws,[],!1,null,"6009ed91",null).exports,Xs=n(32900),ea={mixins:[A.BaseFieldMixin],components:{field_content_edit:Js,field_content_readonly:Xs.Z,field_list_view:Xs.Z}},ta=n(50123),na=function(){var e=this,t=e._self._c;return t("div",{staticClass:"json-field-readonly"},[t(e.jsonMapper.getComponent(e.parsedValue),{tag:"component",attrs:{value:e.parsedValue,levels:[0],title:e.field.description}})],1)};na._withStripped=!0;var ia={mixins:[A.BaseFieldContentReadonlyMixin],inject:["jsonMapper"],computed:{parsedValue(){return this.value&&"string"==typeof this.value?JSON.parse(this.value):this.value}}},sa=n(92469),aa={};aa.styleTagTransform=le(),aa.setAttributes=se(),aa.insert=ne().bind(null,"head"),aa.domAPI=ee(),aa.insertStyleElement=re(),J()(sa.Z,aa),sa.Z&&sa.Z.locals&&sa.Z.locals;var ra=(0,L.Z)(ia,na,[],!1,null,"e3f84444",null).exports,oa={provide(){return{jsonMapper:this.field.jsonMapper}},components:{field_content_readonly:ra,field_content_edit:M.TextAreaFieldContentEdit}};n(87145),n(48675),n(33105),n(63408),n(14590),n(3462),n(33824),n(1439),n(87585),n(55315),n(23252),n(6461),n(32372),n(8922),n(5835),n(8970),n(84444),n(88921),n(96248),n(27561),n(13599),n(11477),n(64362),n(15389),n(3440),n(90401),n(66244),n(45164),n(89772),n(91238),n(88910),n(54837),n(87485),n(56767),n(76651),n(61437),n(63252),n(35285),n(17454),n(39865);const la=Object.getPrototypeOf(Int8Array);class ua{constructor(){(0,Z.Z)(this,"COMPONENT_STRING","JsonString"),(0,Z.Z)(this,"COMPONENT_ARRAY","JsonArray"),(0,Z.Z)(this,"COMPONENT_STRING_ARRAY","StringJsonArray"),(0,Z.Z)(this,"COMPONENT_OBJECT","JsonObject")}getComponent(e){const t=typeof e;if(null===e||"string"===t||"boolean"===t||"number"===t||"bigint"===t||"symbol"===t)return this.COMPONENT_STRING;if("object"===t){if(e instanceof la)return this.COMPONENT_ARRAY;if(this.isArray(e))return this.isStringArray(e)?this.COMPONENT_STRING_ARRAY:this.COMPONENT_ARRAY;if("function"==typeof e.then)return;return this.COMPONENT_OBJECT}}isArray(e){return Array.isArray(e)||e instanceof Set}isStringArray(e){return(e.length>0||e.size>0)&&e.every((e=>"string"==typeof e||"symbol"==typeof e))}}class da extends A.BaseField{constructor(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.jsonMapper=e||new ua}getEmptyValue(){return null}static get mixins(){return super.mixins.concat(oa)}}(0,Z.Z)(da,"fkLinkable",!1);var ca=da,pa=function(){var e=this,t=e._self._c;return t("Card",{attrs:{title:e.title,collapsable:""}},e._l(e.value,(function(n,i){return t(e.jsonMapper.getComponent(n),{key:i,tag:"component",attrs:{value:n,title:"".concat(e.title,"[").concat(i,"]"),levels:[...e.levels,i]}})})),1)};pa._withStripped=!0;var fa={props:["levels","title","value"],computed:{id(){return"json-element-"+this.levels.join("-")}}},ha={name:"JsonArray",components:{Card:hn.Z},mixins:[fa],inject:["jsonMapper"]},ma=(0,L.Z)(ha,pa,[],!1,null,null,null).exports,va=function(){var e=this,t=e._self._c;return e.isEmpty?t("div"):t("Card",{attrs:{title:e.title,collapsable:""}},e._l(e.valueAsObj,(function(n,i,s){return t(e.jsonMapper.getComponent(n,i),{key:s,tag:"component",attrs:{value:n,title:i,levels:[...e.levels,s]}})})),1)};va._withStripped=!0;var ga={name:"JsonObject",components:{Card:hn.Z},mixins:[fa],inject:["jsonMapper"],computed:{isEmpty(){return!this.valueAsObj||0===Object.keys(this.valueAsObj).length},valueAsObj(){return this.value instanceof Map?Object.fromEntries(this.value.entries()):this.value}}},_a=(0,L.Z)(ga,va,[],!1,null,null,null).exports,ba=function(){var e=this,t=e._self._c;return t("div",{staticClass:"json-string"},[t("b",[e._v(e._s(e.title))]),e._v("\n    : "+e._s(e.valueAsStr)+"\n")])};ba._withStripped=!0;var ya={name:"JsonString",mixins:[fa],computed:{valueAsStr(){return"symbol"==typeof this.value?this.value.description:this.value}}},wa=n(46934),xa={};xa.styleTagTransform=le(),xa.setAttributes=se(),xa.insert=ne().bind(null,"head"),xa.domAPI=ee(),xa.insertStyleElement=re(),J()(wa.Z,xa),wa.Z&&wa.Z.locals&&wa.Z.locals;var Ca=(0,L.Z)(ya,ba,[],!1,null,"6e2d9c49",null).exports,Sa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"string-json-array"},[t("label",[e._v(e._s(e.title))]),e._v(" "),e._l(e.strings,(function(n,i){return t("p",{key:i,domProps:{textContent:e._s(n)}})}))],2)};Sa._withStripped=!0;var ka={name:"StringJsonArray",mixins:[fa],computed:{strings(){return this.value.map((e=>e?"symbol"==typeof e?e.description:e:""))}}},Fa=n(86716),Za={};Za.styleTagTransform=le(),Za.setAttributes=se(),Za.insert=ne().bind(null,"head"),Za.domAPI=ee(),Za.insertStyleElement=re(),J()(Fa.Z,Za),Fa.Z&&Fa.Z.locals&&Fa.Z.locals;var Aa=(0,L.Z)(ka,Sa,[],!1,null,"432de31e",null).exports;ta.b.add(_a),ta.b.add(ma),ta.b.add(Aa),ta.b.add(Ca);var Ta=n(76274),Pa={data(){return{inputType:"password"}}},Ea=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group"},[t("input",{class:e.classes,style:e.styles,attrs:{type:e.inputType,min:e.attrs.min,max:e.attrs.max,required:e.attrs.required,minlength:e.attrs.minlength,maxlength:e.attrs.maxlength,"aria-labelledby":e.label_id,"aria-label":e.aria_label},domProps:{value:e.value},on:{input:function(t){return e.$emit("set-value",t.target.value)}}}),e._v(" "),e.hasHideButton?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e(),e._v(" "),t("FieldButton",{attrs:{"icon-classes":"text"===e.inputType?["fa","fa-eye-slash"]:["fa","fa-eye"],"help-text":"text"===e.inputType?"Hide field's value":"Show field's value"},nativeOn:{click:function(t){return e.toggleShowValue.apply(null,arguments)}}}),e._v(" "),t("FieldButton",{attrs:{"help-text":"Copy field's value to clipboard","icon-classes":["far","fa-copy"]},nativeOn:{click:function(t){return e.copy.apply(null,arguments)}}}),e._v(" "),e.hasDefaultValue?t("SetDefaultButton",{nativeOn:{click:function(t){return e.$emit("set-value",e.field.default)}}}):e._e(),e._v(" "),t("ClearButton",{nativeOn:{click:function(t){e.$emit("set-value",e.field.getInitialValue())}}})],1)};Ea._withStripped=!0;var Va=n(38849),Ma={components:{FieldButton:Te.k2},mixins:[Va.Z,Pa],methods:{toggleShowValue(){this.inputType="password"===this.inputType?"text":"password"},copy(){(0,T.copyToClipboard)(this.value)}}},Ia=(0,L.Z)(Ma,Ea,[],!1,null,null,null).exports,Ra={components:{field_content_readonly:{mixins:[A.BaseFieldContentReadonlyMixin,Pa]},field_content_edit:Ia}};class Oa extends M.StringField{static get mixins(){return super.mixins.concat(Ra)}}var Ba=Oa;const Na={data(){return{inputType:"color"}}},Da={components:{field_content_readonly:{mixins:[A.BaseFieldContentReadonlyMixin,Na]},field_content_edit:{mixins:[A.BaseFieldContentEdit,Na]}}};class ja extends A.BaseField{static get mixins(){return super.mixins.concat(Da)}getEmptyValue(){return null}_getValue(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[this.name]||"#000000"}toInner(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getValue(e)}toRepresent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getValue(e)}}const La={components:{field_content_edit:{mixins:[A.BaseFieldContentEdit],data(){return{inputType:"email"}}}}};class qa extends M.StringField{static get mixins(){return super.mixins.concat(La)}static get validation_reg_exp(){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}validateValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=super.validateValue(e);if(this.options.required&&!this.constructor.validation_reg_exp.test(String(t))){let e=(this.options.title||this.options.name).toLowerCase(),t=T._translate;throw{error:"validation",message:t('<b>"{0}"</b> field should be written in <b>"example@mail.com"</b> format.').format([t(e)])}}return t}}const $a=(0,G.defineComponent)({props:A.FieldPropsDef,render(){return(0,G.h)("span")}});class Ua extends A.BaseField{constructor(e){super(e),this.hidden=!0}static get mixins(){return[$a]}}const Ha=(0,A.defineFieldComponent)(((e,t)=>{let{listeners:n}=t;const i=(0,G.computed)((()=>"function"==typeof e.field.staticValue?e.field.staticValue(e.data):e.field.staticValue)),s=(0,G.computed)((()=>Object.assign({},e.data,{[e.field.name]:i.value})));return()=>(0,G.h)(e.field.realField.getComponent(),{props:{field:e.field.realField,data:s.value,type:e.type},on:n})}));class Ga extends A.BaseField{constructor(e){super(e),(0,Z.Z)(this,"realField",void 0),(0,Z.Z)(this,"staticValue",void 0),this.staticValue=this.props.staticValue,(0,Ki.$k)((()=>this.resolveRealField()))}resolveRealField(){this.realField=this.app.fieldsResolver.resolveField(this.props.realField,this.name)}static get mixins(){return[Ha]}toRepresent(e){return this.realField.toRepresent({...e,[this.name]:this.staticValue})}}var za=n(92592);const Wa=e=>{let t=null;return(0,G.onMounted)((()=>{(0,G.watchPostEffect)((()=>{e.value&&za.toCanvas(t,e.value)}))})),()=>e.value?(0,G.h)("canvas",{ref:e=>t=e}):(0,G.h)("div")},Qa=(0,A.defineFieldComponent)({readonly:Wa,list:Wa});class Ya extends A.BaseField{static get mixins(){return[Qa]}}var Ka=n(88251),Ja=n(14514),Xa=n(27573),er=n(48058);class tr extends M.StringField{}var nr=n(96350);const ir=e=>()=>e.value?(0,G.h)("a",{attrs:{href:e.value}},e.value):null,sr=(0,A.defineFieldComponent)({readonly:ir,list:ir});class ar extends M.StringField{constructor(e){var t;super(e),(0,Z.Z)(this,"urlValidator",void 0),this.urlValidator=(e=>{const t=new nr.p("Invalid URL");return n=>{let i;try{i=new URL(n)}catch(e){throw t}if(!e.includes(i.protocol.slice(0,-1)))throw t;if(i.host.split(".").some((e=>0===e.length)))throw t}})(null!==(t=this.props.protocols)&&void 0!==t?t:["http","https","ftp","ftps"])}static get mixins(){return[sr]}validateValue(e){const t=super.validateValue(e);return t&&this.urlValidator(t),t}}function rr(e){for(const[t,n]of[[E.DEFAULT_FIELD_KEY,M.StringField],["autocomplete",H],["binfile",nn],["choices",Ce.ChoicesField],["color",ja],["crontab",Oe],["csvfile",xs],["date",qe],["date-time",We],["deep_fk",zs],["decimal",Je.DecimalField],["email",qa],["file",Et],["fk",Cs.FKField],["fk_autocomplete",Ts],["html",M.HTMLField],["json",ca],["masked",M.masked.MaskedField],["ordering_choices",Ce.OrderingChoicesField],["password",Ba],["phone",M.phone.PhoneField],["plain_text",M.PlainTextField],["qrcode",Ya],["secretfile",Wi],["text_paragraph",M.TextParagraphField],["textarea",M.TextAreaField],["time_interval",et],["uri",ar],["uuid",tr],["wysiwyg",er.WYSIWYGField],["multiplenamedbinfile",Jn],["multiplenamedbinimage",zi]])e.registerField(T.SCHEMA_DATA_TYPE.string,t,n);for(const[t,n]of[[E.DEFAULT_FIELD_KEY,Je.NumberField],["float",Je.FloatField],["rating",Je.rating.RatingField]])e.registerField(T.SCHEMA_DATA_TYPE.number,t,n);for(const[t,n]of[[E.DEFAULT_FIELD_KEY,Je.integer.IntegerField],["choices",Ce.ChoicesField],["fk",Cs.FKField],["deep_fk",zs],["uptime",_t]])e.registerField(T.SCHEMA_DATA_TYPE.integer,t,n);e.registerDefaultForType(T.SCHEMA_DATA_TYPE.boolean,xe);for(const[t,n]of[[E.DEFAULT_FIELD_KEY,V.ArrayField],["csvfile",xs],["fk_multi_autocomplete",Rs],["list",Ka.a],["namedbinfile",Jn],["namedbinimage",zi],["string_array",M.StringArrayField],["table",Ka.a]])e.registerField(T.SCHEMA_DATA_TYPE.array,t,n);for(const[t,n]of[[E.DEFAULT_FIELD_KEY,Ta.NestedObjectField],["json",ca],["namedbinfile",Yn],["namedbinimage",Zi]])e.registerField(T.SCHEMA_DATA_TYPE.object,t,n);const t=Object.values(T.SCHEMA_DATA_TYPE);for(const[n,i]of[["dynamic",bt.DynamicField],["dynamic_fk",bt.DependFromFkField],["hidden",Ua],["static_value",Ga]])for(const s of t)e.registerField(s,n,i)}},76274:function(e,t,n){n.r(t),n.d(t,{NestedObjectField:function(){return d},NestedObjectFieldMixin:function(){return u}});var i=n(4942),s=(n(30541),n(70538)),a=n(47858),r=n(87444),o=n(64765),l=n(59198);const u=(0,s.defineComponent)({props:r.FieldPropsDef,emits:["set-value"],setup(e,t){let{emit:n}=t;const i=e.field.nestedModel,o=(0,s.computed)((()=>e.field.getValue(e.data))),u=(0,s.computed)((()=>o.value&&"object"==typeof o.value?o.value:(0,l.emptyRepresentData)())),d=(0,r.useFieldWrapperClasses)(e);function c(t){let{field:i,value:s,...a}=t;n("set-value",{field:e.field.name,value:{...o.value,[i]:s},...a})}return()=>(0,s.h)("div",{staticClass:"field-component",class:d},"list"===e.type?function(){const e=o.value?i.fromRepresentData(o.value).getViewFieldString():"";return[(0,s.h)("div",e)]}():function(){var t,n;const i=[(0,s.h)(a.ModelFields,{props:{editable:"edit"===e.type&&!e.field.readOnly,data:u.value,model:e.field.nestedModel,fieldsErrors:e.error,hideNotRequired:null!==(t=e.field.hideNotRequired)&&void 0!==t?t:null===(n=e.field.nestedModel)||void 0===n?void 0:n.hideNotRequired},on:{"set-value":c}})];return e.hideTitle||i.unshift((0,s.h)(r.BaseFieldLabel,{props:{field:e.field,error:e.error,type:e.type}})),i}())}});class d extends r.BaseField{constructor(e){super(e),(0,i.Z)(this,"nestedModel",null),(0,i.Z)(this,"hideNotRequired",void 0),this.hideNotRequired=this.props.hideNotRequired,(0,o.$k)((()=>this.resolveNestedModel()))}getEmptyValue(){return(0,l.emptyInnerData)()}resolveNestedModel(){this.nestedModel=this.app.modelsResolver.bySchemaObject(this.options)}toRepresent(e){const t=this.getValue(e);return t?this.nestedModel.innerToRepresent(t):t}toInner(e){const t=this.getValue(e);return t?this.nestedModel.representToInner(t):t}static get mixins(){return[u]}parseFieldError(e,t){return e&&"object"==typeof e&&!Array.isArray(e)?(0,l.mapObjectValues)(e,(e=>super.parseFieldError(e,t))):super.parseFieldError(e,t)}}},88251:function(e,t,n){n.d(t,{a:function(){return $}});var i=n(4942),s=(n(33948),n(87444)),a=n(64765),r=function(){var e=this,t=e._self._c;return t("BootstrapModal",{attrs:{title:e.$t(e.field.title)},scopedSlots:e._u([{key:"body",fn:function(){return[t(e.fieldComponent,{tag:"component",attrs:{value:e.value,model:e.field.itemsModel}})]},proxy:!0},{key:"activator",fn:function(n){let{openModal:i}=n;return[e.isEmpty?t("i",{staticClass:"fas fa-eye",on:{click:function(e){return e.stopPropagation(),i.apply(null,arguments)}}}):t("i",{staticClass:"inactive fas fa-eye",attrs:{title:"Empty"}})]}}])})};r._withStripped=!0;var o=n(43223),l=function(){var e=this,t=e._self._c;return t("div",e._l(e.value,(function(n,i){return t("ul",{key:i},e._l(e.fields,(function(s){return t("li",{key:"".concat(s.name,"-").concat(i)},[t("b",[e._v(e._s(s.title)+":")]),e._v(" "),t(s.component,{tag:"component",staticStyle:{display:"inline"},attrs:{field:s,data:n,"hide-title":"",type:"list"}})],1)})),0)})),0)};l._withStripped=!0,n(88449),n(2490),n(59849);const u={props:{value:{type:Array,default:()=>[]},model:{type:Function,required:!0}},computed:{fields(){return Array.from(this.model.fields.values()).filter((e=>!e.hidden))}}};var d={name:"ListView",mixins:[u]},c=n(93379),p=n.n(c),f=n(7795),h=n.n(f),m=n(90569),v=n.n(m),g=n(3565),_=n.n(g),b=n(19216),y=n.n(b),w=n(44589),x=n.n(w),C=n(16403),S={};S.styleTagTransform=x(),S.setAttributes=_(),S.insert=v().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=y(),p()(C.Z,S),C.Z&&C.Z.locals&&C.Z.locals;var k=n(51900),F=(0,k.Z)(d,l,[],!1,null,"36d1d484",null).exports,Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-sm"},[t("thead",[t("tr",e._l(e.fields,(function(n){return t("th",{key:n.name,class:e.$u.tableColumnClasses(n)},[e._v("\n                    "+e._s(e.$t(n.title))+"\n                ")])})),0)]),e._v(" "),t("tbody",e._l(e.value,(function(n,i){return t("tr",{key:i},e._l(e.fields,(function(s){return t("td",{key:"".concat(s.name,"-").concat(i),class:e.$u.tableColumnClasses(s)},[t(s.component,{tag:"component",staticStyle:{display:"inline"},attrs:{field:s,data:n,"hide-title":"",type:"list"}})],1)})),0)})),0)])])};Z._withStripped=!0;var A={name:"TableView",mixins:[u]},T=n(455),P={};P.styleTagTransform=x(),P.setAttributes=_(),P.insert=v().bind(null,"head"),P.domAPI=h(),P.insertStyleElement=y(),p()(T.Z,P),T.Z&&T.Z.locals&&T.Z.locals;var E=(0,k.Z)(A,Z,[],!1,null,"030b34ce",null).exports,V={computed:{isEmpty(){return this.value&&this.value.length},fieldComponent(){switch(this.field.viewType){case"list":return F;case"table":return E}}}},M={components:{TableView:E,ListView:F,BootstrapModal:o.Z},mixins:[s.BaseFieldListView,V]},I=n(36644),R={};R.styleTagTransform=x(),R.setAttributes=_(),R.insert=v().bind(null,"head"),R.domAPI=h(),R.insertStyleElement=y(),p()(I.Z,R),I.Z&&I.Z.locals&&I.Z.locals;var O=n(13880),B={};B.styleTagTransform=x(),B.setAttributes=_(),B.insert=v().bind(null,"head"),B.domAPI=h(),B.insertStyleElement=y(),p()(O.Z,B),O.Z&&O.Z.locals&&O.Z.locals;var N=(0,k.Z)(M,r,[],!1,null,"29be1501",null).exports,D=function(){var e=this;return(0,e._self._c)(e.fieldComponent,{tag:"component",attrs:{value:e.value,model:e.field.itemsModel}})};D._withStripped=!0;var j={name:"RelatedListFieldReadonlyView",mixins:[s.BaseFieldContentReadonlyMixin,V]},L=(0,k.Z)(j,D,[],!1,null,null,null).exports;const q={components:{field_content_readonly:L,field_content_edit:L,field_list_view:N},mixins:[s.BaseFieldMixin]};class $ extends s.BaseField{constructor(e){var t;super(e),(0,i.Z)(this,"viewType",void 0),(0,i.Z)(this,"itemsModel",void 0),this.viewType=null!==(t=e.format)&&void 0!==t?t:"list",this.format="related_list",(0,a.$C)((()=>{this.itemsModel=this.app.modelsResolver.bySchemaObject(this.options.items)}))}static get mixins(){return[q]}prepareFieldForView(e){for(const t of this.itemsModel.fields.values())t.prepareFieldForView(e)}}(0,i.Z)($,"fkLinkable",!1)},29073:function(e,t,n){var i=n(87444);class s extends i.BaseField{getEmptyValue(){return""}}t.Z=s},78357:function(e,t,n){n.d(t,{N:function(){return l},i:function(){return o}});var i=n(70538),s=n(87444),a=n(24389),r=n(82509);const o=(0,i.defineComponent)({components:{field_content_edit:a.Z,field_content_readonly:r.Z},extends:s.BaseFieldMixin});class l extends s.BaseField{static get mixins(){return[o]}}},48058:function(e,t,n){n.r(t),n.d(t,{WYSIWYGField:function(){return c},WYSIWYGFieldMixin:function(){return d}});var i=n(70538),s=(n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948),n(56716)),a=n(59198);const r=new Map([["ru",{code:"ru-RU",load:()=>Promise.all([n.e(742),n.e(683)]).then(n.bind(n,26683))}],["cn",{code:"zh-CN",load:()=>Promise.all([n.e(742),n.e(296)]).then(n.bind(n,39296))}],["en",{code:"en-US",load:()=>Promise.resolve()}],["vi",{code:"vi",load:e=>n.e(454).then(n.bind(n,10860)).then((t=>t.default(e)))}]]),o=(0,i.defineComponent)({name:"WYSIWYGEditor",props:{readOnly:{type:Boolean,default:!1},initialValue:{type:String,default:null}},emits:{change:e=>!0},setup(e,t){var o;let{emit:l}=t,u=null;const d={minHeight:"200px",language:null===(o=r.get(s.a.locale))||void 0===o?void 0:o.code,useCommandShortcut:!0,usageStatistics:!1,hideModeSwitch:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","link"]],theme:(0,a.getApp)().darkModeEnabled?"dark":"light"},c=(0,i.computed)((()=>{return t=e.readOnly,o=r.get(s.a.locale),(0,i.defineAsyncComponent)((async()=>{const[e,i]=await Promise.all([n.e(742).then(n.bind(n,49742)),Promise.all([n.e(742),n.e(826)]).then(n.bind(n,3826)),n.e(345).then(n.bind(n,3345)),(0,a.getApp)().darkModeEnabled?n.e(368).then(n.bind(n,85368)):Promise.resolve()]);return o&&await o.load(e.default),t?i.Viewer:i.Editor}));var t,o}));function p(){l("change",u.invoke("getMarkdown"))}return()=>(0,i.h)(c.value,{ref:e=>u=e,props:{initialValue:e.initialValue,initialEditType:"wysiwyg",options:d},on:{blur:p}})}});var l=n(87444),u=n(78357);const d=(0,l.defineFieldComponent)({readonly:e=>()=>(0,i.h)(o,{props:{readOnly:!0,initialValue:e.value}}),edit:(e,t)=>{let{emit:n}=t;return()=>(0,i.h)(o,{props:{readOnly:!1,initialValue:e.value},on:{change:t=>{t!==e.value&&n("set-value",t)}}})}});class c extends u.N{static get mixins(){return[d]}}},2907:function(e,t,n){n.r(t),n.d(t,{HTMLField:function(){return $},HTMLFieldContentReadonly:function(){return x},HTMLFieldMixin:function(){return q},PlainTextField:function(){return R},PlainTextFieldContentReadonly:function(){return k},StringArrayField:function(){return j},StringField:function(){return F.Z},TextAreaField:function(){return M.N},TextAreaFieldContentEdit:function(){return Z.Z},TextAreaFieldContentReadonly:function(){return A.Z},TextAreaFieldMixin:function(){return M.i},TextParagraphField:function(){return H},TextParagraphFieldContentReadonly:function(){return E},masked:function(){return G},phone:function(){return i},replaceHashLinks:function(){return L},wysiwyg:function(){return ae}});var i={};n.r(i),n.d(i,{PhoneField:function(){return se},PhoneFieldMixin:function(){return ne}});var s=function(){var e=this;return(0,e._self._c)("div",{staticClass:"scroll html_content",domProps:{innerHTML:e._s(e.value)}})};s._withStripped=!0;var a=n(87444),r={props:a.FieldReadonlyPropsDef},o=n(93379),l=n.n(o),u=n(7795),d=n.n(u),c=n(90569),p=n.n(c),f=n(3565),h=n.n(f),m=n(19216),v=n.n(m),g=n(44589),_=n.n(g),b=n(1052),y={};y.styleTagTransform=_(),y.setAttributes=h(),y.insert=p().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=v(),l()(b.Z,y),b.Z&&b.Z.locals&&b.Z.locals;var w=n(51900),x=(0,w.Z)(r,s,[],!1,null,"d1ef188e",null).exports,C=function(){var e=this;return(0,e._self._c)("div",{class:e.classes,style:e.styles,attrs:{"aria-labelledby":e.label_id,"aria-label":e.aria_label},domProps:{innerHTML:e._s(e.value)}})};C._withStripped=!0;var S={mixins:[a.BaseFieldContentReadonlyMixin],data(){return{class_list:["text-data"],styles_dict:{whiteSpace:"pre-wrap"}}}},k=(0,w.Z)(S,C,[],!1,null,null,null).exports,F=n(29073),Z=n(24389),A=n(82509),T=function(){var e=this,t=e._self._c;return t("div",{class:e.classes,style:e.styles},[t("p",{attrs:{"aria-labelledby":e.label_id,"aria-label":e.aria_label}},[e._v("\n        "+e._s(e.value)+"\n    ")])])};T._withStripped=!0;var P={mixins:[a.BaseFieldContentReadonlyMixin],data(){return{styles_dict:{}}}},E=(0,w.Z)(P,T,[],!1,null,null,null).exports,V=n(70538),M=n(78357);const I=(0,V.defineComponent)({components:{field_content_readonly:k},extends:M.i});class R extends M.N{static get mixins(){return[I]}}var O=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"table_ul"},e._l(e.value,(function(n,i){return t("li",{key:i},[t("span",{class:e.classes,style:e.styles},[e._v(e._s(n))])])})),0)};O._withStripped=!0;var B={mixins:[a.BaseFieldListView]},N=(0,w.Z)(B,O,[],!1,null,null,null).exports;const D=(0,V.defineComponent)({components:{field_list_view:N},extends:M.i});class j extends M.N{static get mixins(){return[D]}}function L(e,t){const n=e.querySelectorAll("a"),i=document.location.href,s=document.location.origin;for(const e of n)if(e.href&&-1!==e.href.search(s)){if(!e.href.includes(i)){const n=e.href.match(/#([A-z0-9,-]+)$/),a=n&&document.querySelector(n[0]);if(a){e.addEventListener("click",(e=>{e.preventDefault(),a.scrollIntoView({behavior:"smooth"})}));continue}e.href=i+t+e.href.split(s)[1]}}else e.setAttribute("target","_blank"),e.setAttribute("rel","noreferrer")}n(33948);const q=(0,V.defineComponent)({components:{field_content_readonly:x},extends:M.i,data(){return{link_path:""}},mounted(){this.setLinksInsideField()},methods:{setLinksInsideField(){L(this.$el,this.link_path)}}});class $ extends M.N{static get mixins(){return[q]}}const U=(0,V.defineComponent)({components:{field_content_readonly:E,field_content_edit:Z.Z}});class H extends a.BaseField{toRepresent(e){let t=this.getValue(e);return void 0===t&&(t=this.options.default),"object"==typeof t?Array.isArray(t)?t.join(" "):JSON.stringify(t):t}static get mixins(){return[U]}}var G=n(33364),z=(n(31672),n(2490),n(59461),function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group"},[e._m(0),e._v(" "),t(e.countryCodeField.component,{tag:"component",staticClass:"code-selector",attrs:{field:e.countryCodeField,data:{[e.countryCodeField.name]:e.countryCode},type:"edit","hide-title":!0},on:{"set-value":function(t){e.countryCode=t.value}}}),e._v(" "),t("input",{class:e.classes,style:e.styles,attrs:{"aria-label":e.aria_label,"aria-labelledby":e.label_id,max:e.attrs.max,maxlength:e.attrs.maxlength,min:e.attrs.min,minlength:e.attrs.minlength,required:e.attrs.required,type:e.inputType}}),e._v(" "),e.hasHideButton?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e(),e._v(" "),e.hasDefaultValue?t("SetDefaultButton",{nativeOn:{click:function(t){return e.$emit("set-value",e.field.default)}}}):e._e(),e._v(" "),t("ClearButton",{nativeOn:{click:function(t){return e.clearValue.apply(null,arguments)}}})],1)});z._withStripped=!0;var W={name:"PhoneFieldContentEdit",mixins:[G.MaskedFieldEdit],data(){const e=this.$app.fieldsResolver.resolveField({name:"countryCode",type:"string",enum:this.field.codes.slice().reverse(),required:!0});return e.customMatcher=(e,t)=>!e.term||t.text.startsWith(e.term)?t:null,{countryCodeField:e}},computed:{preparedValue(){return this.justNumber}},watch:{countryCode(){this.setValue(this.beforeSet(this.preparedValue))},value(e){this.justNumber=this.trimCode(e)}},created(){this.justNumber=this.trimCode(this.value)},methods:{beforeSet(e){return e?this.countryCode+e:null}}},Q=n(84821),Y={};Y.styleTagTransform=_(),Y.setAttributes=h(),Y.insert=p().bind(null,"head"),Y.domAPI=d(),Y.insertStyleElement=v(),l()(Q.Z,Y),Q.Z&&Q.Z.locals&&Q.Z.locals;var K=(0,w.Z)(W,z,[function(){var e=this._self._c;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("span",[this._v("+")])])])}],!1,null,"ab1545bc",null).exports,J=n(53973),X=n(59198);const ee={data(){return{justNumber:"",countryCode:"1"}},mounted(){this.justNumber=this.trimCode(this.value)},methods:{trimCode(e){if(!e)return e;if(!e.startsWith(this.countryCode)){const t=this.field.codes.find((t=>e.startsWith(t)));if(!t)return this.setValue(null),"";this.countryCode=t}return e.slice(this.countryCode.length)}}},te={mixins:[ee],computed:{preparedValue(){return this.justNumber?"+".concat(this.countryCode," ").concat(J.ZP.pipe(this.justNumber,this.field.mask)):""}}},ne={mixins:[G.MaskedFieldMixin],components:{field_content_edit:{mixins:[K,ee]},field_content_readonly:{mixins:[a.BaseFieldContentReadonlyMixin,te]},field_list_view:{mixins:[a.BaseFieldListView,te]}}},ie=["5999","4779","1939","1876","1869","1868","1849","1829","1809","1787","1784","1767","1758","1721","1684","1671","1670","1664","1649","1473","1441","1345","1340","1284","1268","1264","1246","1242","998","996","995","994","993","992","977","976","975","974","973","972","971","970","968","967","966","965","964","963","962","961","960","886","880","856","855","853","852","850","692","691","690","689","688","687","686","685","683","682","681","680","679","678","677","676","675","674","673","672","670","598","597","596","595","594","593","592","591","590","509","508","507","506","505","504","503","502","501","500","423","421","420","389","387","386","385","383","382","381","380","379","378","377","376","375","374","373","372","371","370","359","358","357","356","355","354","353","352","351","350","299","298","297","291","269","268","267","266","265","264","263","262","261","260","258","257","256","255","254","253","252","251","250","249","248","246","245","244","243","242","241","240","239","238","237","236","235","234","233","232","231","230","229","228","227","226","225","224","223","222","221","220","218","216","213","212","211","98","95","94","93","92","91","90","86","84","82","81","77","76","66","65","64","63","62","61","60","58","57","56","55","54","53","52","51","49","48","47","46","45","44","43","41","40","39","36","34","33","32","31","30","27","20","7","1"];class se extends G.MaskedField{constructor(e){e[X.X_OPTIONS]={mask:{mask:[{mask:"(000) 000-000"},{mask:"(000) 000-00-00"},{mask:"(000) 000-000-00"},{mask:"(000) 000-000-000"}]}},super(e),this.codes=ie}static get mixins(){return[ne]}getEmptyValue(){return null}}var ae=n(48058)},71829:function(e,t,n){n.d(t,{D:function(){return o}});var i=n(4942),s=(n(33948),n(57658),n(21703),n(56716)),a=n(59198);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function*(){for(const[n,i]of Object.entries(e))"string"==typeof i?yield"".concat("&nbsp;".repeat(3*t),"<b>").concat(s.a.ts((0,a.escapeHtml)(n)),"</b>: ").concat(s.a.ts((0,a.escapeHtml)(i))):(yield"".concat("&nbsp;".repeat(3*t),"<b>").concat(s.a.ts((0,a.escapeHtml)(n)),"</b>:"),yield*r(i,t+1))}()}class o extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),(0,i.Z)(this,"errors",void 0),this.errors=e}toFieldsErrors(){const e={};for(const{field:t,message:n}of this.errors)n&&(e[t.name]="object"==typeof n?n:s.a.t(n));return e}toHtmlString(){const e=[];for(const{field:t,message:n}of this.errors){const i=s.a.ts((0,a.escapeHtml)(t.title));"string"==typeof n?e.push("<b>".concat(i,"</b>: ").concat(s.a.ts((0,a.escapeHtml)(n)))):e.push("<b>".concat(i,"</b>:"),...r(n))}return e.join("<br />")}}},8366:function(e,t,n){n.r(t),n.d(t,{BaseModel:function(){return h},ModelValidationError:function(){return f.D},ModelsResolver:function(){return _},NoModel:function(){return y},createInstancesList:function(){return w},makeModel:function(){return d}});var i=n(4942),s=n(2907);n(57658),n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948);const a=["id","pk"];function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e];const n=Object.getPrototypeOf(e);return null!==n&&(t.push(n),r(n,t)),t}function o(e){const t=new Map,n=r(e).reverse();for(const e of n)for(const n of e.declaredFields||[])t.set(n.name,n);return t}function l(e){if(!e.fields.size)return null;if(e.pkFieldName)return e.fields.get(e.pkFieldName);for(const t of e.fields.keys())if(a.includes(t))return e.fields.get(t);return e.fields.values().next().value}function u(e){return e.fields.has(e.viewFieldName)?e.fields.get(e.viewFieldName):e.pkField}function d(e,t){if(t=t||e.name){const n={value:t,writable:!1};Object.defineProperty(e,"name",n),Object.defineProperty(e.prototype,"_name",n)}const n=o(e);for(const t of n.values())t.model=e;Object.defineProperty(e,"fields",{value:n,writable:!0});const i={value:l(e),writable:!0};Object.defineProperty(e,"pkField",i);const s={value:u(e),writable:!0};Object.defineProperty(e,"viewField",s),e.translateModel||(e.translateModel=t);for(const[t,i]of n)Object.defineProperty(e.prototype,t,i.toDescriptor());return e}n(57640),n(9924),n(88449),n(2490),n(59849),n(21703);var c=n(59198),p=(n(88921),n(96248),n(27561),n(13599),n(11477),n(64362),n(15389),n(3440),n(90401),n(66244),n(45164),n(89772),n(91238),n(88910),n(54837),n(87485),n(56767),n(76651),n(61437),n(63252),n(35285),n(17454),n(39865),n(70538)),f=n(71829);class h{constructor(e,t,n){var s,a;(0,i.Z)(this,"_queryset",void 0),(0,i.Z)(this,"_parentInstance",void 0),(0,i.Z)(this,"__data",void 0),(0,i.Z)(this,"_sandbox",void 0),(0,i.Z)(this,"_response",void 0),(0,i.Z)(this,"__notFound",void 0),e||(e=null!==(a=null==n?void 0:n._getInnerData())&&void 0!==a?a:(0,c.emptyInnerData)()),!t&&n&&(t=n._queryset),this._parentInstance=n,this.__data=e,this._queryset=null!==(s=t)&&void 0!==s?s:void 0}get _c(){return this.constructor}get _name(){return this._c.name}get _fields(){return this._c.fields}get _pkField(){return this._c.pkField}get _viewField(){return this._c.viewField}get _data(){return this.__data}set _data(e){this.__data=e,this.sandbox.reset()}get sandbox(){return this._sandbox||(this._sandbox=function(e){function t(){return e.constructor.innerToRepresent(e._data)}const n=(0,p.ref)(),i=(()=>{let e=()=>{};const t=new Set,n=(0,p.customRef)(((n,i)=>(e=i,{get:()=>(n(),t),set:()=>{throw new Error("Ref is readonly")}}))),i=t.add.bind(t);t.add=function(n){return t.has(n)||e(),i(n)};const s=t.clear.bind(t);t.clear=function(){return e(),s()};const a=t.delete.bind(t);return t.delete=function(t){const n=a(t);return n&&e(),n},n})(),s=(0,p.computed)((()=>i.value.size>0));function a(){return n.value||(n.value=t()),n.value}return(0,p.markRaw)({set:function(e){let{field:t,value:n,markChanged:s=!0}=e;p.default.set(a(),t,n),s&&!i.value.has(t)&&i.value.add(t)},reset:function(){n.value=t(),i.value.clear()},validate:function(){const t=a(),n=[],i=(0,c.emptyRepresentData)();for(const s of e._fields.values())try{i[s.name]=s.validateValue(t)}catch(e){n.push({field:s,message:e.message})}const s=(0,c.emptyInnerData)();for(const t of e._fields.values())s[t.name]=t.toInner(i);for(const t of e._fields.values())try{t.validateInner(s)}catch(e){n.push({field:t,message:e.message})}if(n.length)throw new f.D(n);return s},markUnchanged:function(){i.value.clear()},get changed(){return s.value},get changedFields(){return i.value},get value(){return(0,p.readonly)(a())}})}(this)),this._sandbox}static fromRepresentData(e){return new this(this.representToInner(e))}static getFieldsGroups(e){let{data:t}=e;return this.fieldsGroups?"function"==typeof this.fieldsGroups?this.fieldsGroups({data:t}):Object.entries(this.fieldsGroups).map((e=>{let[t,n]=e;return{title:t,fields:n}})):[{title:"",fields:Array.from(this.fields.keys())}]}static representToInner(e){const t=(0,c.emptyInnerData)();for(const n of this.fields.values()){const i=n.toInner(e);(n.required||void 0!==i)&&(t[n.name]=i)}return t}static innerToRepresent(e){const t=(0,c.emptyRepresentData)();for(const[n,i]of this.fields)t[n]=i.toRepresent(e);return t}static getInitialData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,c.emptyInnerData)();const t=(0,c.mergeDeep)({},e);for(const[e,n]of this.fields)(0,c.hasOwnProp)(t,e)||(t[e]=n.getInitialValue());return t}static get writableFields(){return Array.from(this.fields.values()).filter((e=>!e.readOnly))}_getInnerData(e){let t=Array.from(this._fields.values());e&&(t=t.filter((t=>e.includes(t.name))));const n=(0,c.emptyInnerData)();for(const e of t){const t=this._data[e.name];(e.required||void 0!==t)&&(n[e.name]=t)}return n}_getRepresentData(){return this.sandbox.value}_validateAndSetData(e){e?this._data=this._c.fromRepresentData(e).sandbox.validate():this.__data=this.sandbox.validate()}getRepresentValue(e){const t=this._fields.get(e);if(!t)throw new Error('Field "'.concat(e,'" is not found in model "').concat(this.constructor.name,'"'));return t.toRepresent(this._data)}getInnerValue(e){const t=this._fields.get(e);if(!t)throw new Error('Field "'.concat(e,'" is not found in model "').concat(this.constructor.name,'"'));return t.getValue(this._data)}getPkValue(){if(this._parentInstance){const e=this._parentInstance.getPkValue();if(e)return e}if(this._pkField)return this.getInnerValue(this._pkField.name)}getViewFieldValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._viewField?this.getRepresentValue(this._viewField.name):e}getViewFieldString(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this._viewField){let t=this.getRepresentValue(this._viewField.name);if(t instanceof h)return t.getViewFieldString();if(t&&"object"==typeof t&&(t="name"in t&&t.name||"title"in t&&t.title||void 0),null==t)return"";const n=this._viewField.translateValue(String(t));return e?(0,c.escapeHtml)(n):n}}static shouldUseBulk(e){return!this.nonBulkMethods||!this.nonBulkMethods.includes(e)}shouldUseBulk(e){return this._c.shouldUseBulk(e)}async update(e,t){return(await this._queryset.update(this,[this],e,t))[0]}async delete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this._queryset.delete([this],e))[0]}async create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"post";return this._queryset.create(this,e)}async save(e){return this.getPkValue()?this.update(e):this.create(e)}isEqual(e){if(this===e)return!0;if(!(e instanceof h))return!1;if(e.constructor!==this.constructor)return!1;for(const t of this._fields.values())if(!(0,c.deepEqual)(t.getValue(this._data),t.getValue(e._data)))return!1;return!0}parseModelError(e){if(!e||"object"!=typeof e||Array.isArray(e))return;const t=[];for(const[n,i]of Object.entries(e)){const e=this._fields.get(n);if(e){const n=e.parseFieldError(i,this._data);n&&t.push({field:e,message:n})}}return t.length>0?new f.D(t):void 0}clone(){let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||(e=(0,c.mergeDeep)({},this._data)),new this._c(e,this._queryset,this._parentInstance)}}(0,i.Z)(h,"fieldsGroups",void 0),(0,i.Z)(h,"nonBulkMethods",null),(0,i.Z)(h,"translateModel",null),(0,i.Z)(h,"fields",new Map),(0,i.Z)(h,"pkField",void 0),(0,i.Z)(h,"viewField",void 0),(0,i.Z)(h,"hideNotRequired",void 0);var m=n(64765),v=n(87444);const g="$ref";class _{constructor(e,t){(0,i.Z)(this,"fieldsResolver",void 0),(0,i.Z)(this,"schema",void 0),(0,i.Z)(this,"_definitionsModels",new Map),(0,i.Z)(this,"_modelNameSeq",1),this.fieldsResolver=e,this.schema=t}get(e){if("string"==typeof e){if(this._definitionsModels.has(e))return this._definitionsModels.get(e)}else if("object"==typeof e)return this.bySchemaObject(e);return this.byReferencePath(e)}byReferencePath(e){const t=e.split("/").pop();if(t){let e=this._definitionsModels.get(t);if(e)return e;if(this.schema.definitions[t])return e=this.bySchemaObject(this.schema.definitions[t],t),this._definitionsModels.set(t,e),e}throw new Error("Invalid model ref ".concat(e))}bySchemaObject(e,t){return e[g]?this.byReferencePath(e[g]):this.createModel(e,t||this.generateModelName())}generateModelName(){return"NoNameModel".concat(this._modelNameSeq++)}createModel(e,t){var n,s,a;const r=null!==(n=e.properties)&&void 0!==n?n:{},o=null!==(s=e.required)&&void 0!==s?s:[];m.pp.emit("models["+t+"].fields.beforeInit",r);const l=Object.entries(r).map((e=>{let[t,n]=e;const i=n instanceof v.BaseField?n:this.fieldsResolver.resolveField(Object.assign({},n),t);return o.includes(t)&&(i.required=!0),i})),u=d((a=class extends h{},(0,i.Z)(a,"declaredFields",l),(0,i.Z)(a,"fieldsGroups",e["x-properties-groups"]),(0,i.Z)(a,"viewFieldName",e["x-view-field-name"]||null),(0,i.Z)(a,"nonBulkMethods",e["x-non-bulk-methods"]||null),(0,i.Z)(a,"translateModel",e["x-translate-model"]||null),(0,i.Z)(a,"hideNotRequired",e["x-hide-not-required"]),a),t);return m.pp.emit("models[".concat(t,"].created"),{model:u}),u}}var b;const y=d((b=class extends h{},(0,i.Z)(b,"declaredFields",[new s.StringField({format:"string",name:"detail",title:"Detail",type:"string"})]),b),"NoModel");function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e;return n.extra=t,n}},76445:function(e,t,n){n.r(t),n.d(t,{QuerySet:function(){return f},QuerySetsResolver:function(){return v},SingleEntityQueryset:function(){return m},WrongModelError:function(){return c},globalQuerySets:function(){return g},guiQuerySets:function(){return _}}),n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948);var i=n(4942),s=(n(21703),n(15306),n(88449),n(2490),n(59849),n(57640),n(9924),n(99244),n(74326),n(82499),n(19755)),a=n.n(s),r=n(29526),o=n(8366),l=n(59198),u=n(40151),d=n(70538);class c extends Error{constructor(e,t){super("Wrong model used. Expected: ".concat(e.name,". Actual: ").concat(t._name,"."))}static checkModel(e,t){if(!(t instanceof e))throw new c(e,t)}}const p=["results"];class f{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,i.Z)(this,"_url",void 0),(0,i.Z)(this,"pattern",void 0),(0,i.Z)(this,"models",void 0),(0,i.Z)(this,"pathParams",void 0),(0,i.Z)(this,"pathParamsValues",void 0),(0,i.Z)(this,"query",void 0),(0,i.Z)(this,"cache",void 0),(0,i.Z)(this,"listSubscriptionLabels",void 0),(0,i.Z)(this,"prefetchEnabled",void 0),this._url=null,this.pattern=e,this.pathParams=s,this.pathParamsValues={},this.models=t,this.query=n,this.cache=void 0,this.listSubscriptionLabels=[],this.prefetchEnabled=!0}get url(){if(this._url)return this._url;let e=this.pattern;for(const t of this.pathParams){null!=t.toInner(this.pathParamsValues)&&(e=e.replace("{".concat(t.name,"}"),t.toInner(this.pathParamsValues)))}return e}set url(e){e.includes("{")?(this.pattern=e,this._url=null):this._url=e}formatPath(e){return this.clone({pathParamsValues:e})}getModelClass(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.models[e];if(n)return Array.isArray(n)?n[t]:n;switch(e){case l.RequestTypes.PARTIAL_UPDATE:case l.RequestTypes.UPDATE:return this.getModelClass(l.RequestTypes.CREATE,t);case l.RequestTypes.CREATE:return this.getModelClass(l.RequestTypes.RETRIEVE,t);case l.RequestTypes.RETRIEVE:return this.getModelClass(l.RequestTypes.LIST,t)}return null}getRequestModelClass(e){const t=this.getModelClass(e,0);if(!t)throw new Error("No request model for operation ".concat(e," on path ").concat(this.url));return t}getResponseModelClass(e){const t=this.getModelClass(e,1);if(!t)throw new Error("No response model for operation ".concat(e," on path ").concat(this.url));return t}getDataType(){return this.url.replace(/^\/|\/$/g,"").split("/")}clone(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Object.create(Object.getPrototypeOf(this));return a().extend(!0,n,this),Object.assign(n,e),t||n.clearCache(),Object.freeze((0,d.readonly)(n))}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(e,!0)}all(){return this.clone()}filter(e){return this.clone({query:a().extend(!0,{},this.query,e)})}exclude(e){const t={};for(const[n,i]of Object.entries(e))t[n.includes("__not")?n:n+"__not"]=i;return this.clone({query:a().extend(!0,{},this.query,t)})}_getDetailPath(e){return[...this.getDataType(),e]}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this.clone({pathParamsValues:t}).get(e);const n=this.getResponseModelClass(l.RequestTypes.RETRIEVE);let i;if(void 0===e)i=await this.getOne();else{const t=await this.execute({method:l.HttpMethods.GET,path:this._getDetailPath(e),query:this.query,useBulk:n.shouldUseBulk(l.HttpMethods.GET)});i=new n(t.data,this),i._response=t}return this.prefetchEnabled&&await(0,u.Z)([i],{isPrefetch:!0}),i}async getOne(e){if(e)return this.clone({pathParamsValues:e}).getOne();const t=this.getResponseModelClass(l.RequestTypes.RETRIEVE),n=t===this.getResponseModelClass(l.RequestTypes.LIST);if(t.shouldUseBulk(l.HttpMethods.GET)&&!n){const e=t.pkField.name,n=this.getDataType(),i=await r.apiConnector.sendBulk([{method:l.HttpMethods.GET,path:n,query:(0,l.makeQueryString)({...this.query,limit:1},!0)},{method:l.HttpMethods.GET,path:[...n,"<<0[data][results][0][".concat(e,"]>>")]}]);if(i[0].data.count>1)throw new Error("More then one entity found");0===i[0].data.count&&r.APIResponse.throwStatusError(404,{detail:"No ".concat(t.name," matches the given query.")});const s=new t(i[1].data,this);return this.prefetchEnabled&&await(0,u.Z)([s],{isPrefetch:!0}),s}{var i;const e=await this.filter({limit:1}).items();if(null!==(i=e.extra)&&void 0!==i&&i.count&&e.extra.count>1)throw new Error("More then one entity found");if(!e.length)throw new r.StatusError(404,"Not Found");return n?e[0]:this.get(e[0].getPkValue())}}async items(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;if(t)return this.clone({pathParamsValues:t}).items(e);if(!e&&this.cache)return this.cache;const n=this.getResponseModelClass(l.RequestTypes.LIST),i=await this.execute({method:l.HttpMethods.GET,path:this.getDataType(),query:this.query,useBulk:n.shouldUseBulk(l.HttpMethods.GET)}),s=(0,o.createInstancesList)(i.data.results.map((e=>new n(e,this.clone()))));for(const e of Object.keys(i.data))p.includes(e)||(s.extra[e]=i.data[e]);return s.total=s.extra.count,this.prefetchEnabled&&await(0,u.Z)(s,{isPrefetch:!0}),s}_getCreateBulkPath(e){return[...this.getDataType(),"<<0[data][".concat(e,"]>>")]}async create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.HttpMethods.POST;const n=this.getRequestModelClass(l.RequestTypes.CREATE);c.checkModel(n,e);const i=this.getResponseModelClass(l.RequestTypes.RETRIEVE),s=n===this.getResponseModelClass(l.RequestTypes.RETRIEVE),a=this.getDataType();if(!s&&n.shouldUseBulk(t)&&i.shouldUseBulk(l.HttpMethods.GET)){const n=i.pkField.name,s=await r.apiConnector.sendBulk([{method:t,path:a,data:e._getInnerData()},{method:l.HttpMethods.GET,path:this._getCreateBulkPath(n)}]);return r.APIResponse.checkStatus(s[0].status,s[0].data),new i(s[1].data,this)}{const i=await this.execute({method:t,data:e,path:a,query:this.query,useBulk:n.shouldUseBulk(t)}),r=new n(i.data,this);return s?r:this.get(r.getPkValue())}}async update(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.HttpMethods.PATCH,i=arguments.length>3?arguments[3]:void 0;void 0===t&&(t=await this.items());const s=n===l.HttpMethods.PATCH?l.RequestTypes.PARTIAL_UPDATE:l.RequestTypes.UPDATE,a=this.getRequestModelClass(s),o=this.getResponseModelClass(l.RequestTypes.RETRIEVE);c.checkModel(a,e);const u=a===o,d=e._getInnerData(i);if(!u&&a.shouldUseBulk(n)&&o.shouldUseBulk(l.HttpMethods.GET)){const e=t.flatMap((e=>{const t=this._getDetailPath(e.getPkValue());return[{method:n,path:t,data:d},{method:l.HttpMethods.GET,path:t}]}));return(await r.apiConnector.sendBulk(e,l.BulkType.TRANSACTIONAL)).map((e=>new r.APIResponse(e))).filter(((e,t)=>t%2!=0)).map((e=>new o(e.data,this)))}return Promise.all(t.map((async e=>{const t=await this.execute({method:n,data:d,path:this._getDetailPath(e.getPkValue()),query:this.query,useBulk:a.shouldUseBulk(n)});return new a(t.data,this)})))}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0===e&&(e=await this.items());const n=this.getModelClass(l.RequestTypes.RETRIEVE,1),i=!n||n.shouldUseBulk(l.HttpMethods.DELETE),s={};return t&&(s.HTTP_X_Purge_Nested=String(t)),Promise.all(e.map((e=>this.execute({method:l.HttpMethods.DELETE,path:this._getDetailPath(e.getPkValue()),headers:s,useBulk:i}))))}_isModelInstance(e){return Boolean(e&&"_getInnerData"in e&&"function"==typeof e._getInnerData)}async execute(e){var t;const n=e.data,i=this._isModelInstance(n),s=null!==(t=e.useBulk)&&void 0!==t?t:!i||n.shouldUseBulk(e.method),a={method:e.method,path:e.path,query:e.query,headers:e.headers,version:e.version};if(void 0!==n){const e=i?n._getInnerData():n;return s?r.apiConnector.makeRequest({...a,useBulk:s,data:e}):r.apiConnector.makeRequest({...a,useBulk:s,data:(0,l.objectToFormData)(e)})}return r.apiConnector.makeRequest({...a,useBulk:s})}clearCache(){this.cache=void 0}}class h extends Error{constructor(){super("Method is not implemented!")}}class m extends f{_getDetailPath(e){return this.getDataType()}async get(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return super.get("NOT_UNDEFINED",e)}async items(){throw new h}_getCreateBulkPath(e){return this.getDataType()}}class v{constructor(e){this.viewsTree=e}findQuerySetForNested(e,t){const n=this.viewsTree.root.get((0,l.pathToArray)(t)),i=this.viewsTree.findInParentsDeep(n,this._getMatcher(e));if(i)return i;throw new Error("Cannot find model ".concat(e," for path ").concat(t))}findQuerySet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this._getMatcher(e);if(!t)return this.viewsTree.findInFirstLevel(n);const i="/"===t?this.viewsTree.root:this.viewsTree.root.get((0,l.pathToArray)(t));if(!i)throw new Error("View does not exists in tree: "+t);const s=n(i.view)||this.viewsTree.findInChildren(i,n)||this.viewsTree.findInNeighbourPaths(i,n)||this.viewsTree.findInParentsDeep(i,n);if(s)return s;throw new Error("Cannot find model ".concat(e," for path ").concat(t))}_getMatcher(e){return t=>{var n,i;if(t.type!==l.ViewTypes.LIST)return;const s=null===(n=t)||void 0===n||null===(i=n.objects)||void 0===i?void 0:i.getResponseModelClass(l.RequestTypes.LIST);return s&&s.name===e?(t.deepNestedParentView&&(t=t.deepNestedParentView),t.objects.clone()):null}}}const g=new Map([["QuerySet",f]]),_=(0,l.mapToObjectProxy)(g)},79806:function(e,t,n){n.r(t),n.d(t,{RouterConstructor:function(){return r}});var i=n(4942),s=(n(33948),n(57658),n(78345)),a=n(64765);class r{constructor(e){(0,i.Z)(this,"views",void 0),(0,i.Z)(this,"routes",void 0),this.views=e,this.routes=this.formAllRoutes()}getRoutes(){return this.routes}formAllRoutes(){const e=this.formRoutesBasedOnViews();return a.pp.emit("allRoutes.created",e),e}formRoutesBasedOnViews(){const e=[];for(const t of this.views.values()){const n=t.toRoute();n&&(e.push(n),this.emitSignalAboutRouteCreation(n))}return e}emitSignalAboutRouteCreation(e){var t;a.pp.emit("routes["+(null!==(t=e.name)&&void 0!==t?t:e.path)+"].created",e)}getRouter(){return new s.ZP({routes:this.getRoutes()})}}},56430:function(e,t,n){n.d(t,{G:function(){return a}});var i=n(70538),s=n(19755);function a(e,t){let n=!1;function a(){n&&e.value&&(s(e.value).select2("destroy"),e.value.innerHTML="",n=!1)}return(0,i.onBeforeUnmount)((()=>{a()})),{init:function(i){n&&a(),e.value&&(s(e.value).select2({theme:window.SELECT2_THEME,...i}).on("change",(n=>{const i=s(e.value).select2("data");t(i,n)})),n=!0)},setValue:function(t){s(e.value).val(t).trigger("change")}}}},64765:function(e,t,n){n.d(t,{$C:function(){return f},$k:function(){return p},Ut:function(){return l},YR:function(){return u},l5:function(){return r},n:function(){return h},pp:function(){return a},rf:function(){return o},v7:function(){return c}}),n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948),n(57658);var i=n(27638),s=n(59198);const a=new i.Z("application"),r="APP_CREATED",o="app.afterInit",l="app.beforeInit",u="allModels.created",d=(()=>{const e=new Map,t=new Map;return a.connect(r,(()=>{e.clear(),t.clear()})),function(n){return a.connect(n,(function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];!function(n,i){e.set(n,i);const s=t.get(n);if(s)for(const e of s)try{e(...i)}catch(e){console.error("Error in signal callback",e)}}(n,s)})),function(i){!function(n,i){const s=e.get(o);if(s)return void i(...s);const a=t.get(n);a?a.push(i):t.set(n,[i])}(n,i)}}})(),c=d(o),p=d(l),f=d(u);function h(e,t,n){const i={[e]:t,data:n,isListItem:arguments.length>3&&void 0!==arguments[3]&&arguments[3]};return a.emit("<".concat((0,s.getApp)().store.page.view.path,">filter").concat((0,s.capitalize)(e)),i),i[e]}},42950:function(e,t,n){n.d(t,{Vk:function(){return C},vG:function(){return x},XR:function(){return S},yq:function(){return k},yk:function(){return _},B8:function(){return p},qd:function(){return Z},go:function(){return v},MY:function(){return h},r8:function(){return b},PB:function(){return m},O1:function(){return A},h0:function(){return y},OU:function(){return c},Rx:function(){return w},VS:function(){return f},cH:function(){return g},No:function(){return F}}),n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948),n(57640),n(9924),n(57658),n(15306),n(21703),n(68216),n(2490),n(79433),n(88449),n(59849);var i=n(67476),s=n(70538),a=n(94363),r=(n(52262),n(59198)),o=n(8366),l=n(64765),u=n(56716),d=n(84085);function c(){const e=(0,s.ref)([]),t=(0,s.computed)((()=>new Map(e.value.map((e=>[e.view.path,e])))));return{items:(0,s.shallowReadonly)(e),itemsMap:t,push:async function(t){const n=t.view,i=(0,r.getApp)().router,s=i.currentRoute.path,a=[],o=(0,r.pathToArray)(s);for(let t=0;t<o.length-1;t++){var l,u;const s=i.resolve((0,r.joinPaths)(...o.slice(0,t+1)));if(s.route.fullPath===(null===(l=e.value[t])||void 0===l?void 0:l.path)){a.push(Promise.resolve(e.value[t]));continue}const d=null===(u=s.route.meta)||void 0===u?void 0:u.view;d&&a.push(d.resolveState({route:s.route}).catch((e=>{console.warn('Error while resolving view "'.concat(n.path,'" state'),e)})).then((e=>({view:d,path:s.route.path,state:e}))))}a.push(n.resolveState({route:i.currentRoute,store:t}).catch((e=>{console.warn('Error while resolving view "'.concat(n.path,'" state'),e)})).then((e=>({view:n,path:s,state:e})))),e.value=await Promise.all(a)}}}function p(){return(0,r.getApp)().router.currentRoute.path.replace(/\/edit\/?$/,"").replace(/\/new\/?$/,"")}const f=e=>{if(!e.objects)throw new Error("View ".concat(e.path," has no queryset"));const t=(0,r.getApp)(),n=(0,s.ref)(e.objects.formatPath(t.router.currentRoute.params));return{queryset:n,setQuerySet:function(e){n.value=e}}},h=(e,t)=>{const n=(0,s.computed)((()=>Array.from(e.value.fields.values())));return(0,s.computed)((()=>(0,r.classesFromFields)(n.value,t.value)))},m=e=>{let{view:t,data:n,isListItem:i=!1}=e;return{actions:(0,s.computed)((()=>(0,l.n)("actions",Array.from(t.actions.values()),null==n?void 0:n.value,i))),sublinks:(0,s.computed)((()=>(0,l.n)("sublinks",Array.from(t.sublinks.values()),null==n?void 0:n.value,i)))}},v=e=>{const t=(0,s.ref)(!1),n=(0,s.ref)(null),i=(0,s.ref)(null),o=(0,s.computed)((()=>e.getTitle(e.getSavedState()))),l=(()=>{const e=(0,r.getApp)();return(0,s.computed)((()=>{if("home"===e.rootVm.$route.name)return[];const t=[{iconClasses:"fas fa-home",link:"/"}];for(const{view:n,path:i,state:s}of e.store.viewItems){if((0,r.isNotFoundView)(n))continue;let e=i,a="",o=n.getTitle(s);n.isNewPage()?(e="",a="fas fa-plus"):n.isEditPage()&&!n.isEditStyleOnly&&(e="",a="fas fa-pen",o=""),t.push({name:o,link:e,iconClasses:a})}return t.at(-1).link="",t.length>4?[...t.slice(0,2),{name:"..."},...t.slice(-2)]:t}))})(),{start:u,stop:d,setCallback:c,setPk:p}=(0,a.useAutoUpdate)({callback:()=>{var t,n,i;return null!==(t=null===(n=(i=(0,r.getApp)().store.page).updateData)||void 0===n?void 0:n.call(i))&&void 0!==t?t:Promise.reject("Please provide auto update callback or disable auto update for view ".concat(e.path))},pk:()=>{var e,t;return null===(e=(t=(0,r.getApp)().store.page).getAutoUpdatePk)||void 0===e?void 0:e.call(t)},labels:e.subscriptionLabels||void 0,startOnMount:e.autoupdate});function f(){t.value=!1,i.value=!0}return{...m({view:e,isListItem:!1}),view:(0,s.ref)(e),loading:t,error:n,response:i,title:o,breadcrumbs:l,initLoading:function(){n.value=null,i.value=null,t.value=!0},setLoadingSuccessful:f,setLoadingError:function(e){t.value=!1,n.value=e},fetchData:function(){return f(),Promise.resolve()},startAutoUpdate:u,stopAutoUpdate:d,setAutoUpdateCallback:c,setAutoUpdatePk:p}},g=e=>{const t=(0,s.ref)([]),n=(0,s.computed)((()=>e.value.every((e=>t.value.includes(e.getPkValue())))));function i(e){t.value=null!=e?e:[]}return{selection:t,allSelected:n,setSelection:i,unselectIds:function(e){t.value=t.value.filter((t=>!e.includes(t)))},toggleSelection:function(e){const n=t.value.indexOf(e);-1===n?t.value.push(e):(0,s.del)(t.value,n)},toggleAllSelection:function(){i(n.value?[]:e.value.map((e=>e.getPkValue())))}}};function _(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return n||"__deep_parent"===t})))}function b(e){const t=(0,r.getApp)(),n=(0,s.ref)(0),i=(0,s.ref)(t.config.defaultPageLimit),a=(0,s.ref)(1),o=(0,s.ref)((0,r.emptyInnerData)());return{count:n,pageSize:i,pageNumber:a,filters:o,setQuery:function(t){t=_(t);const n=i.value,s=Number(t.page)||1;o.value=t,a.value=s,e.value=e.value.clone({query:(0,r.mergeDeep)({limit:n,offset:n*(s-1)},t)})}}}function y(e){let{count:t,page:n,size:i}=e;const a=(0,s.ref)(0),r=(0,s.ref)(3);(0,s.watch)(n,(e=>a.value=e));const o=(0,s.computed)((()=>{const e=Math.ceil(t.value/i.value);return Number.isFinite(e)?e:1})),l=(0,s.computed)((()=>a.value>1)),u=(0,s.computed)((()=>a.value<o.value));function d(){l.value&&(a.value-=1)}function c(){u.value&&(a.value+=1)}return(0,s.computed)((()=>{const e=2*r.value;if(o.value<=e){const e=[];for(let t=1;t<=o.value;t++)e.push({page:t,text:t.toString(),disabled:n.value===t});return e}const t=Math.max(1,a.value-r.value),i=Math.min(a.value+(e-r.value),o.value),s=[{page:1,icon:"fas fa-angle-double-left",disabled:1===n.value},{icon:"fas fa-angle-left",onClick:d,disabled:!l.value}];for(let e=t;e<=i;e++)s.push({page:e,text:e.toString(),disabled:n.value===e});return s.push({icon:"fas fa-angle-right",onClick:c,disabled:!u.value},{page:o.value,icon:"fas fa-angle-double-right",disabled:n.value===o.value}),s}))}function w(){const e="__search";function t(e){e=function(e){return Object.fromEntries(Object.keys(e).filter((t=>void 0!==e[t])).map((t=>[t,e[t]])))}(e);for(const t in e)r.IGNORED_FILTERS.includes(t)&&delete e[t];return(0,r.openPage)((0,r.getApp)().rootVm.$route.path+(0,r.makeQueryString)(e))}return{applyFilters:t,applyFieldsFilters:function(n){return t({...n,[e]:(0,r.getApp)().rootVm.$route.query[e]})},applySearchFilter:function(n){return t({...(0,r.getApp)().rootVm.$route.query,[e]:n})}}}const x=e=>{const t=(0,r.getApp)(),n=(0,s.shallowRef)(null),i=(0,s.computed)((()=>{var e,t;return null!==(e=null===(t=n.value)||void 0===t?void 0:t.sandbox.value)&&void 0!==e?e:(0,r.emptyRepresentData)()})),a=(0,s.computed)((()=>t.rootVm.$route.params.providedInstance)),o=(0,s.computed)((()=>e.getModel())),l=(0,s.computed)((()=>e.getFieldsGroups({data:i.value})));return{instance:n,sandbox:i,providedInstance:a,setInstance:function(e){n.value=e},setFieldValue:function(e){var t;null===(t=n.value)||void 0===t||t.sandbox.set(e)},fieldsGroups:l,model:o}},C=e=>{const t=(0,s.ref)({}),n=(0,s.computed)((()=>{var t;return null===(t=e.instance.value)||void 0===t?void 0:t.sandbox.changedFields})),i=(0,s.computed)((()=>{var t,n;return null!==(t=null===(n=e.instance.value)||void 0===n?void 0:n.sandbox.changed)&&void 0!==t&&t}));return{...e,validateAndSetInstanceData:function(){e.instance.value._validateAndSetData()},setFieldValue:function(n){(0,s.del)(t.value,n.field),e.setFieldValue(n)},fieldsErrors:t,changedFields:n,isPageChanged:i}},S=e=>{const t=C(x(e)),n=(0,r.getApp)();return t.setInstance(new t.model.value),{...t,execute:async function(){try{const s=e.actions.get("execute"),a=await n.actions.executeWithData({action:s,instance:t.instance.value,method:e.method,path:e.getRequestPath(n.router.currentRoute),throwError:!0});var i;t.instance.value.sandbox.markUnchanged(),t.fieldsErrors.value={},s.redirectPath?(0,r.openPage)("function"==typeof s.redirectPath?s.redirectPath():s.redirectPath):(0,r.openPage)(null!==(i=(0,r.getRedirectUrlFromResponse)(null==a?void 0:a.data,e.action.responseModel))&&void 0!==i?i:e.getRedirectUrl(n.router.currentRoute))}catch(e){e instanceof o.ModelValidationError?t.fieldsErrors.value=e.toFieldsErrors():console.warn(e)}}}};async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,r.getApp)(),a=(0,d.yj)(),o=e._createStore();(0,s.provide)("view",e),t.watchQuery&&(0,s.watch)((0,s.toRef)(a,"query"),(()=>{o.fetchData()})),(0,s.onScopeDispose)((()=>{o.$dispose();const e=(0,i.getActivePinia)();e&&delete e.state.value[o.$id]}));try{await n.store.setPage(o)}catch{}try{await o.fetchData()}catch{}return o}function F(){return(0,r.getApp)().store.page}const Z=(()=>{const e=new Map;let t=0;return l.pp.once("app.afterInit",(t=>{t.app.router.beforeEach(((t,n,i)=>{if(e.size>0)for(const s of e.values())s(t,n,i);else i()}))})),function(n){const i=++t;e.set(i,n),((0,s.getCurrentInstance)()?s.onUnmounted:s.onScopeDispose)((()=>{e.delete(i)}))}})();function A(e){let{askIf:t,customMessage:n}=e;const i=null!=n?n:"Changes you made may not be saved.";function a(e){t.value?(e.preventDefault(),e.returnValue=""):delete e.returnValue}(0,s.getCurrentInstance)()&&((0,s.onMounted)((()=>{window.addEventListener("beforeunload",a)})),(0,s.onBeforeUnmount)((()=>{window.removeEventListener("beforeunload",a)}))),Z(((e,n,s)=>{!t.value||window.confirm(u.a.ts(i))?s():s(!1)}))}},56039:function(e,t,n){n.r(t),n.d(t,{GLOBAL_STORE:function(){return u},GlobalStore:function(){return i.GlobalStore},LocalSettingsStore:function(){return s.LocalSettingsStore},PAGE_WITH_EDITABLE_DATA:function(){return l.Vk},PAGE_WITH_INSTANCE:function(){return l.vG},UserSettingsStore:function(){return a.UserSettingsStore},createActionStore:function(){return l.XR},createActionViewStore:function(){return S},createDetailViewStore:function(){return w},createEditViewStore:function(){return C},createListViewStore:function(){return y},createLocalSettingsStore:function(){return d},createNewViewStore:function(){return x},createUserSettingsStore:function(){return h},createViewStore:function(){return l.yq},filterNonEmpty:function(){return l.yk},getRedirectUrl:function(){return l.B8},onRouterBeforeEach:function(){return l.qd},pinia:function(){return k},useBasePageData:function(){return l.go},useEntityViewClasses:function(){return l.MY},useListFilters:function(){return l.r8},useOperations:function(){return l.PB},usePageLeaveConfirmation:function(){return l.O1},usePagination:function(){return l.h0},useParentViews:function(){return l.OU},useQueryBasedFiltering:function(){return l.Rx},useQuerySet:function(){return l.VS},useSelection:function(){return l.cH},useViewStore:function(){return l.No}});var i={};n.r(i),n.d(i,{V:function(){return u}});var s={};n.r(s),n.d(s,{a:function(){return d}});var a={};n.r(a),n.d(a,{B:function(){return h}});var r=n(67476),o=(n(57658),n(70538)),l=n(42950);const u=()=>{const e=(0,o.ref)(null),t=(0,o.computed)((()=>{var t;return null===(t=e.value)||void 0===t?void 0:t.title})),n=(0,o.computed)((()=>{var t;return null===(t=e.value)||void 0===t?void 0:t.breadcrumbs})),i=(0,o.computed)((()=>{var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.entityViewClasses)&&void 0!==t?t:[]})),s=(0,l.OU)();return(0,o.watch)(t,(e=>{e&&(document.title=e)})),{title:t,breadcrumbs:n,page:e,entityViewClasses:i,viewItems:s.items,viewItemsMap:s.itemsMap,setPage:function(t){return e.value=t,s.push(t)}}};n(43847);const d=(e,t,n)=>(0,r.defineStore)("localSettings",(()=>{const i=(0,o.ref)(new n);function s(){var s;i.value=new n(JSON.parse(null!==(s=e.getItem(t))&&void 0!==s?s:"{}"))}return{settings:(0,o.computed)((()=>i.value.sandbox.value)),changed:(0,o.computed)((()=>i.value.sandbox.changed)),setValue:function(e){i.value.sandbox.set(e)},rollback:function(){i.value.sandbox.reset()},load:s,save:function(){i.value._validateAndSetData(),e.setItem(t,JSON.stringify(i.value._getInnerData())),s()}}}));var c=n(64765),p=n(59198);const f="/user/profile/_settings/",h=(e,t)=>(0,r.defineStore)("userSettings",(()=>{const n=(0,o.ref)(new t),i=(0,o.computed)((()=>n.value.sandbox.value)),s=(0,o.computed)((()=>n.value.sandbox.changed)),a=(0,o.ref)(!1);function r(e,t){var i;let{field:s,value:a,...r}=t;const o=null!==(i=n.value.sandbox.value[e])&&void 0!==i?i:{};n.value.sandbox.set({field:e,value:{...o,[s]:a},...r})}function l(e){n.value=new t(e)}async function u(){a.value=!0,n.value._validateAndSetData();const t=n.value._getInnerData();try{const{data:n}=await e.bulkQuery({method:p.HttpMethods.PUT,path:f,data:t});l(n)}finally{a.value=!1}}return{settings:i,changed:s,saving:(0,o.readonly)(a),init:async function(){const{data:t}=await e.bulkQuery({method:p.HttpMethods.GET,path:f});c.pp.once("app.afterInit",(()=>{l(t)}))},setAndSave:function(e,t){return r(e,t),u()},save:u,rollback:function(){n.value.sandbox.reset()},setValue:r}}));n(15306),n(88449),n(2490),n(59849),n(33948),n(57640),n(9924),n(41637),n(62062);var m=n(8366),v=n(90548),g=n(56716),_=n(40151);const b=e=>{let{pageView:t,unselect:n}=e;return async e=>{let{action:i,instance:s,fromList:a,purge:r}=e;const o=(0,p.getApp)();try{if(a||o.store.page.stopAutoUpdate(),await s.delete(r),v.guiPopUp.success(g.a.t(v.pop_up_msg.instance.success.remove,[s.getViewFieldString()||s.getPkValue(),t?g.a.t(t.title):""])),!a){const e=o.router.currentRoute;return(0,p.openPage)(e.path.replace(/[^/]+\/?$/,""))}if(n){const e=s.getPkValue();e&&n(e)}}catch(e){const n=o.error_handler.errorToString(e),i=g.a.t(v.pop_up_msg.instance.error.remove).format([s.getViewFieldValue()||s.getPkValue(),t?g.a.t(t.title):"",n]);o.error_handler.showError(i,n)}return Promise.resolve(void 0)}},y=e=>{const t=(0,l.go)(e),n=(0,l.VS)(e),i=(0,p.getApp)(),{count:s,pageNumber:a,pageSize:r,setQuery:u,filters:d}=(0,l.r8)(n.queryset),c=(0,l.h0)({count:s,page:a,size:r}),f=(0,o.computed)((()=>e.objects.getResponseModelClass(p.RequestTypes.LIST))),h=(0,o.ref)((0,m.createInstancesList)([])),_=(0,l.cH)(h),y=(0,o.computed)((()=>!h.value.length)),w=(0,o.computed)((()=>e.pageView?Array.from(e.pageView.sublinks.values()).filter((e=>!e.hidden&&!e.doNotShowOnList)):[])),x=(0,o.computed)((()=>e.pageView?Array.from(e.pageView.actions.values()).filter((e=>!e.hidden&&!e.doNotShowOnList)):[])),C=(0,o.computed)((()=>Array.from(e.multiActions.values())));function S(e){var t;h.value=e,void 0!==(null===(t=e.extra)||void 0===t?void 0:t.count)&&(s.value=e.extra.count)}async function k(){var e;const t=await n.queryset.value.items();(0,p.isInstancesEqual)(h.value,t)?null!==(e=h.value.extra)&&void 0!==e&&e.count&&s.value!==h.value.extra.count&&(s.value=h.value.extra.count):S(t)}return{...t,...n,..._,...(0,l.Rx)(),count:s,pageNumber:a,pageSize:r,paginationItems:c,instances:h,isEmpty:y,model:f,instanceSublinks:w,instanceActions:x,multiActions:C,filters:d,setInstances:S,setQuery:u,updateData:k,fetchData:async function(){_.setSelection([]),u(function(){const t=i.router.currentRoute,n={...t.query};let s=null;return e.deepNestedParentView?s=t.params[e.parent.pkParamName]:e.deepNestedView&&(s=""),null!==s&&(n.__deep_parent=s),n}()),t.initLoading();try{await k(),t.setLoadingSuccessful()}catch(e){t.setLoadingError(e)}},removeInstance:b({pageView:e.pageView,unselect:e=>_.unselectIds([e])}),removeInstances:async function(e){let{action:t,instances:n,purge:s=!1}=e;const a=[];try{await Promise.all(n.map((e=>e.delete(s).then((()=>{a.push(e.getPkValue())}))))),v.guiPopUp.success(g.a.t(v.pop_up_msg.instance.success.removeMany))}catch(e){const t=i.error_handler.errorToString(e),n=g.a.t(v.pop_up_msg.instance.error.removeMany,[t]);i.error_handler.showError(n,t)}_.unselectIds(a)},executeMultiAction:async function(e){const t=h.value.filter((e=>_.selection.value.includes(e.getPkValue())));await i.actions.execute({action:e,instances:t})}}},w=e=>{const t=(0,l.VS)(e),n=(0,l.vG)(e),i=(0,l.go)(e),s=(0,p.getApp)(),a=(0,o.ref)((0,p.emptyInnerData)());function r(){return n.instance.value?n.instance.value.getPkValue():s.router.currentRoute.params[e.pkParamName]}const u=(0,o.computed)((()=>{var t,i,s;if(!e.filtersModelClass)return{};const a=null!==(t=null===(i=n.instance.value)||void 0===i||null===(s=i._response)||void 0===s?void 0:s.headers["X-Query-Data"])&&void 0!==t?t:"";return Object.fromEntries(new URLSearchParams(a).entries())})),d=(0,o.computed)((()=>{if(e.filtersModelClass)return{...u.value,...a.value}})),c=(0,o.computed)((()=>e.filtersModelClass?Object.keys(u.value).filter((e=>void 0===a.value[e])):[]));async function f(e){let{forceSet:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=t.queryset.value;e||(e=r());const l=await o.filter(a.value).get(e),u=n.instance.value;!i&&u&&l.isEqual(u)||s.store.page.setInstance(l)}return{...i,...t,...n,...(0,l.PB)({view:e,data:n.sandbox}),entityViewClasses:(0,l.MY)(n.model,n.sandbox),filtersQuery:a,filters:d,appliedDefaultFilterNames:c,getInstancePk:r,getAutoUpdatePk:function(){var e;return null!==(e=r())&&void 0!==e?e:void 0},updateData:f,fetchData:async function(){let{instancePk:t,forceSet:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.initLoading(),function(t){if(e.filtersModelClass){const n=new e.filtersModelClass(t);a.value=n._getInnerData()}}(s.router.currentRoute.query);try{if(n.providedInstance.value){const e=n.providedInstance.value;await(0,_.Z)([e]),n.setInstance(e)}else await f(t,{forceSet:r});i.setLoadingSuccessful()}catch(e){i.setLoadingError(e)}},removeInstance:b({pageView:e}),applyFilters:function(t){if(e.filtersModelClass){const n=(0,l.yk)(e.filtersModelClass.representToInner(t));return(0,p.openPage)({path:s.router.currentRoute.path,query:n})}return Promise.resolve()}}},x=e=>{const t=(0,l.VS)(e),n=(0,l.Vk)((0,l.vG)(e)),i=(0,l.go)(e),s=(0,p.getApp)();(0,l.O1)({askIf:n.isPageChanged});const a=(0,o.ref)(e.objects.getResponseModelClass(p.RequestTypes.CREATE));return{...i,...t,...n,...(0,l.PB)({view:e,data:n.sandbox}),entityViewClasses:(0,l.MY)(a,n.sandbox),model:a,fetchData:function(){let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:void 0};const s=t.queryset.value;return n.setInstance(new a.value(a.value.getInitialData(e),s)),i.setLoadingSuccessful(),Promise.resolve()},save:async function(){try{n.validateAndSetInstanceData()}catch(e){return s.error_handler.defineErrorAndShow(e),void(e instanceof m.ModelValidationError&&(n.fieldsErrors.value=e.toFieldsErrors()))}const t=n.instance.value;if(!t)return;i.loading.value=!0;const a=t.getViewFieldString()||t.getPkValue()||"";try{const i=e.params.method,s=await t.create(i);return n.instance.value.sandbox.markUnchanged(),n.fieldsErrors.value={},v.guiPopUp.success(g.a.t(v.pop_up_msg.instance.success.save,[a,e.name])),e.isDeepNested?(0,p.openPage)((0,l.B8)()):(0,p.openPage)({path:(0,l.B8)(),params:{providedInstance:s}})}catch(e){const i=t.parseModelError(e.data);i&&(n.fieldsErrors.value=i.toFieldsErrors()),s.error_handler.showError(g.a.t(v.pop_up_msg.instance.error.create,[s.error_handler.errorToString(i||e)]))}finally{i.loading.value=!1}}}},C=e=>{const t=(0,l.Vk)(w(e));(0,l.O1)({askIf:t.isPageChanged});const n=(0,p.getApp)();return{...t,setInstance:function(e){e instanceof t.model.value||(e=new t.model.value(void 0,null,e)),t.setInstance(e)},save:async function(){try{t.validateAndSetInstanceData()}catch(e){return n.error_handler.defineErrorAndShow(e),void(e instanceof m.ModelValidationError&&(t.fieldsErrors.value=e.toFieldsErrors()))}const i=t.instance.value;if(!i)return;t.loading.value=!0;const s=i.getViewFieldString()||i.getPkValue()||"";try{const n=e.params.method,a=await i.update(n,e.isPartial?Array.from(t.instance.value.sandbox.changedFields):void 0);return i.sandbox.markUnchanged(),t.fieldsErrors.value={},v.guiPopUp.success(g.a.t(v.pop_up_msg.instance.success.save,[s,e.name])),e.isDeepNested?(0,p.openPage)((0,l.B8)()):(0,p.openPage)({path:(0,l.B8)(),params:{providedInstance:a}})}catch(e){const s=i.parseModelError(e.data);s&&(t.fieldsErrors.value=s.toFieldsErrors()),n.error_handler.showError(g.a.t(v.pop_up_msg.instance.error.save,[n.error_handler.errorToString(s||e)]))}finally{t.loading.value=!1}},reload:function(){return t.fetchData({forceSet:!0})},cancel:function(){t.instance.value.sandbox.markUnchanged(),n.router.back()}}},S=e=>{const t=(0,l.go)(e),n=(0,l.XR)(e);return(0,l.O1)({askIf:n.isPageChanged}),t.setLoadingSuccessful(),{...t,...n,...(0,l.PB)({view:e,data:n.sandbox}),entityViewClasses:(0,l.MY)(n.model,n.sandbox),execute:async function(){t.initLoading();try{return await n.execute()}finally{t.setLoadingSuccessful()}}}},k=(0,r.createPinia)()},56716:function(e,t,n){n.d(t,{a:function(){return a}});var i=n(17152),s=(n(26281),n(32465));i.Z.prototype.st=function(e){if(null==e)return"";if(e=String(e),this.te(e))return this.t(e);const t=e.toLowerCase();return this.te(t)?(0,s.kC)(this.t(t)):e},i.Z.prototype.ts=function(e,t){return String(this.t(e,t))};const a=new i.Z({locale:document.documentElement.lang||(0,s.ej)("lang")||"en",messages:{},silentTranslationWarn:!0,formatFallbackMessages:!0,pluralizationRules:{ru:(e,t)=>{if(0===e)return 0;const n=e>10&&e<20,i=e%10==1;return t<4?!n&&i?1:2:!n&&i?1:!n&&e%10>=2&&e%10<=4||t<4?2:3}}})},46509:function(e,t,n){n.d(t,{M:function(){return a},U:function(){return s}});let i=null;function s(e){i=e}function a(){return i}},59198:function(e,t,n){n.r(t),n.d(t,{BulkType:function(){return l},EMPTY:function(){return r},ENUM_TYPES:function(){return f},FieldViews:function(){return a.Nv},HttpMethods:function(){return o},IGNORED_FILTERS:function(){return a.le},NOT_FOUND_ROUTE_NAME:function(){return E},ObjectPropertyRetriever:function(){return a.zr},RequestTypes:function(){return x},SCHEMA_DATA_TYPE:function(){return c},SCHEMA_DATA_TYPE_VALUES:function(){return p},ViewTypes:function(){return a.cO},X_OPTIONS:function(){return h},__setApp:function(){return s.U},_translate:function(){return a.t$},addCssClassesToElement:function(){return a.pi},allPropertiesIsObjects:function(){return a._y},arrayBufferToBase64:function(){return m},capitalize:function(){return a.kC},chunkArray:function(){return a.F3},classesFromFields:function(){return a.NC},copyToClipboard:function(){return a.vQ},createPropertyProxy:function(){return S},createUniqueIdGenerator:function(){return Z},deepEqual:function(){return a.vZ},defaultDownloadResponseHandler:function(){return L},deferredPromise:function(){return w},downloadBase64File:function(){return a.lS},downloadResponse:function(){return q},emptyInnerData:function(){return k},emptyRepresentData:function(){return F},escapeHtml:function(){return a.Xv},findClosestPath:function(){return a._q},formatPath:function(){return I},generateBase32String:function(){return a.fq},generatePassword:function(){return a.F2},generateRandomString:function(){return a.zs},getApp:function(){return s.M},getCookie:function(){return a.ej},getDependenceValueAsString:function(){return a.JG},getRandomInt:function(){return u},getRandomValues:function(){return a.PP},getRedirectUrlFromResponse:function(){return O},getTimeInUptimeFormat:function(){return a.NN},getUniqueId:function(){return A},guiLocalSettings:function(){return a.lf},hasOwnProp:function(){return a.Q$},hexToRgbA:function(){return a.mR},isEmptyObject:function(){return a.Qr},isInstancesEqual:function(){return a.MU},isNotFoundView:function(){return V},isObject:function(){return a.Kn},iterFind:function(){return B},joinPaths:function(){return M},loadImage:function(){return y},lower:function(){return a.zO},makeDataImageUrl:function(){return a.OS},makeQueryString:function(){return C},mapObjectValues:function(){return a.O3},mapStoreActions:function(){return a.Pe},mapStoreState:function(){return a.XP},mapToObjectProxy:function(){return a.QA},mergeDeep:function(){return a.Ee},nameToTitle:function(){return a.Dv},obj_prop_retriever:function(){return a.D$},objectToFormData:function(){return a.NB},oneCharNumberToTwoChar:function(){return a.MP},openPage:function(){return T},openSublink:function(){return R},parseFileResponseName:function(){return N},parseResponseMessage:function(){return a.MW},pathToArray:function(){return a.NI},path_pk_key:function(){return a.tn},randomSleep:function(){return a.ri},randomString:function(){return a.O1},readFileAsDataUrl:function(){return v},readFileAsObject:function(){return _},readFileAsText:function(){return b},removeBase64Prefix:function(){return g},resumeEnterPropagation:function(){return a.Z7},saveAllSettings:function(){return P},saveHideMenuSettings:function(){return a.Wu},setFileDownloadHandler:function(){return j},sleep:function(){return a._v},sliceLongString:function(){return a.TB},stopEnterPropagation:function(){return a.yp},stopEnterPropagationCallback:function(){return a.$l},stringToBoolean:function(){return a.hb},stringToCssClass:function(){return a.bF},tableColumnClasses:function(){return d},template:function(){return a.XK},upper:function(){return a.A2}}),n(57658),n(82472),n(48675),n(33105),n(63408),n(14590),n(3462),n(33824),n(1439),n(87585),n(55315),n(23252),n(6461),n(32372),n(8922),n(5835),n(8970),n(84444),n(82801),n(33948),n(41637),n(62062),n(81299),n(25387),n(2490),n(72608),n(15306),n(60285);var i=n(78345),s=n(46509),a=n(32465);const r=Symbol("EMPTY"),o={GET:"get",POST:"post",PUT:"put",PATCH:"patch",DELETE:"delete"};var l;function u(e,t){return Math.floor(Math.random()*(t-e)+e)}function d(e){var t;const n=["column","column-".concat(e.name),"column-type-".concat(e.type)];return e.format&&n.push("column-format-".concat(e.format)),(null===(t=e.model)||void 0===t?void 0:t.pkField)===e&&n.push("pk-column"),n}!function(e){e.SIMPLE="put",e.TRANSACTIONAL="post",e.ASYNC="patch"}(l||(l={}));const c={string:"string",number:"number",integer:"integer",boolean:"boolean",object:"object",file:"file",array:"array"},p=Object.values(c),f=[c.string,c.integer,c.number],h="x-options";function m(e){let t="";const n=new Uint8Array(e),i=n.byteLength;for(let e=0;e<i;e++)t+=String.fromCharCode(n[e]);return window.btoa(t)}function v(e){return new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(()=>t(i.result))),i.addEventListener("error",n),i.readAsDataURL(e)}))}function g(e){return e.slice(e.indexOf(",")+1)}async function _(e){return{name:e.name||null,content:g(await v(e)),mediaType:e.type||null}}async function b(e){return new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(()=>t(i.result))),i.addEventListener("error",n),i.readAsText(e)}))}async function y(e){return new Promise(((t,n)=>{const i=new Image;i.addEventListener("load",(()=>t(i))),i.addEventListener("error",n),i.src=e}))}function w(){let e,t;return{promise:new Promise(((n,i)=>{[e,t]=[n,i]})),reject:t,resolve:e}}const x={LIST:"list",RETRIEVE:"retrieve",CREATE:"create",UPDATE:"update",PARTIAL_UPDATE:"partialUpdate",REMOVE:"remove"};function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="";return"string"==typeof e?n=new URLSearchParams(e).toString():e instanceof URLSearchParams?n=e.toString():"object"==typeof e&&(n=new URLSearchParams(Object.entries(e)).toString()),t||""===n||(n="?".concat(n)),n}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i=n===r?Reflect.get(e,t):n;return new Proxy(e,{get(e,n,s){return n===t?i:Reflect.get(e,n,s)},set(e,n,s,a){return n===t?(i=s,!0):Reflect.set(e,n,s,a)}})}function k(){return{}}function F(){return{}}function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;return()=>e+(++t).toString(10)}const A=Z();function T(e){const t=(0,s.M)().router;if("object"==typeof e){if(e.path&&e.params){var n,a;const i=t.resolve(e).route;!i.name||i.name===E||null!==(n=i.meta)&&void 0!==n&&null!==(a=n.view)&&void 0!==a&&a.isDeepNested||(e.name=i.name,delete e.path)}}else e={path:e};return t.push(e).catch((e=>{if(!i.ZP.isNavigationFailure(e))throw e}))}async function P(){const e=(0,s.M)();let t=!1;for(const n of[e.localSettingsStore,e.userSettingsStore])if(n.changed)try{await n.save(),t=!0}catch(t){return e.error_handler.defineErrorAndShow(t),!1}return t}const E="404";function V(e){return e.routeName===E}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e+"/"+String(null!=t?t:"").replace(/^\/|\/$/g,"")),"")+"/"}function I(e,t,n){for(const[n,i]of Object.entries(t))e=e.replace("{".concat(n,"}"),String(i));return n?e.replace(/{.+}/,String(n.getPkValue())):e}async function R(e,t){const{router:n,api:i,error_handler:a}=(0,s.M)();let r=e.appendFragment?M(n.currentRoute.path,e.appendFragment):e.href;if("function"==typeof r&&(r=r()),r=I(r,n.currentRoute.params,t),e.isFileResponse)try{const t=e.external?await fetch(r):await i.makeRequest({rawResponse:!0,method:"get",path:r});await q(t)}catch(e){a.defineErrorAndShow(e)}else{if(!e.external)return n.push(r);window.open(r,"_blank")}}function O(e,t){if(!e||"object"!=typeof e||!t)return;const n=(0,s.M)(),i=B(t.fields.values(),(e=>e.redirect));if(!i)return;const a=i.redirect;let r="";if(a.depend_field){const t=e[a.depend_field],n=t?String(t):"";r+=n.toLowerCase()}var o;r&&!a.concat_field_name||(r+=null!==(o=a.operation_name)&&void 0!==o?o:""),r+="_get";const l=n.viewsTree.findInAllPaths((e=>e.operationId===r&&e));if(!l)return void console.warn("Can't find redirect view for operationId: ".concat(r),i,e);const u=e[i.name];return null!=u?I(l.path,{...n.router.currentRoute.params,[l.pkParamName]:u}):void 0}function B(e,t){for(const n of e)if(t(n))return n}function N(e){const t=e.headers.get("Content-Disposition");if(!t)return"";const n=/filename="(.+)"/.exec(t);return n?n[1]:""}let D=L;function j(e){D=e}async function L(e){const t=await e.blob(),n=URL.createObjectURL(t),i=N(e),s=document.createElement("a");s.href=n,i&&(s.download=i),document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout((()=>URL.revokeObjectURL(n)),100)}function q(e){return D(e)}},8905:function(e,t,n){n.d(t,{B4:function(){return v},Bv:function(){return h},G7:function(){return f},O6:function(){return m},Pz:function(){return p},Uc:function(){return g},W:function(){return _},cO:function(){return r.ViewTypes},kl:function(){return b}});var i=n(4942),s=(n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948),n(15306),n(57658),n(67476)),a=n(70538),r=n(59198),o=n(51916),l=n(89045),u=n(56039),d=n(56716);const c=(0,r.createUniqueIdGenerator)();class p{constructor(e,t){var n,s,a,r,o;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,i.Z)(this,"params",void 0),(0,i.Z)(this,"objects",void 0),(0,i.Z)(this,"type",void 0),(0,i.Z)(this,"operationId",void 0),(0,i.Z)(this,"level",void 0),(0,i.Z)(this,"name",void 0),(0,i.Z)(this,"path",void 0),(0,i.Z)(this,"title",void 0),(0,i.Z)(this,"isDeepNested",void 0),(0,i.Z)(this,"hidden",void 0),(0,i.Z)(this,"routeName",void 0),(0,i.Z)(this,"autoupdate",void 0),(0,i.Z)(this,"subscriptionLabels",void 0),(0,i.Z)(this,"mixins",void 0),(0,i.Z)(this,"sublinks",new Map),(0,i.Z)(this,"actions",new Map),(0,i.Z)(this,"parent",void 0),(0,i.Z)(this,"showOperationButtons",!0),(0,i.Z)(this,"showBackButton",!0),(0,i.Z)(this,"_extendStoreHook",(e=>e)),this.params=e,this.objects=t,this.type=null!==(n=e.type)&&void 0!==n?n:this.constructor.viewType,this.operationId=e.operationId,this.level=e.level,this.name=e.name,this.path=e.path,this.title=e.title||e.name,this.isDeepNested=null!==(s=e.isDeepNested)&&void 0!==s&&s,this.hidden=null!==(a=e["x-hidden"])&&void 0!==a&&a,this.routeName=null!==(r=e.routeName)&&void 0!==r?r:e.path,this.autoupdate=null!==(o=e.autoupdate)&&void 0!==o&&o,this.subscriptionLabels=e["x-subscribe-labels"]||null,this.mixins=l}isEditPage(){return this instanceof _}isDetailPage(){return this instanceof v}isListPage(){return this instanceof h}isNewPage(){return this instanceof g}isActionPage(){return this instanceof b}extendStore(e){const t=this._extendStoreHook;this._extendStoreHook=n=>e(t(n))}_createStoreWithHook(e){return(0,s.defineStore)("page_".concat(c()),(()=>this._extendStoreHook(e)))()}resolveState(e){return Promise.resolve({})}getSavedState(){var e;return null===(e=(0,r.getApp)().store.viewItemsMap.get(this.path))||void 0===e?void 0:e.state}get modelsList(){return[this.params.requestModel||null,this.params.responseModel||null]}getTitle(e){return d.a.st(this.title)}getRoutePath(){return this.path.replace(/{/g,":").replace(/}/g,"")}getComponent(){const e=this;return{mixins:this.mixins,provide(){return{view:e,pageComponent:this}}}}_propsFunc(e){return{view:this,query:{...e.query},params:{...e.params}}}toRoute(){if(!this.hidden)return{name:this.routeName,path:this.getRoutePath(),component:this.getComponent(),props:this._propsFunc.bind(this),meta:{view:this}}}}(0,i.Z)(p,"viewType","PAGE");class f extends p{_createStore(){return this._createStoreWithHook((0,u.useBasePageData)(this))}}class h extends p{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[o.Z]),(0,i.Z)(this,"multiActions",new Map),(0,i.Z)(this,"pageView",null),(0,i.Z)(this,"nestedQueryset",null),(0,i.Z)(this,"filters",void 0),(0,i.Z)(this,"enableSearch",!0),(0,i.Z)(this,"deepNestedViewFragment",void 0),(0,i.Z)(this,"deepNestedView",void 0),(0,i.Z)(this,"deepNestedParentView",void 0),this.filters=e.filters,this.deepNestedViewFragment=e["x-deep-nested-view"]||null,this.deepNestedView=null,this.deepNestedParentView=null}_createStore(){return this._createStoreWithHook((0,u.createListViewStore)(this))}getRoutePath(){var e,t;return this.deepNestedParentView?"{0}(/\\w+/{1})*/:{2}/{1}/".format([this.deepNestedParentView.getRoutePath().replace(/\/$/,""),this.deepNestedParentView.deepNestedViewFragment,null===(e=this.deepNestedParentView.pageView)||void 0===e?void 0:e.pkParamName]):this.isDeepNested?(0,r.joinPaths)(null===(t=this.parent)||void 0===t?void 0:t.getRoutePath(),(0,r.pathToArray)(this.path).last):super.getRoutePath()}openPageView(e){var t;if(null!==(t=this.pageView)&&void 0!==t&&t.hidden)return;const n=(0,r.getApp)().router,i=n.currentRoute;if(this.isDeepNested)return n.push((0,r.joinPaths)(i.path,e.getPkValue()));const s=this.pageView;s&&(0,r.openSublink)({name:"",title:"",isFileResponse:s.isFileResponse,href:s.path},e)}}(0,i.Z)(h,"viewType","LIST");class m extends p{constructor(){super(...arguments),(0,i.Z)(this,"hideReadonlyFields",!1),(0,i.Z)(this,"wrapperClasses","col-12"),(0,i.Z)(this,"beforeFieldsGroups",void 0),(0,i.Z)(this,"afterFieldsGroups",void 0)}getFieldsGroups(e){return this.getModel().getFieldsGroups(e)}}class v extends m{constructor(e,t){var n;super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[l.Z]),(0,i.Z)(this,"parent",null),(0,i.Z)(this,"listView",null),(0,i.Z)(this,"pkParamName",null),(0,i.Z)(this,"isFileResponse",void 0),(0,i.Z)(this,"filtersModelClass",null),(0,i.Z)(this,"useViewFieldAsTitle",!0),this.isFileResponse=null!==(n=e.isFileResponse)&&void 0!==n&&n}_createStore(){return this._createStoreWithHook((0,u.createDetailViewStore)(this))}getRoutePath(){var e;const t=null===(e=this.listView)||void 0===e?void 0:e.deepNestedParentView;var n,i,s;return t?"{0}/(\\w+/{1})*/:{3}/{1}/:{2}/".format([t.getRoutePath().replace(/\/$/,""),t.deepNestedViewFragment,this.pkParamName,(null===(n=this.parent)||void 0===n?void 0:n.parent).pkParamName]):this.isDeepNested?(0,r.joinPaths)(null===(i=this.parent)||void 0===i?void 0:i.getRoutePath(),":".concat(null!==(s=this.pkParamName)&&void 0!==s?s:"")):super.getRoutePath()}toRoute(){if(!this.isFileResponse)return super.toRoute()}getModel(){return this.objects.getResponseModelClass(r.RequestTypes.RETRIEVE)}async resolveState(e){const{route:t,store:n}=e;if(n)return{instance:(0,a.toRef)(n,"instance")};const i=(0,r.getApp)().store.page;return i.view.isEditPage()&&i.view.parent===this?{instance:(0,a.toRef)(i,"instance")}:{instance:(0,a.ref)(await this.objects.formatPath(t.params).get(this.pkParamName?t.params[this.pkParamName]:void 0))}}getTitle(e){if(this.useViewFieldAsTitle&&null!=e&&e.instance){const t=e.instance.getViewFieldString(!1);if(t)return t}return super.getTitle(e)}}(0,i.Z)(v,"viewType","PAGE");class g extends m{constructor(e,t){var n;super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[l.Z]),(0,i.Z)(this,"nestedAllowAppend",void 0),(0,i.Z)(this,"multiActions",new Map),(0,i.Z)(this,"listView",null),(0,i.Z)(this,"hideReadonlyFields",!0),this.nestedAllowAppend=null!==(n=e["x-allow-append"])&&void 0!==n&&n}_createStore(){return this._createStoreWithHook((0,u.createNewViewStore)(this))}getRoutePath(){var e;return(0,r.joinPaths)(null===(e=this.parent)||void 0===e?void 0:e.getRoutePath(),(0,r.pathToArray)(this.path).last)}getModel(){return this.objects.getResponseModelClass(r.RequestTypes.CREATE)}}(0,i.Z)(g,"viewType","PAGE_NEW");class _ extends m{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[l.Z]),(0,i.Z)(this,"parent",null),(0,i.Z)(this,"isEditStyleOnly",!1),(0,i.Z)(this,"isPartial",void 0),(0,i.Z)(this,"hideReadonlyFields",!0),this.isPartial=e.method===r.HttpMethods.PATCH}_createStore(){return this._createStoreWithHook((0,u.createEditViewStore)(this))}getRoutePath(){var e;return this.isDeepNested?(0,r.joinPaths)(null===(e=this.parent)||void 0===e?void 0:e.getRoutePath(),(0,r.pathToArray)(this.path).last):super.getRoutePath()}getModel(){return this.objects.getRequestModelClass(this.isPartial?r.RequestTypes.PARTIAL_UPDATE:r.RequestTypes.UPDATE)}}(0,i.Z)(_,"viewType","PAGE_EDIT");class b extends m{constructor(e,t){var n;super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[l.Z]),(0,i.Z)(this,"hideReadonlyFields",!0),(0,i.Z)(this,"method",void 0),(0,i.Z)(this,"action",void 0),(0,i.Z)(this,"isFileResponse",void 0),this.method=e.method,this.action=e.action,this.isFileResponse=null!==(n=e.isFileResponse)&&void 0!==n&&n}_createStore(){return this._createStoreWithHook((0,u.createActionViewStore)(this))}getRoutePath(){var e;return(0,r.joinPaths)(null===(e=this.parent)||void 0===e?void 0:e.getRoutePath(),(0,r.pathToArray)(this.path).last)}getRequestPath(e){var t,n;const i=null===(t=this.parent)||void 0===t||null===(n=t.parent)||void 0===n?void 0:n.deepNestedParentView;if(i){const[t,n]=(0,r.pathToArray)(e.path).slice(-2);return(0,r.joinPaths)((0,r.formatPath)(i.path,e.params),t,n)}return(0,r.formatPath)(this.path,e.params)}getRedirectUrl(e){return this.isDeepNested?e.path.replace(/[^/]+\/$/,""):this.parent?(0,r.formatPath)(this.parent.path,e.params):e.path}getModel(){return this.action.requestModel}}(0,i.Z)(b,"viewType","ACTION")},92649:function(e,t,n){n.r(t),n.d(t,{ActionView:function(){return o.kl},BaseView:function(){return o.Pz},DetailView:function(){return o.O6},ListView:function(){return o.Bv},PageEditView:function(){return o.W},PageNewView:function(){return o.Uc},PageView:function(){return o.B4},View:function(){return o.G7},ViewConstructor:function(){return i.Z},ViewPropsDef:function(){return l.n},ViewTypes:function(){return o.cO},ViewsTree:function(){return r}});var i=n(60113),s=(n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948),n(59198));class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.fragment=e,this.view=t,this.children=new Map,this.parent=null}get(e){let t=this;for(const n of e){if(!t.children.has(n))return null;t=t.children.get(n)}return t}*siblings(){if(this.parent)for(const e of this.parent.children.values())e!==this&&(yield e)}*parents(){this.parent&&(yield this.parent,yield*this.parent.parents())}add(e){return this.children.set(e.fragment,e),e.parent=this,e}ensureExists(e){return this.children.has(e)?this.children.get(e):this.add(new a(e))}}class r{constructor(e){this.views=e,this.root=this.constructor.buildViewsTree(e)}static buildViewsTree(e){const t=new a(null,e.get("/"));for(const[n,i]of e){const e=(0,s.pathToArray)(n);let r=t;for(let t=0;t<e.length-1;t++)r=r.ensureExists(e[t]);r.add(new a(e[e.length-1],i))}return t}findInAllPaths(e){for(const t of this.views.values()){const n=e(t);if(n)return n}return null}findInNeighbourPaths(e,t){for(const n of e.siblings()){const e=n.view&&t(n.view);if(e)return e}return null}findInChildren(e,t){for(const n of e.children.values()){const e=n.view&&t(n.view);if(e)return e}return null}findInParentsDeep(e,t){for(const n of e.parents()){const e=n.view&&t(n.view);if(e)return e;for(const e of n.siblings()){const n=e.view&&t(e.view);if(n)return n}}return null}findInFirstLevel(e){for(const t of this.root.children.values()){const n=t.view&&e(t.view);if(n)return n}}}var o=n(8905),l=n(66523)},66523:function(e,t,n){n.d(t,{n:function(){return i}});const i={view:{type:Object,required:!0},query:{type:Object,default:()=>({})},params:{type:Object,default:()=>({})}}},19298:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".dark-mode input:-webkit-autofill,.dark-mode input:-webkit-autofill:hover,.dark-mode input:-webkit-autofill:focus,.dark-mode input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #343a40 inset !important}.dark-mode input:-webkit-autofill{-webkit-text-fill-color:#fff}.dark-mode .select2-selection{background-color:#343a40;border-color:#6c757d}.dark-mode .select2-container--disabled .select2-selection--single{background-color:#454d55}.dark-mode .select2-selection--single{background-color:#343a40;border-color:#6c757d}.dark-mode .select2-selection--single .select2-selection__rendered{color:#fff}.dark-mode .select2-dropdown .select2-search__field,.dark-mode .select2-search--inline .select2-search__field{background-color:#343a40;border-color:#6c757d;color:#fff}.dark-mode .select2-dropdown{background-color:#343a40;border-color:#80bdff;color:#fff}.dark-mode .select2-results__option[aria-selected=true]{background-color:#3f474e !important;color:#dee2e6}.dark-mode .select2-container .select2-search--inline .select2-search__field{background-color:rgba(0,0,0,0);color:#fff}.dark-mode .select2-container--bootstrap4 .select2-selection--multiple .select2-selection__choice{color:#fff}",""]),t.Z=r},86767:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".tags-selector{flex:1}.tags-selector input{height:initial !important}",""]),t.Z=r},39451:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".main-sidebar,.iziToast-wrapper{padding-top:env(safe-area-inset-top)}",""]),t.Z=r},43472:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,":root{--scroll-base: var(--white);--scrollThumb-base: #8f8f8f;--scrollThumb-hover: #616161}.dark-mode{--scroll-base: var(--dark);--scrollThumb-base: #616161;--scrollThumb-hover: #424242}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--scroll-base)}::-webkit-scrollbar-corner{background:var(--scroll-base)}::-webkit-scrollbar-thumb{background:var(--scrollThumb-base)}::-webkit-scrollbar-thumb:hover{background:var(--scrollThumb-hover)}::-webkit-scrollbar-thumb:active{background:var(--scrollThumb-hover)}",""]),t.Z=r},1053:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".control-sidebar-enter,.control-sidebar-leave-to{right:-300px !important}.control-sidebar-enter-to,.control-sidebar-leave{right:0 !important}",""]),t.Z=r},723:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".modal[data-v-476d87c8]{cursor:auto;padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom)}",""]),t.Z=r},25447:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".card-header[data-v-5202513b]{display:flex;align-items:center;justify-content:space-between}.card-header[data-v-5202513b]::after{display:none}.card-tools[data-v-5202513b]{display:flex;align-items:center}",""]),t.Z=r},65977:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".status[data-v-721f3f24]{font-size:70px;font-weight:200;color:#ffc107 !important;margin-right:10px;margin-bottom:0}.margin-0[data-v-721f3f24]{margin:0}",""]),t.Z=r},14279:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".popover-symbol[data-v-c9bddf36]{color:var(--info);display:inline-block;width:1em;text-align:center;cursor:pointer;outline:none}",""]),t.Z=r},22697:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".tags-selector[data-v-f84257e0]{--tags-selector-border-color: #ced4da}.dark-mode .tags-selector[data-v-f84257e0]{--tags-selector-border-color: #6c757d}.tags-selector[data-v-f84257e0]{display:flex;flex-wrap:wrap;align-items:flex-start;margin:0;padding:0;list-style:none;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border:1px solid var(--tags-selector-border-color)}.tags-selector[data-v-f84257e0]:focus-within{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.tags-selector>*[data-v-f84257e0]{margin:.375rem 0 0 .375rem}.selected-item[data-v-f84257e0]{padding:0 .3rem;color:#495057;background:#e9ecef;border:1px solid #6c757d;border-radius:.25rem;white-space:nowrap}.selected-item .remove[data-v-f84257e0]{cursor:pointer;user-select:none}.field[data-v-f84257e0]{flex:2;border:0;margin:.375rem;color:unset;background-color:rgba(0,0,0,0);min-width:6em}.field[data-v-f84257e0]:focus-visible{outline:none}",""]),t.Z=r},39021:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"nav[data-v-58498440]{overflow:auto}.breadcrumb[data-v-58498440]{display:flex;flex-wrap:nowrap;font-size:.9rem;background-color:rgba(0,0,0,0);margin:0;padding:0}.breadcrumb-item[data-v-58498440]{white-space:nowrap;flex-shrink:0}.breadcrumb-item[data-v-58498440],.breadcrumb-item a[data-v-58498440]{text-decoration:none}",""]),t.Z=r},95126:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".buttons-row-wrapper[data-v-58ef4fbe]{display:flex;flex-direction:row;flex-wrap:wrap;flex-grow:1;margin-bottom:0;padding-bottom:0}.buttons-row-wrapper[data-v-58ef4fbe] button{margin-top:5px;margin-right:5px;height:35px}",""]),t.Z=r},26108:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"@media(max-width: 576px){.dropdown-toggle[data-v-bf1f7d8e]::after{content:none}}",""]),t.Z=r},43581:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".entity-view[data-v-c2097bb6]{padding-top:.5rem}.entity-view .top-row[data-v-c2097bb6]{margin-bottom:.5rem;display:flex;justify-content:space-between;flex-wrap:wrap-reverse}",""]),t.Z=r},87425:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,'.loader-wrapper[data-v-45f69dbb]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000;background-color:rgba(0,0,0,.35);display:none;opacity:0}.in-loading[data-v-45f69dbb],.in-loading .loader-wrapper[data-v-45f69dbb]{display:block;opacity:1;animation:appchat_load_success-45f69dbb .1s}.in-starting[data-v-45f69dbb],.in-loading .loader-wrapper[data-v-45f69dbb]{display:block;opacity:1;animation:appchat_load_start-45f69dbb .3s}.in-starting[data-v-45f69dbb]{background-color:#fff}@keyframes appchat_load_start-45f69dbb{from{opacity:0}to{opacity:.35}}@keyframes appchat_load_success-45f69dbb{from{opacity:0}to{opacity:.35}}.loader[data-v-45f69dbb]{border:3px solid rgba(0,0,0,0);border-top-color:#3498db;border-radius:50%;display:block;margin:-75px 0 0 -75px;width:150px;height:150px;position:relative;top:50%;left:50%;-webkit-animation:spin-45f69dbb 2s linear infinite;-moz-animation:spin-45f69dbb 2s linear infinite;-o-animation:spin-45f69dbb 2s linear infinite;-ms-animation:spin-45f69dbb 2s linear infinite;animation:spin-45f69dbb 2s linear infinite}.loader[data-v-45f69dbb]:before{border:3px solid rgba(0,0,0,0);border-top-color:#e74c3c;border-radius:50%;content:"";position:absolute;top:5px;right:5px;bottom:5px;left:5px;-webkit-animation:spin-45f69dbb 3s linear infinite;-moz-animation:spin-45f69dbb 3s linear infinite;-o-animation:spin-45f69dbb 3s linear infinite;-ms-animation:spin-45f69dbb 3s linear infinite;animation:spin-45f69dbb 3s linear infinite}.loader[data-v-45f69dbb]:after{border:3px solid rgba(0,0,0,0);border-top-color:#f9c922;border-radius:50%;content:"";position:absolute;top:15px;left:15px;bottom:15px;right:15px;-webkit-animation:spin-45f69dbb 1.5s linear infinite;-moz-animation:spin-45f69dbb 1.5s linear infinite;-o-animation:spin-45f69dbb 1.5s linear infinite;-ms-animation:spin-45f69dbb 1.5s linear infinite;animation:spin-45f69dbb 1.5s linear infinite}@-webkit-keyframes spin-45f69dbb{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin-45f69dbb{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin-45f69dbb{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}@-ms-keyframes spin-45f69dbb{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin-45f69dbb{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}',""]),t.Z=r},32824:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".pill[data-v-0e8b4c6d]{padding:5px 7px 5px 10px;background-color:var(--btn-selected-bg-color);color:var(--btn-selected-color)}.pill .icon[data-v-0e8b4c6d]{font-size:1rem}.pill .remove-icon[data-v-0e8b4c6d]{padding:0 3px;cursor:pointer}",""]),t.Z=r},40464:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".pill .boolean-select{padding:0 2px;margin-bottom:-6px;margin-top:-6px}.pill .boolean-select .fa{padding:0}",""]),t.Z=r},78838:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".control-sidebar[data-v-54af41de]{width:300px;color:#fff;background-color:#343a40;right:0;z-index:100}.control-sidebar-content>*[data-v-54af41de]{margin-bottom:8px}.control-sidebar .field-component[data-v-54af41de]{max-width:100%;flex:0 0 100%}ul.nav[data-v-54af41de]{margin-bottom:1rem}.control-sidebar[data-v-54af41de]{transition:right .3s ease-in-out}",""]),t.Z=r},63190:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".layout-fixed .control-sidebar{top:47px !important;position:absolute !important}",""]),t.Z=r},47221:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".main-footer{display:flex}.main-footer>*:not(.whitespace){margin-right:.5rem}.btn-previous-page{padding:0 5px}.page-title{display:inline-block;margin:0;font-size:1rem;line-height:1.5;overflow:hidden;white-space:nowrap}",""]),t.Z=r},85252:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".gravatar-img[data-v-117d4b1e]{width:30px;height:30px;margin-top:-5px;margin-right:5px}.profile-menu[data-v-117d4b1e]{border-radius:0px;border-top:0px;color:#fff;box-shadow:0 0 0 0;border-color:#dfe3e7}",""]),t.Z=r},45393:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".logo-link[data-v-39bac637]{padding:.8125rem .5rem !important}.brand-link[data-v-39bac637]{border-bottom-color:var(--left-sidebar-border-color) !important;padding:.75rem .5rem}.brand-link[data-v-39bac637]:hover{color:rgba(255,255,255,.8) !important}",""]),t.Z=r},50739:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".filters-container[data-v-458c007a]{display:grid;grid-template-columns:1fr}",""]),t.Z=r},42957:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".item-row[data-v-39493925]{cursor:pointer}.item-row td[data-v-39493925]{padding:7px}tr[data-v-39493925]{height:1px}td.column-actions[data-v-39493925]{padding:5px}",""]),t.Z=r},67599:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".pk-column{display:none}",""]),t.Z=r},48906:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".filters-buttons[data-v-5f12835b]{display:flex;justify-content:space-between;margin-bottom:5px}.search-form[data-v-5f12835b]{display:flex;position:relative}.search-input[data-v-5f12835b]{padding:0 30px 0 8px}.search-button[data-v-5f12835b]{position:relative;right:30px;top:auto;border:none;background-color:rgba(0,0,0,0)}.slide-from-left-leave-active[data-v-5f12835b],.slide-from-left-enter-active[data-v-5f12835b]{transition:all .5s ease}.slide-from-left-enter[data-v-5f12835b],.slide-from-left-leave-to[data-v-5f12835b]{transform:translate(-120%, 0);opacity:0}",""]),t.Z=r},47:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".dropdown[data-v-adb9306e]{display:inline-block}",""]),t.Z=r},34437:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".page-item[data-v-1653ab79]{cursor:pointer}.item-dots[data-v-1653ab79]{width:22px;padding-left:2px;padding-right:2px}@media(max-width: 600px){.page-link[data-v-1653ab79]{font-size:.875rem;padding:.25rem .5rem;line-height:1.5}}",""]),t.Z=r},97950:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".select-icon[data-v-5a822c7f]{font-size:24px;cursor:pointer}.fa-toggle-on[data-v-5a822c7f]{color:#128200}.fa-toggle-off[data-v-5a822c7f]{color:#c6c6c6}",""]),t.Z=r},15853:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".fields-group:only-child{flex:0 0 100%;max-width:100%}",""]),t.Z=r},57761:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".field-component.format-array .select2-selection__choice{display:flex}",""]),t.Z=r},74246:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".item-field-wrapper[data-v-dd01e5fc]{display:flex}.item-field-wrapper *+*[data-v-dd01e5fc]{margin-left:.5rem}",""]),t.Z=r},79809:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".field-component .field-label:not(.form-check-label):not(.custom-file-label){font-weight:normal}.field-component .field-label{display:block;margin-bottom:.2rem}.field-component .label-error-symbol{color:red;font-weight:bold}.field-component .label-required-symbol{color:red;font-weight:bold}",""]),t.Z=r},83833:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".field-component.type-list{margin-bottom:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),t.Z=r},92824:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"p[data-v-2c165615]{margin:0}",""]),t.Z=r},70261:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".boolean-title[data-v-eafa3df0]{display:inline-block;position:absolute;padding-left:10px;padding-top:4px}",""]),t.Z=r},3377:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".boolean-title[data-v-b4f7c9d8]{display:inline-block;position:absolute;padding-left:10px;padding-top:4px}.boolean-select_disabled[data-v-b4f7c9d8]{cursor:not-allowed}",""]),t.Z=r},53383:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".field-button[data-v-7ce943b4]{cursor:pointer}",""]),t.Z=r},8947:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"div[data-v-0567e189]{cursor:pointer}",""]),t.Z=r},79721:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".file-selector-text[data-v-47a537a6]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-input[data-v-47a537a6]{transition:box-shadow .3s ease-in-out,border-radius .3s ease-in-out}.hidden-input[data-v-47a537a6]{position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:1;opacity:0;cursor:pointer;overflow:hidden}.is-dragover[data-v-47a537a6]{box-shadow:0 0 0 .2rem rgba(0,123,255,.2509803922);border-radius:.25rem}",""]),t.Z=r},11435:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".info[data-v-2efa8755]{display:flex;justify-content:space-between}",""]),t.Z=r},56296:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".btn[data-v-6d3fcb4a]{margin:5px}.field-button[data-v-6d3fcb4a]{height:36px}.file-buttons[data-v-6d3fcb4a]{display:flex;flex-direction:row;flex-wrap:wrap;flex-grow:1;margin-bottom:0;padding-bottom:0}",""]),t.Z=r},52456:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".csv-table[data-v-63e30122] .item-cell.missedValue{border:1px solid red}.csv-table[data-v-63e30122] span.missedValue::before{content:var(--required-error-text)}.csv-table[data-v-63e30122] div.item-line.unselectable{background-color:rgba(0,0,0,0) !important}.csv-table[data-v-63e30122] div.item-line.unselectable:hover{background-color:#dadee3 !important}.table-header[data-v-63e30122]{color:#6c757d;position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-clip:border-box;border:0 solid rgba(0,0,0,.125);border-radius:.25rem}#download-button[data-v-63e30122]{width:fit-content}",""]),t.Z=r},30518:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".dark-mode .csv-table div.item-line.unselectable:hover{background-color:#3a4047 !important}",""]),t.Z=r},21805:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".csv-table[data-v-37a0f1ac] .item-cell{margin:-1px -1px 0 0;border:1px solid rgba(0,0,0,0);border-bottom:1px solid #ebeef5}.csv-table[data-v-37a0f1ac] .item-line:first-child{padding:1px 0 0 0}.csv-table[data-v-37a0f1ac] .item-cell.missedValue{border-color:red}.csv-table[data-v-37a0f1ac] span.missedValue::before{content:var(--required-error-text)}.csv-table[data-v-37a0f1ac] .header-cell-inner{text-align:center !important;word-break:break-word !important}",""]),t.Z=r},26560:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".file-buttons[data-v-d92651d4]{display:flex;margin-bottom:10px}.file-buttons>*[data-v-d92651d4]{height:35px}",""]),t.Z=r},34498:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".item-wrapper[data-v-4fdbf401]{display:flex;justify-content:space-between;align-items:center}",""]),t.Z=r},20649:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".item-title[data-v-0ad7db6c]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:15px}@media(max-width: 420px){.item-title[data-v-0ad7db6c]{font-size:13px}}@media(max-width: 768px){.item-title[data-v-0ad7db6c]{font-size:14px}}.splide__container[data-v-0ad7db6c]{height:100%;display:flex;align-items:stretch;padding:8px}.splide__content[data-v-0ad7db6c]{border-radius:5px;position:relative;box-shadow:1px 1px 5px 0 #b0b0b0;display:flex;flex-direction:column;justify-content:space-between;width:100%;padding:8px}.remove-file[data-v-0ad7db6c]{position:absolute;right:6px;top:3px;background-color:rgba(0,0,0,0)}.remove-file[data-v-0ad7db6c]:hover{transform-origin:center;transition:transform .05s ease-in-out;transform:scale(1.05);background-color:rgba(0,0,0,0)}.modal-slider[data-v-0ad7db6c]{width:100%}.modal-slider img[data-v-0ad7db6c]{width:100%;height:auto;object-fit:contain}.modal-slider[data-v-0ad7db6c] .splide__pagination__page.is-active{border:1px solid gray}",""]),t.Z=r},22985:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".btn[data-v-710d8c99]{font-size:1.5rem}.slide-image[data-v-710d8c99]{width:100%;height:100%;object-fit:contain}",""]),t.Z=r},70545:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".preview-img[data-v-1fe7c439]{width:100%;height:100%;background-repeat:no-repeat;background-size:contain;background-position:center;min-height:47px;cursor:pointer}:is(.type-readonly,.type-edit) .preview-img[data-v-1fe7c439]{height:150px}",""]),t.Z=r},61186:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"button[data-v-0ec81725]{touch-action:manipulation;user-select:none;-webkit-user-select:none}.btn-title[data-v-0ec81725]{cursor:default}.error[data-v-0ec81725]{color:red}.hidden[data-v-0ec81725]{opacity:0}.modal-img[data-v-0ec81725]{height:auto;max-width:100%;aspect-ratio:3/2}.button-margin[data-v-0ec81725]{margin:1rem 0}@media(max-width: 991px){.img-wrapper[data-v-0ec81725]{max-height:50vh}.modal-img[data-v-0ec81725]{aspect-ratio:1}.button-margin[data-v-0ec81725]{margin:.5rem 0}.button-small[data-v-0ec81725]{padding:.25rem .5rem;font-size:.8rem;line-height:1.5;border-radius:.2rem}.validator-params[data-v-0ec81725]{font-size:14px;margin-bottom:.5rem}}",""]),t.Z=r},85135:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".validator-modal .modal-body[data-v-96c3182c]{max-height:90vh;overflow-y:auto;touch-action:manipulation;user-select:none;-webkit-user-select:none}@media(max-width: 991px){.validator-modal .modal-header[data-v-96c3182c]{padding:.5rem}}",""]),t.Z=r},80306:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".tree[data-v-6009ed91]{max-height:500px;width:100%;overflow:scroll}.dark-mode .tree[data-v-6009ed91] .tree-anchor{color:#fff}.dark-mode .tree[data-v-6009ed91] .has-child:after{border-right-color:#fff;border-bottom-color:#fff}.dark-mode .tree[data-v-6009ed91] .tree-node.selected>.tree-content{background-color:#616161}.dark-mode .tree[data-v-6009ed91] .tree-content:hover{background-color:#424242}",""]),t.Z=r},55392:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".input-group[data-v-3aacc6cb] .select2-selection{width:100%}",""]),t.Z=r},70779:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".object-link[data-v-ee46bd7e]{margin-top:5px;text-align:center}.field-component.type-list .loader[data-v-ee46bd7e]{text-align:center}",""]),t.Z=r},92469:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".json-field-readonly[data-v-e3f84444] .card{margin:10px 0}.json-field-readonly[data-v-e3f84444] .card-header{height:30px;padding:7px}.json-field-readonly[data-v-e3f84444] .card-title{font-size:1rem;line-height:1rem}.json-field-readonly[data-v-e3f84444] .btn-tool{margin:-0.45rem 0 0 0}.json-field-readonly[data-v-e3f84444] .card-body{padding:10px 0 0 20px}",""]),t.Z=r},46934:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".json-string[data-v-6e2d9c49]{font-size:1rem}",""]),t.Z=r},86716:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"p[data-v-432de31e]{margin-bottom:.5rem}",""]),t.Z=r},45470:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"i[data-v-d9010064]{font-size:1.8rem;filter:opacity(0.5);margin-left:2px}i.active[data-v-d9010064]{filter:none}",""]),t.Z=r},16848:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".column-format-rating i{font-size:.9rem !important}",""]),t.Z=r},9328:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".rating[data-v-d4c5fb10]{display:flex;flex-wrap:wrap;--icon-size: 1.8rem;--margin-coeff: 0.09;--right-icon-margin: calc(var(--icon-size) * var(--margin-coeff))}.rating-icon[data-v-d4c5fb10]{display:flex;flex-wrap:nowrap;font-size:var(--icon-size)}.rating-icon i[data-v-d4c5fb10],.rating-icon i[data-v-d4c5fb10]::before{display:inline-block;width:calc(var(--icon-size)/2)}.rating-icon i[data-v-d4c5fb10]:nth-child(2){margin-left:var(--right-icon-margin)}",""]),t.Z=r},39189:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".column-format-rating .rating{--icon-size: 0.9rem}",""]),t.Z=r},16403:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"ul[data-v-36d1d484]{margin:0;padding:5px 0;border-bottom:1px rgba(0,0,0,.2) solid;text-align:left;list-style:none}ul[data-v-36d1d484]:first-of-type{padding-top:0}ul[data-v-36d1d484]:last-of-type{padding-bottom:0;border-bottom:none}",""]),t.Z=r},36644:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"i[data-v-29be1501]{font-size:1.5rem}i.inactive[data-v-29be1501]{color:rgba(0,0,0,.5)}",""]),t.Z=r},13880:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".column-format-related_list{width:70px;text-align:center}",""]),t.Z=r},455:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"table tr:first-of-type th[data-v-030b34ce]{border-top:none}table tr th[data-v-030b34ce]:first-of-type,table tr td[data-v-030b34ce]:first-of-type{border-left:none}table tr th[data-v-030b34ce]:last-of-type,td[data-v-030b34ce]:last-of-type{border-right:none}table tr:last-of-type td[data-v-030b34ce]{border-bottom:none}",""]),t.Z=r},1052:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".scroll[data-v-d1ef188e]{overflow-x:auto}.html_content[data-v-d1ef188e] img{max-width:60%;vertical-align:baseline}.html_content[data-v-d1ef188e] h1,.html_content[data-v-d1ef188e] h2,.html_content[data-v-d1ef188e] h3,.html_content[data-v-d1ef188e] h4,.html_content[data-v-d1ef188e] h5,.html_content[data-v-d1ef188e] h6{padding-bottom:.3em;border-bottom:1px solid #eaecef;font-weight:bold}.html_content[data-v-d1ef188e] h1{font-size:1.75em}.html_content[data-v-d1ef188e] h2{font-size:1.5em}.html_content[data-v-d1ef188e] h3{font-size:1.25em}.html_content[data-v-d1ef188e] h4{font-size:1em}.html_content[data-v-d1ef188e] h5{font-size:.75em}.html_content[data-v-d1ef188e] h6{font-size:.5em}.html_content[data-v-d1ef188e] code{padding:5px;overflow:auto;line-height:1.45;background-color:#f6f8fa;border-radius:3px;color:#032f62}.html_content[data-v-d1ef188e] tt{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.html_content[data-v-d1ef188e] dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600;display:block}.html_content[data-v-d1ef188e] dd{padding:0 16px;margin-bottom:16px;margin-left:0;display:block;margin-inline-start:30px;box-sizing:border-box}.html_content[data-v-d1ef188e] table{overflow:auto;margin-top:0;margin-bottom:16px;border-spacing:2px}.html_content[data-v-d1ef188e] table.field-list,.html_content[data-v-d1ef188e] table.option-list{display:block;width:100%}.html_content[data-v-d1ef188e] table th,.html_content[data-v-d1ef188e] table td{padding:6px 13px;border:1px solid #dfe2e5;display:table-cell;vertical-align:inherit}.html_content[data-v-d1ef188e] table th{font-weight:600}.html_content[data-v-d1ef188e] table tr:nth-child(2n){background-color:#f6f8fa}.html_content[data-v-d1ef188e] kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#000;vertical-align:middle;background-color:#fafbfc;border:solid 1px #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5}.html_content[data-v-d1ef188e] blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee;color:#6a737d}.html_content[data-v-d1ef188e] table.footnote,.html_content[data-v-d1ef188e] table.citation{border:1px solid #dfe2e5}.html_content[data-v-d1ef188e] table.footnote th.label,.html_content[data-v-d1ef188e] table.footnote td.label,.html_content[data-v-d1ef188e] table.citation th.label,.html_content[data-v-d1ef188e] table.citation td.label{display:table-cell;padding:.2em .6em .3em;font-size:90%;font-weight:600;line-height:inherit;color:#333;text-align:center;white-space:nowrap;vertical-align:middle}@media(max-width: 1220px){.html_content[data-v-d1ef188e] img{max-width:70%}}@media(max-width: 920px){.html_content[data-v-d1ef188e] img{max-width:100%}}",""]),t.Z=r},84821:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,".code-selector[data-v-ab1545bc]{margin:0;width:80px}.code-selector[data-v-ab1545bc] .select2-selection{border-radius:0;border-right:none}",""]),t.Z=r},64761:function(e,t,n){var i=n(8081),s=n.n(i),a=n(23645),r=n.n(a)()(s());r.push([e.id,"p[data-v-4613e41a]{text-align:center}.qr-code-container[data-v-4613e41a]{margin:0 auto;width:270px}.qr-code-container img[data-v-4613e41a]{width:100%}.recovery-codes[data-v-4613e41a]{max-width:533px;margin:0 auto}.recovery-codes .card-body[data-v-4613e41a]{display:flex;flex-wrap:wrap}.recovery-codes .card-body code[data-v-4613e41a]{display:block;margin-left:15px}",""]),t.Z=r},45672:function(e,t,n){var i=n(93379),s=n.n(i),a=n(7795),r=n.n(a),o=n(90569),l=n.n(o),u=n(3565),d=n.n(u),c=n(19216),p=n.n(c),f=n(44589),h=n.n(f),m=n(19298),v={};v.styleTagTransform=h(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=p(),s()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals},39106:function(e,t,n){var i=n(93379),s=n.n(i),a=n(7795),r=n.n(a),o=n(90569),l=n.n(o),u=n(3565),d=n.n(u),c=n(19216),p=n.n(c),f=n(44589),h=n.n(f),m=n(39451),v={};v.styleTagTransform=h(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=p(),s()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals},42438:function(e,t,n){var i=n(93379),s=n.n(i),a=n(7795),r=n.n(a),o=n(90569),l=n.n(o),u=n(3565),d=n.n(u),c=n(19216),p=n.n(c),f=n(44589),h=n.n(f),m=n(43472),v={};v.styleTagTransform=h(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=p(),s()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals},35853:function(e,t,n){n.d(t,{Z:function(){return E}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper",class:e.classes,attrs:{id:"RealBody"}},[t("TopNavigation",{attrs:{"show-back-button":e.showBackButton}}),e._v(" "),t("aside",{staticClass:"main-sidebar sidebar-dark-primary elevation-4"},[t("Logo",{attrs:{title:e.info.title}}),e._v(" "),t("Sidebar",{attrs:{menu:e.menuItems},scopedSlots:e._u([e.sidebarTopComponent?{key:"top",fn:function(){return[t(e.sidebarTopComponent,{tag:"component"})]},proxy:!0}:null,e.sidebarBottomComponent?{key:"bottom",fn:function(){return[t(e.sidebarBottomComponent,{tag:"component"})]},proxy:!0}:null],null,!0)})],1),e._v(" "),t("div",{staticClass:"content-wrapper"},[t("EntityView",{key:e.$route.path},[t("router-view",{key:e.$route.path,ref:"currentViewComponent"})],1)],1),e._v(" "),t("MainFooter",{attrs:{"show-back-button":e.showBackButton,"show-title":e.showTitle,"hide-title-on-mobile":e.hideTitleOnMobile,"show-breadcrumbs":e.showBreadcrumbs}}),e._v(" "),t("transition",{attrs:{name:"control-sidebar"}},[e.isControlSidebarOpen?t("ControlSidebar"):e._e()],1),e._v(" "),e._l(e.additionalComponents,(function(e,n){return t(e,{key:n,ref:n,refInFor:!0,tag:"component"})})),e._v(" "),t("AppModals",{ref:"appModals"}),e._v(" "),t("portal-target",{attrs:{name:"root-bottom",multiple:""}})],2)};i._withStripped=!0,n(30541),n(57658),n(15306),n(33948);var s=n(70538),a=n(84160),r=n(64723),o=n(48955),l=n(62995),u=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticStyle:{display:"contents"}},[t(n.ConfirmModal,{ref:"saveSettingsModal",attrs:{message:"Do you want to save your changes? The page will be reloaded.","confirm-title":"Reload now","reject-title":"Cancel"},on:{confirm:n.saveSettings,reject:n.rollbackSettings}}),e._v(" "),t(n.ConfirmModal,{ref:"confirmationModal",attrs:{message:"".concat(e.$t("Confirm action")," ").concat(n.confirmation.actionName),"confirm-title":"Confirm","reject-title":"Cancel"},on:{confirm:n.confirm,reject:n.reject}}),e._v(" "),t(n.ConfirmModal,{ref:"reloadPageModal",attrs:{message:"Changes in settings are successfully saved. Please refresh the page.","confirm-title":"Reload now","reject-title":"Later"},on:{confirm:n.reloadPage}}),e._v(" "),e._t("default")],2)};u._withStripped=!0;var d=n(56716),c=n(59198),p=(0,s.defineComponent)({__name:"AppModals",setup(e,t){let{expose:n}=t;const i=(0,c.getApp)(),a=(0,s.ref)(),r=(0,s.ref)(),l=(0,s.ref)(),u=(0,s.ref)({callback:null,actionName:""});function p(){window.location.reload()}function f(e,t){u.value.callback=e,u.value.actionName=' "'.concat(d.a.t(t),'"?'),r.value.openModal()}function h(){var e;null===(e=l.value)||void 0===e||e.openModal()}function m(){var e;null===(e=a.value)||void 0===e||e.openModal()}return n({initActionConfirmationModal:f,openReloadPageModal:h,openSaveSettingsModal:m}),{__sfc:!0,app:i,saveSettingsModal:a,confirmationModal:r,reloadPageModal:l,confirmation:u,rollbackSettings:function(){i.userSettingsStore.rollback(),i.localSettingsStore.rollback()},reloadPage:p,saveSettings:async function(){await(0,c.saveAllSettings)()&&p()},confirm:function(){u.value.callback&&(u.value.callback(),u.value.callback=null)},reject:function(){u.value.callback=null},initActionConfirmationModal:f,openReloadPageModal:h,openSaveSettingsModal:m,ConfirmModal:o.Z}}}),f=n(51900),h=(0,f.Z)(p,u,[],!1,null,null,null).exports;const m="dark-mode";var v={name:"AppRoot",components:{TopNavigation:r.TopNavigation,ControlSidebar:a.Z,MainFooter:r.MainFooter,Sidebar:r.Sidebar,Logo:r.Logo,ConfirmModal:o.Z,EntityView:l.Z,AppModals:h},props:{info:{type:Object,required:!0},x_menu:{type:Array,required:!0},x_docs:{type:Object,required:!0}},setup(){return{appModals:(0,s.ref)()}},data(){return{layoutClasses:["sidebar-mini","layout-fixed","layout-footer-fixed"],isControlSidebarOpen:!1,userSettings:this.$app.userSettingsStore,localSettings:this.$app.localSettingsStore}},computed:{sidebarTopComponent(){return null},sidebarBottomComponent(){return null},menuItems(){const e=(0,r.convertXMenuToSidebar)(this.x_menu);return e.unshift({name:"Home",to:"/",icon:"fas fa-tachometer-alt"}),this.x_docs&&this.x_docs.has_docs&&this.x_docs.docs_url&&e.push({name:"Documentation",href:this.x_docs.docs_url,icon:"fa fa-book"}),e},showBackButton(){var e;return"home"!==this.$route.name&&(null===(e=this.$route.meta)||void 0===e?void 0:e.view.showBackButton)},showTitle(){return!0},hideTitleOnMobile(){return!0},showBreadcrumbs(){return!0},currentRouteClassName(){var e,t;const n=null===(e=this.$route)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.replace(/^\/|\/$/g,"").replace(/[{}]/g,"").replace(/\//g,"_");return n?"page-"+n:null},userPermissionClasses(){return["is_superuser","is_staff"].filter((e=>window[e]))},bodyClasses(){return[...this.userPermissionClasses,...this.layoutClasses]},classes(){return[]},additionalComponents(){return{}}},watch:{currentRouteClassName:{handler:"updateBodyClass",immediate:!0},"userSettings.settings.main.language":{handler:"setLanguage",immediate:!0},"userSettings.settings.main.dark_mode":{handler:"setDarkMode",immediate:!0}},created(){document.body.classList.add(...this.bodyClasses),this.$app.autoUpdateController.start()},beforeDestroy(){this.$app.autoUpdateController.stop()},methods:{goBack(){return this.$router.back()},updateBodyClass(e,t){t&&document.body.classList.remove(t),e&&document.body.classList.add(e)},openControlSidebar(){this.isControlSidebarOpen=!0,document.body.classList.add("control-sidebar-slide-open")},closeControlSidebar(){this.userSettings.saving||(document.body.classList.remove("control-sidebar-slide-open"),!this.userSettings.changed&&!this.localSettings.changed||this.userSettings.saving||this.appModals.openSaveSettingsModal(),this.isControlSidebarOpen=!1)},toggleUserSettings(){this.isControlSidebarOpen?this.closeControlSidebar():this.openControlSidebar()},setDarkMode(e){const t=document.body.classList.contains(m);e&&!t?document.body.classList.add(m):!e&&t&&document.body.classList.remove(m)},async setLanguage(e){e&&this.$i18n.locale!==e&&(await this.$app.setLanguage(e),await this.$app.cache.delete(window.schemaLoader.cacheKey),await window.schemaLoader.loadSchema())}}},g=n(93379),_=n.n(g),b=n(7795),y=n.n(b),w=n(90569),x=n.n(w),C=n(3565),S=n.n(C),k=n(19216),F=n.n(k),Z=n(44589),A=n.n(Z),T=n(1053),P={};P.styleTagTransform=A(),P.setAttributes=S(),P.insert=x().bind(null,"head"),P.domAPI=y(),P.insertStyleElement=F(),_()(T.Z,P),T.Z&&T.Z.locals&&T.Z.locals;var E=(0,f.Z)(v,i,[],!1,null,null,null).exports},43223:function(e,t,n){n.d(t,{Z:function(){return F}});var i=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticStyle:{display:"contents"}},[e._t("activator",null,{openModal:e.open,closeModal:e.close}),e._v(" "),e.isOpen?t("portal",{attrs:{to:"root-bottom"}},[t("div",{directives:[{name:"element-bound",rawName:"v-element-bound",value:e.onModalCreated,expression:"onModalCreated"}],ref:"modal",staticClass:"modal fade",class:e.wrapperClasses,attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"modal-dialog",class:e.classes,attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[e._t("content",(function(){return[t("div",{staticClass:"modal-header"},[e._t("header",(function(){return[t("h5",{staticClass:"modal-title"},[e._v("\n                                    "+e._s(e.title)+"\n                                ")]),e._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]}))],2),e._v(" "),e.renderBody?t("div",{staticClass:"modal-body"},[e._t("body"),e._v(" "),e._t("default",null,{openModal:e.open,closeModal:e.close})],2):e._e(),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.$scopedSlots.footer,expression:"$scopedSlots.footer"}],staticClass:"modal-footer"},[e._t("footer",null,{closeModal:e.close})],2)]}),{closeModal:e.close})],2),e._v(" "),e.loading?t("OverlayLoader"):e._e()],1)])]):e._e()],2)};i._withStripped=!0,n(33948);var s=n(19755),a=n.n(s),r=n(70538),o=n(57176);const[l,u]=(()=>{let e=0;const t="modal-open",n=document.body;function i(){if(e<=0){n.classList.remove(t);for(const e of document.querySelectorAll("body > .modal-backdrop"))e.remove()}else e>0&&n.classList.add(t)}return[function(){e++,i()},function(){e--,i()}]})();var d=(0,r.defineComponent)({name:"BootstrapModal",components:{OverlayLoader:o.Z},props:{title:{type:String,default:""},wrapperClasses:{type:[Array,String],default:null},classes:{type:[Array,String],default:null},loading:{type:Boolean,default:!1},renderBodyWhenShown:{type:Boolean,default:!1}},emits:["shown","exit"],data(){return{isOpen:!1,isShown:!1,jEl:null}},computed:{renderBody(){return!this.renderBodyWhenShown||this.isShown}},beforeDestroy(){this.isOpen&&this.close()},methods:{onModalCreated(e){this.jEl=a()(e),this.jEl.modal({show:!0}).on("hidden.bs.modal",(()=>{this.isOpen=!1,this.isShown=!1,this.jEl=null,this.$emit("exit"),u()})).on("shown.bs.modal",(()=>{this.isShown=!0,this.$emit("shown"),l()}))},open(){this.isOpen=!0},close(){let{onHidden:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.jEl&&(e&&this.jEl.on("hidden.bs.modal",e),this.jEl.modal("hide"))}}}),c=d,p=n(93379),f=n.n(p),h=n(7795),m=n.n(h),v=n(90569),g=n.n(v),_=n(3565),b=n.n(_),y=n(19216),w=n.n(y),x=n(44589),C=n.n(x),S=n(723),k={};k.styleTagTransform=C(),k.setAttributes=b(),k.insert=g().bind(null,"head"),k.domAPI=m(),k.insertStyleElement=w(),f()(S.Z,k),S.Z&&S.Z.locals&&S.Z.locals;var F=(0,n(51900).Z)(c,i,[],!1,null,"476d87c8",null).exports},76118:function(e,t,n){n.d(t,{Z:function(){return b}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card"},[e.showHeader?t("div",{staticClass:"card-header"},[t("h3",{staticClass:"card-title"},[e.title?[e._v("\n                "+e._s(e.title)+"\n            ")]:e._t("title")],2),e._v(" "),t("div",{staticClass:"card-tools"},[e._t("tools"),e._v(" "),e.collapsable?t("button",{staticClass:"btn btn-tool",attrs:{type:"button","data-card-widget":"collapse",title:"Collapse"}},[t("i",{staticClass:"fas fa-minus"})]):e._e()],2)]):e._e(),e._v(" "),t("div",{staticClass:"card-body",class:e.cardBodyClasses,staticStyle:{display:"block"}},[e._t("default")],2),e._v(" "),e.loading?t("OverlayLoader"):e._e()],1)};i._withStripped=!0;var s={components:{OverlayLoader:n(57176).Z},props:{title:{type:String,default:""},collapsable:{type:Boolean,default:!1},cardBodyClasses:{type:[String,Array],default:""},loading:{type:Boolean,default:!1}},computed:{showHeader(){return this.title||this.$slots.title||this.$slots.tools||this.collapsable}}},a=n(93379),r=n.n(a),o=n(7795),l=n.n(o),u=n(90569),d=n.n(u),c=n(3565),p=n.n(c),f=n(19216),h=n.n(f),m=n(44589),v=n.n(m),g=n(25447),_={};_.styleTagTransform=v(),_.setAttributes=p(),_.insert=d().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=h(),r()(g.Z,_),g.Z&&g.Z.locals&&g.Z.locals;var b=(0,n(51900).Z)(s,i,[],!1,null,"5202513b",null).exports},93738:function(e,t,n){n.d(t,{Z:function(){return b}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 d-flex justify-content-center align-items-center"},[t("h2",{staticClass:"status"},[e.error&&e.error.status?t("span",[e._v(e._s(e.error.status))]):t("i",{staticClass:"fas fa-exclamation-triangle"})]),e._v(" "),t("div",{staticClass:"d-flex flex-column justify-content-center"},[t("h3",{staticClass:"margin-0"},[e._v("\n                "+e._s(e.$t("Oops! Something went wrong."))+"\n            ")]),e._v(" "),t("p",{staticClass:"margin-0",domProps:{innerHTML:e._s(e.$t(e.errorData))}})])])])};i._withStripped=!0,n(21703);var s={name:"ErrorPage",props:{errorData:{type:String,required:!0},error:{type:[Object,Error],default:()=>({})}}},a=n(93379),r=n.n(a),o=n(7795),l=n.n(o),u=n(90569),d=n.n(u),c=n(3565),p=n.n(c),f=n(19216),h=n.n(f),m=n(44589),v=n.n(m),g=n(65977),_={};_.styleTagTransform=v(),_.setAttributes=p(),_.insert=d().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=h(),r()(g.Z,_),g.Z&&g.Z.locals&&g.Z.locals;var b=(0,n(51900).Z)(s,i,[],!1,null,"721f3f24",null).exports},57176:function(e,t,n){n.d(t,{Z:function(){return a}});var i=function(){var e=this._self._c;return e("div",{staticClass:"overlay dark"},[e("i",{staticClass:"fa-2x fa-spin",class:this.icon})])};i._withStripped=!0;var s={props:{icon:{type:String,default:"fas fa-sync-alt"}}},a=(0,n(51900).Z)(s,i,[],!1,null,null,null).exports},34136:function(e,t,n){n.d(t,{Z:function(){return x}});var i=function(){var e=this,t=e._self._c;return e._self._setupProxy.showPopover?t("a",{ref:"popover",staticClass:"popover-symbol",attrs:{tabindex:"0"},domProps:{textContent:e._s(e.linkText)}}):e._e()};i._withStripped=!0;var s=n(70538),a=n(19755),r=n.n(a),o=(0,s.defineComponent)({__name:"Popover",props:{title:{type:String,default:""},content:{type:String,default:""},linkText:{type:String,default:"?"},customClass:{type:String,default:""}},setup(e){const t=e,n=(0,s.computed)((()=>t.title||t.content)),i=(0,s.ref)(null);let a=!1;function o(){a&&i.value&&r()(i.value).popover("dispose")}function l(){o(),n.value&&i.value&&(r()(i.value).popover({html:!0,placement:"auto",trigger:"focus",customClass:t.customClass,title:t.title,content:t.content}),a=!0)}return(0,s.watch)(n,l),(0,s.onMounted)(l),(0,s.onBeforeUnmount)(o),{__sfc:!0,props:t,showPopover:n,popover:i,popoverCreated:a,destroyPopover:o,initPopover:l}}}),l=n(93379),u=n.n(l),d=n(7795),c=n.n(d),p=n(90569),f=n.n(p),h=n(3565),m=n.n(h),v=n(19216),g=n.n(v),_=n(44589),b=n.n(_),y=n(14279),w={};w.styleTagTransform=b(),w.setAttributes=m(),w.insert=f().bind(null,"head"),w.domAPI=c(),w.insertStyleElement=g(),u()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var x=(0,n(51900).Z)(o,i,[],!1,null,"c9bddf36",null).exports},17780:function(e,t,n){n.d(t,{Z:function(){return y}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ul",{staticClass:"tags-selector"},[e._l(e.value,(function(i,s){return t("li",{key:"".concat(s,"-").concat(i),staticClass:"selected-item"},[t("span",{staticClass:"remove",attrs:{"aria-label":e.$t("Remove")},on:{click:function(e){return n.remove(s)}}},[e._v("×")]),e._v("\n        "+e._s(i)+"\n    ")])})),e._v(" "),t("input",{ref:"input",staticClass:"field",attrs:{type:"text"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.add(e.$refs.input.value)}}})],2)};i._withStripped=!0,n(33948);var s=n(70538),a={__name:"TagsSelector",props:{value:{type:Array,default:()=>[]},unique:{type:Boolean,default:!1},validator:{type:Function,default:e=>e||void 0}},emits:["change"],setup(e,t){let{emit:n}=t;const i=e,a=(0,s.ref)(null);return{__sfc:!0,props:i,emit:n,input:a,remove:function(e){const t=[...i.value];t.splice(e,1),n("change",t)},add:function(e){const t=i.validator(e);if(void 0!==t){if(i.unique&&i.value.includes(t))return;n("change",[...i.value,t]),a.value.value=""}}}}},r=n(93379),o=n.n(r),l=n(7795),u=n.n(l),d=n(90569),c=n.n(d),p=n(3565),f=n.n(p),h=n(19216),m=n.n(h),v=n(44589),g=n.n(v),_=n(22697),b={};b.styleTagTransform=g(),b.setAttributes=f(),b.insert=c().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=m(),o()(_.Z,b),_.Z&&_.Z.locals&&_.Z.locals;var y=(0,n(51900).Z)(a,i,[],!1,null,"f84257e0",null).exports},66922:function(e,t,n){n.d(t,{Z:function(){return Z}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"buttons-row-wrapper d-print-none"},[e._l(n.notGroupedSublinks,(function(i){return t(n.OperationButton,e._b({key:i.name,nativeOn:{click:function(t){return e.$emit("open-sublink",i)}}},"OperationButton",i,!1))})),e._v(" "),e._l(n.notGroupedActions,(function(i){return[i.component?t(i.component,{key:i.name,tag:"component",style:i.style,attrs:{view:e.view},scopedSlots:e._u([{key:"default",fn:function(s){let{execute:a}=s;return[t(n.OperationButton,e._b({key:i.name,nativeOn:{click:function(e){return a({action:i})}}},"OperationButton",i,!1))]}}],null,!0)}):t(n.OperationButton,e._b({key:i.name,nativeOn:{click:function(t){return e.$emit("execute-action",i)}}},"OperationButton",i,!1))]})),e._v(" "),n.totalOperations>2&&n.shouldGroupSublinks?[n.groupedSublinks.length?t(n.CompactOperations,{attrs:{title:e.$u.capitalize(e.$ts("sublinks")),icon:"fas fa-link",view:e.view,operations:n.groupedSublinks},on:{clicked:function(t){return e.$emit("open-sublink",t)}}}):e._e()]:e._l(n.groupedSublinks,(function(i){return t(n.OperationButton,e._b({key:i.name,nativeOn:{click:function(t){return e.$emit("open-sublink",i)}}},"OperationButton",i,!1))})),e._v(" "),n.totalOperations>2&&n.shouldGroupActions?[n.groupedActions?t(n.CompactOperations,{attrs:{title:e.$u.capitalize(e.$ts("actions")),icon:"fas fa-ellipsis-v",view:e.view,operations:n.groupedActions},on:{clicked:function(t){return e.$emit("execute-action",t)}}}):e._e()]:[e._l(n.groupedActions,(function(i){return[i.component?t(i.component,{key:i.name,tag:"component",attrs:{view:e.view},scopedSlots:e._u([{key:"default",fn:function(s){let{execute:a}=s;return[t(n.OperationButton,e._b({key:i.name,nativeOn:{click:function(e){return a({action:i})}}},"OperationButton",i,!1))]}}],null,!0)}):t(n.OperationButton,e._b({key:i.name,nativeOn:{click:function(t){return e.$emit("execute-action",i)}}},"OperationButton",i,!1))]}))]],2)};i._withStripped=!0,n(88449),n(2490),n(59849),n(64211),n(41874);var s=n(70538),a=n(95162),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dropdown"},[t("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{id:e.buttonId,type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"d-sm-none",class:e.icon}),e._v(" "),t("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.title))])]),e._v(" "),t("div",{ref:"menu",staticClass:"dropdown-menu",attrs:{"aria-labelledby":e.buttonId}},e._l(e.operations,(function(n){return t("a",{key:n.name,staticClass:"dropdown-item",class:"operation__".concat(n.name),attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("clicked",n)}}},[n.iconClasses?t("i",{key:"op-".concat(e.componentId,"-i-").concat(n.name),class:n.iconClasses}):e._e(),e._v("\n            "+e._s(e.$t(n.title))+"\n        ")])})),0)])};r._withStripped=!0;var o={mixins:[n(99100).Z],props:{title:{type:String,required:!0},icon:{type:String,required:!0},view:{type:Object,required:!0},operations:{type:Array,default:()=>[]}},data(){return{hidden:!1}},computed:{buttonId(){return"compact-operations-".concat(this.componentId)}}},l=n(93379),u=n.n(l),d=n(7795),c=n.n(d),p=n(90569),f=n.n(p),h=n(3565),m=n.n(h),v=n(19216),g=n.n(v),_=n(44589),b=n.n(_),y=n(26108),w={};w.styleTagTransform=b(),w.setAttributes=m(),w.insert=f().bind(null,"head"),w.domAPI=c(),w.insertStyleElement=g(),u()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var x=n(51900),C=(0,x.Z)(o,r,[],!1,null,"bf1f7d8e",null).exports,S=(0,s.defineComponent)({__name:"ButtonsRow",props:{view:null,actions:{default:()=>[]},sublinks:{default:()=>[]}},setup(e){const t=e,n=(0,s.computed)((()=>t.actions.length+t.sublinks.length)),i=(0,s.computed)((()=>t.actions.filter((e=>!e.doNotGroup)))),r=(0,s.computed)((()=>t.actions.filter((e=>e.doNotGroup)))),o=(0,s.computed)((()=>i.value.length>1||i.value.some((e=>!e.iconClasses)))),l=(0,s.computed)((()=>t.sublinks.filter((e=>!e.doNotGroup)))),u=(0,s.computed)((()=>t.sublinks.filter((e=>e.doNotGroup)))),d=(0,s.computed)((()=>l.value.length>1||l.value.some((e=>!e.iconClasses))));return{__sfc:!0,props:t,totalOperations:n,groupedActions:i,notGroupedActions:r,shouldGroupActions:o,groupedSublinks:l,notGroupedSublinks:u,shouldGroupSublinks:d,OperationButton:a.Z,CompactOperations:C}}}),k=n(95126),F={};F.styleTagTransform=b(),F.setAttributes=m(),F.insert=f().bind(null,"head"),F.domAPI=c(),F.insertStyleElement=g(),u()(k.Z,F),k.Z&&k.Z.locals&&k.Z.locals;var Z=(0,x.Z)(S,i,[],!1,null,"58ef4fbe",null).exports},48955:function(e,t,n){n.d(t,{Z:function(){return o}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.BootstrapModal,{ref:"modal",attrs:{title:e.$ts(e.title)},on:{exit:n.closeCallback},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",[t("p",[e._v("\n                "+e._s(e.$t(e.message))+"\n            ")])])]},proxy:!0},{key:"footer",fn:function(){return[t("button",{staticClass:"btn btn-success",on:{click:n.callConfirm}},[e._v("\n            "+e._s(e.$t(e.confirmTitle))+"\n        ")]),e._v(" "),t("button",{staticClass:"btn btn-secondary",staticStyle:{float:"right"},on:{click:n.callReject}},[e._v("\n            "+e._s(e.$t(e.rejectTitle))+"\n        ")])]},proxy:!0}])})};i._withStripped=!0;var s=n(70538),a=n(43223),r=(0,s.defineComponent)({__name:"ConfirmModal",props:{title:{type:String,default:"Confirm action"},message:{type:String,default:""},confirmTitle:{type:String,default:"Yes"},rejectTitle:{type:String,default:"No"}},emits:["confirm","reject"],setup(e,t){let{expose:n,emit:i}=t;const r=(0,s.ref)(null);let o=!1;function l(){r.value.close(),o=!0,i("reject")}function u(){o=!1,r.value.isOpen||r.value.open()}function d(){r.value.close()}return n({openModal:u,closeModal:d}),{__sfc:!0,emit:i,modal:r,isActioned:o,callConfirm:function(){r.value.close(),o=!0,i("confirm")},callReject:l,closeCallback:function(){o||l()},openModal:u,closeModal:d,BootstrapModal:a.Z}}}),o=(0,n(51900).Z)(r,i,[],!1,null,null,null).exports},62995:function(e,t,n){n.d(t,{Z:function(){return I}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"entity-view",class:n.rootClasses},[n.loading?t(n.Preloader):e._e(),e._v(" "),n.store?t("div",{class:n.containerClass},[t("div",{staticClass:"top-row d-print-none"},[!n.store.error&&n.store.view.showOperationButtons?t(n.ButtonsRow,{style:n.store.loading?"visibility: hidden":"",attrs:{view:n.store.view,actions:n.store.actions,sublinks:n.store.sublinks},on:{"execute-action":n.executeAction,"open-sublink":n.openSublink}}):e._e(),e._v(" "),t("portal-target",{attrs:{name:"appendButtonsRow"}})],1),e._v(" "),n.store.error||n.store.loading||!e.showUsedFilters?e._e():t(n.SelectedFilters,{attrs:{view:n.store.view}}),e._v(" "),n.store.error?t(n.ErrorPage,{attrs:{"error-data":n.errorData,error:n.store.error}}):e._e(),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.showPage,expression:"showPage"}]},[e._t("default")],2)],1):e._e()],1)};i._withStripped=!0;var s=n(70538),a=n(84085),r=n(59198),o=n(56039),l=n(12752),u=n(66922),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"selected-filters"},e._l(e.pills,(function(n){return t("div",{key:n.name,staticClass:"badge rounded-pill pill mr-1 mb-1"},[t("div",{staticClass:"d-flex align-items-center"},[t("div",{staticClass:"mr-1"},[e._v(e._s(e.$t(n.title))+":")]),e._v(" "),t(n.field.getComponent(),{tag:"component",staticClass:"mr-1",attrs:{field:n.field,data:e.sandbox,type:"readonly","hide-title":""},on:{"set-value":t=>{let{field:n,value:i}=t;return e.$set(e.sandbox,n,i)}}}),e._v(" "),n.clearable?t("i",{staticClass:"icon remove-icon",on:{click:function(t){return e.clearFilter(n.name)}}},[e._v("×")]):t("span",[e._v("("+e._s(e.$t("default"))+")")])],1)])})),0)};d._withStripped=!0,n(88449),n(2490),n(59849),n(25387),n(72608),n(57658);var c={name:"SelectedFilters",props:{view:{type:Object,required:!0}},data(){return{sandbox:{}}},computed:{fields(){return this.view.isListPage()?this.view.filters||{}:this.view.isDetailPage()&&this.view.filtersModelClass?Object.fromEntries(this.view.filtersModelClass.fields):{}},filters(){return this.$app.store.page.filters||{}},appliedDefaults(){return this.view.isDetailPage()&&this.view.filtersModelClass&&this.$app.store.page.appliedDefaultFilterNames||[]},activeFilters(){return this.view.isListPage()||this.view.isDetailPage()?Object.keys(this.filters).filter((e=>!r.IGNORED_FILTERS.includes(e))):[]},representFields(){return Object.values(this.fields).reduce(((e,t)=>(e[t.name]=t.toRepresent(this.filters),e)),{})},pills(){return this.activeFilters.reduce(((e,t)=>{const n=this.fields[t];return n&&e.push({name:t,field:n,title:this.fields[t].title,clearable:!this.appliedDefaults.includes(t)}),e}),[])}},watch:{representFields:{handler(e){this.sandbox=e},immediate:!0}},methods:{clearFilter(e){this.$app.store.page.applyFilters(Object.fromEntries(Object.entries(this.filters).filter((t=>t[0]!==e&&!this.appliedDefaults.includes(t[0])))))}}},p=n(93379),f=n.n(p),h=n(7795),m=n.n(h),v=n(90569),g=n.n(v),_=n(3565),b=n.n(_),y=n(19216),w=n.n(y),x=n(44589),C=n.n(x),S=n(32824),k={};k.styleTagTransform=C(),k.setAttributes=b(),k.insert=g().bind(null,"head"),k.domAPI=m(),k.insertStyleElement=w(),f()(S.Z,k),S.Z&&S.Z.locals&&S.Z.locals;var F=n(40464),Z={};Z.styleTagTransform=C(),Z.setAttributes=b(),Z.insert=g().bind(null,"head"),Z.domAPI=m(),Z.insertStyleElement=w(),f()(F.Z,Z),F.Z&&F.Z.locals&&F.Z.locals;var A=n(51900),T=(0,A.Z)(c,d,[],!1,null,"0e8b4c6d",null).exports,P=n(93738),E=(0,s.defineComponent)({__name:"EntityView",props:{showUsedFilters:{type:Boolean,default:!0},isContainerFluid:{type:Boolean,default:!0}},setup(e){const t=e,n=(0,r.getApp)(),i=(0,a.yj)(),d=(0,s.ref)();(0,o.createViewStore)(i.meta.view,{watchQuery:!0}).then((e=>{d.value=e}));const c=(0,s.computed)((()=>!d.value||d.value.loading)),p=(0,s.computed)((()=>{var e,t;return!(null!==(e=d.value)&&void 0!==e&&e.error)&&(null===(t=d.value)||void 0===t?void 0:t.response)})),f=(0,s.computed)((()=>{var e;return null!==(e=d.value)&&void 0!==e&&e.error?n.error_handler.errorToString(d.value.error):null})),h=(0,s.computed)((()=>t.isContainerFluid?"container-fluid":"container")),m=(0,s.computed)((()=>n.store.entityViewClasses));return{__sfc:!0,props:t,app:n,route:i,store:d,loading:c,showPage:p,errorData:f,containerClass:h,rootClasses:m,executeAction:function(e){n.actions.execute({action:e,instance:n.store.page.instance})},openSublink:function(e){var t;(0,r.openSublink)(e,null===(t=d.value)||void 0===t?void 0:t.instance)},Preloader:l.Z,ButtonsRow:u.Z,SelectedFilters:T,ErrorPage:P.Z}}}),V=n(43581),M={};M.styleTagTransform=C(),M.setAttributes=b(),M.insert=g().bind(null,"head"),M.domAPI=m(),M.insertStyleElement=w(),f()(V.Z,M),V.Z&&V.Z.locals&&V.Z.locals;var I=(0,A.Z)(E,i,[],!1,null,"c2097bb6",null).exports},83601:function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var i=function(){var e=this,t=e._self._c;return t("BootstrapModal",{ref:"modal",attrs:{title:e.$t("Select an action for this instances")},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"my-2 d-flex justify-content-center align-items-center"},[t("ul",{staticClass:"list-group list-group-flush"},e._l(e.instances,(function(n){return t("li",{key:n.getPkValue(),staticClass:"list-group-item"},[e._v("\n                    "+e._s(n.getViewFieldValue())+"\n                ")])})),0)])]},proxy:!0},{key:"footer",fn:function(){return[t("button",{staticClass:"btn btn-primary",attrs:{"aria-label":"Cancel"},on:{click:function(t){return e.performDeletion(!1)}}},[e._v("\n            "+e._s(e.$t("Remove from list"))+"\n        ")]),e._v(" "),t("button",{staticClass:"btn btn-danger",attrs:{"aria-label":"Cancel"},on:{click:function(t){return e.performDeletion(!0)}}},[e._v("\n            "+e._s(e.$t("Purge"))+"\n        ")])]},proxy:!0},{key:"activator",fn:function(){return[e._t("default",null,{execute:e.execute})]},proxy:!0}],null,!0)})};i._withStripped=!0;var s=n(43223),a=n(59198),r={name:"NestedDeletionModal",components:{BootstrapModal:s.Z},data(){return{view:void 0,action:void 0}},methods:{execute(e){let{instances:t,action:n}=e;this.instances=t,this.action=n,this.openModal()},closeModal(){this.$refs.modal.close()},openModal(){this.$refs.modal.open()},async performDeletion(e){this.closeModal(),this.$app.store.page.view.type!==a.ViewTypes.PAGE?1!==this.instances.length?await this.$app.store.page.removeInstances({action:this.action,instances:this.instances,purge:e}):await this.$app.store.page.removeInstance({action:this.action,instance:this.instances.pop(),fromList:!0,purge:e}):await this.$app.store.page.removeInstance({instance:this.$app.store.page.instance,purge:e})}}},o=(0,n(51900).Z)(r,i,[],!1,null,null,null).exports},95162:function(e,t,n){n.d(t,{Z:function(){return a}});var i=function(){var e=this,t=e._self._c;return t("button",{class:e.buttonClasses,attrs:{type:"button",title:e.title}},[e.iconClasses?t("i",{staticClass:"icon-for-btn",class:e.iconClasses}):e._e(),e._v(" "),e.title?t("span",{staticClass:"title-for-btn",class:{"d-none d-lg-inline-block":e.iconClasses}},[e._v("\n        "+e._s(e.$t(e.title))+"\n    ")]):e._e()])};i._withStripped=!0;var s={name:"OperationButton",inheritAttrs:!1,props:{name:{type:String,default:null},title:{type:String,required:!0},classes:{type:[Array,String],default:()=>["btn","btn-default"]},iconClasses:{type:[Array,String],default:()=>null}},computed:{buttonClasses(){return(this.name?["operation__".concat(this.name)]:[]).concat(this.classes)}}},a=(0,n(51900).Z)(s,i,[],!1,null,null,null).exports},12752:function(e,t,n){n.d(t,{Z:function(){return _}});var i=function(e,t){return t._m(0)};i._withStripped=!0;var s=n(93379),a=n.n(s),r=n(7795),o=n.n(r),l=n(90569),u=n.n(l),d=n(3565),c=n.n(d),p=n(19216),f=n.n(p),h=n(44589),m=n.n(h),v=n(87425),g={};g.styleTagTransform=m(),g.setAttributes=c(),g.insert=u().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=f(),a()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var _=(0,n(51900).Z)({name:"Preloader"},i,[function(e,t){return e("div",{staticClass:"in-loading"},[e("div",{staticClass:"loader-wrapper"},[e("div",{staticClass:"loader"})])])}],!0,null,"45f69dbb",null).exports},84160:function(e,t,n){n.d(t,{Z:function(){return F}});var i=function(){var e=this,t=e._self._c;return t("aside",{staticClass:"control-sidebar"},[t("div",{staticClass:"p-3 control-sidebar-content"},[t("div",[t("b",[e._v(e._s(e.$u.capitalize(e.$tc("version",1)))+":")]),e._v(" "),t("code",[e._v(e._s(e.$app.config.projectVersion))])]),e._v(" "),e._l(e.buttons,(function(n,i){return t(n.component,e._b({key:i,tag:"component"},"component",n.props,!1))})),e._v(" "),e._l(e.sections,(function(n,i){return[t("h6",{key:"section-".concat(i)},[e._v("\n                "+e._s(e.$t(n.title))+"\n            ")]),e._v(" "),e._l(n.fields,(function(i){return t(i.getComponent(),{key:i.name,tag:"component",attrs:{field:i,data:e.userSettings.settings[n.name],type:"edit"},on:{"set-value":function(t){return e.setUserSetting(n.name,t)}}})}))]})),e._v(" "),e._l(e.localSettingsFields,(function(n){return t(n.getComponent(),{key:n.name,tag:"component",attrs:{field:n,data:e.localSettings.settings,type:"edit"},on:{"set-value":e.setLocalSetting}})})),e._v(" "),t("button",{staticClass:"btn btn-success btn-block",attrs:{disabled:e.disableSaveButton},on:{click:e.saveSettings}},[t("i",{staticClass:"fas fa-save"}),e._v("\n            "+e._s(e.$t("Save"))+"\n        ")]),e._v(" "),t("button",{staticClass:"btn btn-secondary btn-block",on:{click:e.cleanAllCache}},[t("i",{staticClass:"fas fa-sync-alt"}),e._v("\n            "+e._s("".concat(e.$t("Reload")," ").concat(e.$t("cache")))+"\n        ")])],2)])};i._withStripped=!0,n(33948),n(88449),n(2490),n(59849),n(57640),n(9924);var s=n(28445),a=n(60751),r=n(48955),o=n(59198),l={name:"ControlSidebar",components:{HelpModal:s.B,ConfirmModal:r.Z},data(){return{UserSettings:this.$app.modelsResolver.byReferencePath("#/definitions/_UserSettings"),localSettings:this.$app.localSettingsStore,userSettings:this.$app.userSettingsStore}},computed:{disableSaveButton(){return!this.userSettings.changed&&!this.localSettings.changed||this.userSettings.saving},localSettingsFields(){return Array.from(this.$app.localSettingsModel.fields.values())},sections(){return Array.from(this.UserSettings.fields.values()).filter((e=>"nestedModel"in e&&void 0!==e.nestedModel)).filter((e=>this.userSettings.settings[e.name])).map((e=>({name:e.name,title:e.title,fields:Array.from(e.nestedModel.fields.values())})))},buttons(){return[{component:s.B},{component:a.Z,props:{href:this.$app.config.endpointUrl.href,iconClass:"fa fa-toolbox",text:"API"}},...this.additionalButtons]},additionalButtons(){return[]}},mounted(){document.addEventListener("keydown",this.closeControlSidebar),document.addEventListener("click",this.closeControlSidebar),document.addEventListener("scroll",this.closeControlSidebar)},beforeDestroy(){document.removeEventListener("keydown",this.closeControlSidebar),document.removeEventListener("click",this.closeControlSidebar),document.removeEventListener("scroll",this.closeControlSidebar)},methods:{async saveSettings(){await(0,o.saveAllSettings)()&&this.$app.openReloadPageModal()},setUserSetting(e,t){this.userSettings.setValue(e,t)},setLocalSetting(e){this.localSettings.setValue(e)},cleanAllCache(){window.cleanAllCacheAndReloadPage()},closeControlSidebar(e){"Escape"===e.key?this.$root.closeControlSidebar():"click"!==e.type||this.$el.contains(e.target)?"scroll"===e.type&&document.body.getBoundingClientRect().top<=0&&this.$root.closeControlSidebar():this.$root.closeControlSidebar()}}},u=l,d=n(93379),c=n.n(d),p=n(7795),f=n.n(p),h=n(90569),m=n.n(h),v=n(3565),g=n.n(v),_=n(19216),b=n.n(_),y=n(44589),w=n.n(y),x=n(78838),C={};C.styleTagTransform=w(),C.setAttributes=g(),C.insert=m().bind(null,"head"),C.domAPI=f(),C.insertStyleElement=b(),c()(x.Z,C),x.Z&&x.Z.locals&&x.Z.locals;var S=n(63190),k={};k.styleTagTransform=w(),k.setAttributes=g(),k.insert=m().bind(null,"head"),k.domAPI=f(),k.insertStyleElement=b(),c()(S.Z,k),S.Z&&S.Z.locals&&S.Z.locals;var F=(0,n(51900).Z)(u,i,[],!1,null,"54af41de",null).exports},60751:function(e,t,n){n.d(t,{Z:function(){return a}});var i=function(){var e=this,t=e._self._c;return e.to?t("router-link",{staticClass:"btn btn-block btn-secondary mb-2",attrs:{to:e.to}},[e.iconClass?t("i",{class:e.iconClass}):e._e(),e._v(" "),e._t("default",(function(){return[e._v(e._s(e.text))]}))],2):e.href?t("a",{staticClass:"btn btn-block btn-secondary mb-2",attrs:{href:e.href}},[e.iconClass?t("i",{class:e.iconClass}):e._e(),e._v(" "),e._t("default",(function(){return[e._v(e._s(e.text))]}))],2):t("button",{staticClass:"btn btn-block btn-secondary mb-2"},[e.iconClass?t("i",{class:e.iconClass}):e._e(),e._v(" "),e._t("default",(function(){return[e._v(e._s(e.text))]}))],2)};i._withStripped=!0;var s={name:"ControlSidebarButton",props:{to:{type:[Object,String],default:null},href:{type:String,default:""},iconClass:{type:String,default:""},text:{type:String,default:""}}},a=(0,n(51900).Z)(s,i,[],!1,null,null,null).exports},41657:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.BootstrapModal,{attrs:{title:e.$u.capitalize(e.$t("add")+" "+e.$t("child instances"))},scopedSlots:e._u([{key:"default",fn:function(i){let{closeModal:s}=i;return[t(n.AddChild,{attrs:{view:e.view},on:{close:s}})]}},{key:"activator",fn:function(t){let{openModal:n}=t;return[e._t("default",null,{execute:n})]}}],null,!0)})};i._withStripped=!0;var s=n(70538),a=n(43223),r=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"add-child-modal"},[t("form",{on:{submit:function(e){return e.preventDefault(),n.loadInstances.apply(null,arguments)}}},[n.filterField?t("div",{staticClass:"input-group mb-3"},[t("div",{staticClass:"input-group-prepend d-none d-sm-block"},[t("span",{staticClass:"input-group-text"},[e._v(e._s(e.$t(n.filterField.title)))])]),e._v(" "),t("input",{ref:"filterInput",staticClass:"form-control",attrs:{type:"text"}}),e._v(" "),t("div",{staticClass:"input-group-append cursor-pointer"},[t("button",{staticClass:"btn btn-default",attrs:{type:"submit",disabled:n.loading}},[t("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])]),e._v(" "),t("div",{staticClass:"input-group-append cursor-pointer"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:n.loading},on:{click:n.clearFilter}},[t("i",{staticClass:"fas fa-times",attrs:{"aria-hidden":"true"}})])])]):e._e()]),e._v(" "),n.loading?t(n.OverlayLoader):e._e(),e._v(" "),n.instances.length?[t(n.ListTable,{attrs:{instances:n.instances,selection:n.selection,fields:n.fields,"has-multi-actions":""},on:{"toggle-selection":n.toggleSelection,"toggle-all-selection":n.toggleAllSelection}}),e._v(" "),t(n.Pagination,{attrs:{items:n.paginationItems,"use-emits":""},on:{"open-page":function(e){n.page=e}}}),e._v(" "),t("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:n.loading||0===n.selection.length},on:{click:n.addSelected}},[e._v("\n            "+e._s(e.$t("Add"))+"\n        ")])]:[t("p",{staticClass:"text-center"},[e._v("\n            "+e._s(e.$t("List is empty"))+"\n        ")])]],2)};r._withStripped=!0,n(88449),n(2490),n(59849),n(33948),n(17922),n(57640),n(9924);var o=n(84085),l=n(56716),u=n(59198),d=n(56039),c=n(90548),p=n(8366),f=n(33159),h=n(9536),m=n(57176),v=(0,s.defineComponent)({__name:"AddChild",props:{view:null},emits:["close"],setup(e,t){let{emit:n}=t;const i=e,a=(0,u.getApp)(),r=(0,o.yj)(),v=(0,s.ref)(!0),g=(0,s.ref)(1),_=(0,s.ref)(null),b=(0,s.ref)((0,p.createInstancesList)([])),{toggleAllSelection:y,toggleSelection:w,selection:x,setSelection:C}=(0,d.useSelection)(b),S=(0,d.usePagination)({count:(0,s.computed)((()=>{var e,t,n;return null!==(e=null===(t=b.value)||void 0===t||null===(n=t.extra)||void 0===n?void 0:n.count)&&void 0!==e?e:0})),page:g,size:(0,s.ref)(10)}),k=i.view.nestedQueryset.formatPath(r.params),F=k.getResponseModelClass(u.RequestTypes.LIST),Z=F.viewField,A=Array.from(F.fields.values()).filter((e=>!e.hidden&&e!==F.pkField));async function T(){v.value=!0;const e={limit:10,offset:10*(g.value-1)};_.value&&(e[Z.name]=_.value.value);try{const t=await k.filter(e).items();b.value=t}catch(e){a.error_handler.defineErrorAndShow(e)}v.value=!1}return(0,s.watch)([g],T),T(),{__sfc:!0,emit:n,props:i,limit:10,app:a,route:r,loading:v,page:g,filterInput:_,instances:b,toggleAllSelection:y,toggleSelection:w,selection:x,setSelection:C,paginationItems:S,queryset:k,modelClass:F,filterField:Z,fields:A,loadInstances:T,clearFilter:function(){_.value.value="",T()},addSelected:async function(){v.value=!0;const e=a.store.page.view,t=e.objects.formatPath(r.params),i=(0,u.formatPath)(e.path,k.pathParamsValues),s=await Promise.allSettled(x.value.map((e=>t.execute({method:"post",path:i,data:{id:e}}))));C([]);for(const t of s)if("fulfilled"===t.status)c.guiPopUp.success(l.a.ts(c.pop_up_msg.instance.success.add,[l.a.t(e.title)]));else{const n=a.error_handler.errorToString(t.reason),i=l.a.ts(c.pop_up_msg.instance.error.add,[l.a.t(e.title),n]);a.error_handler.showError(i,n)}v.value=!1,n("close")},ListTable:f.Z,Pagination:h.Z,OverlayLoader:m.Z}}}),g=n(51900),_=(0,g.Z)(v,r,[],!1,null,null,null).exports,b=(0,s.defineComponent)({__name:"AddChildModal",props:{view:null},setup(e){return{__sfc:!0,BootstrapModal:a.Z,AddChild:_}}}),y=(0,g.Z)(b,i,[],!1,null,null,null).exports},36446:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}}),n(88449),n(2490),n(59849);var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.fields.length?t(n.BootstrapModal,{ref:"modal",attrs:{title:e.$u.capitalize(e.$ts("filters"))},scopedSlots:e._u([{key:"footer",fn:function(i){let{closeModal:s}=i;return[t("button",{staticClass:"btn btn-default btn-close-filters-modal",attrs:{"aria-label":"Cancel"},on:{click:s}},[e._v("\n            "+e._s(e.$u.capitalize(e.$ts("cancel")))+"\n        ")]),e._v(" "),t("button",{staticClass:"btn btn-primary btn-apply-filters",attrs:{"aria-label":"Filter"},on:{click:n.filter}},[e._v("\n            "+e._s(e.$u.capitalize(e.$ts("apply")))+"\n        ")])]}},{key:"activator",fn:function(){return[e._t("default",null,{execute:n.openModal})]},proxy:!0}],null,!0)},[t("div",{staticClass:"filters-container"},e._l(n.fields,(function(e){return t(e.getComponent(),{key:e.name,tag:"component",attrs:{field:e,data:n.filtersData,type:"edit"},on:{"set-value":n.setFilterValue}})})),1)]):e._e()};i._withStripped=!0,n(57640),n(9924);var s=n(70538),a=n(59198),r=n(43223),o=(0,s.defineComponent)({__name:"FiltersModal",props:{view:null},setup(e){const t=e,n=(0,a.getApp)(),i=(0,s.ref)((0,a.emptyRepresentData)()),o=(0,s.ref)(null),l=(0,s.computed)((()=>n.store.page)),u=(0,s.computed)((()=>Object.values(t.view.filters).filter((e=>!e.hidden)))),d=(0,s.computed)((()=>l.value.filters));return{__sfc:!0,props:t,app:n,filtersData:i,modal:o,store:l,fields:u,filters:d,openModal:function(){o.value.open(),i.value=(0,a.mapObjectValues)(d.value,((e,n)=>t.view.filters[n]?t.view.filters[n].toRepresent(d.value):e))},setFilterValue:function(e){let{field:t,value:n}=e;(0,s.set)(i.value,t,n)},filter:function(){l.value.applyFieldsFilters(Object.fromEntries(u.value.map((e=>[e.name,e.toInner(i.value)])))),o.value.close()},BootstrapModal:r.Z}}}),l=n(93379),u=n.n(l),d=n(7795),c=n.n(d),p=n(90569),f=n.n(p),h=n(3565),m=n.n(h),v=n(19216),g=n.n(v),_=n(44589),b=n.n(_),y=n(50739),w={};w.styleTagTransform=b(),w.setAttributes=m(),w.insert=f().bind(null,"head"),w.domAPI=c(),w.insertStyleElement=g(),u()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var x=(0,n(51900).Z)(o,i,[],!1,null,"458c007a",null).exports},33159:function(e,t,n){n.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("table",{staticClass:"table table-bordered table-bordered-custom table-hover multiple-select"},[t("thead",[t("tr",{class:e.classes},[e.hasMultiActions?t("th",{staticClass:"global-select td_select_btn",staticStyle:{width:"50px"},on:{click:function(t){return e.$emit("toggle-all-selection")}}},[t("SelectToggleButton",{attrs:{"is-selected":e.allSelected}})],1):e._e(),e._v(" "),e._l(e.fields,(function(n,i){return t("th",{key:i,class:e.tableColumnClasses(n)},[e._v("\n                "+e._s(e.$t(n.title))+"\n                "),n.description?t("Popover",{attrs:{content:n.description}}):e._e()],1)})),e._v(" "),e.showInstanceOperations?t("th",{staticClass:"column column-actions",staticStyle:{width:"60px"}}):e._e()],2)]),e._v(" "),t("tbody",e._l(e.instancesWithOperations,(function(n){let{instance:i,actions:s,sublinks:a}=n;return t("ListTableRow",{key:i.getPkValue(),attrs:{"is-selected":e.selection.includes(i.getPkValue()),instance:i,fields:e.fields,"has-multi-actions":e.hasMultiActions,"show-operations":e.showInstanceOperations,actions:s,sublinks:a,opt:e.opt},on:{"row-clicked":function(t){return e.$emit("row-clicked",t)},"open-sublink":function(t){return e.$emit("open-instance-sublink",t)},"execute-action":function(t){return e.$emit("execute-instance-action",t)},"toggle-selection":function(t){return e.$emit("toggle-selection",t)}}})})),1)])};i._withStripped=!0,n(64211),n(2490),n(41874),n(57640),n(9924),n(68216),n(79433);var s=n(64765),a=n(34136),r=n(69165),o=n(5459),l=n(59198),u={name:"ListTable",components:{ListTableRow:o.Z,SelectToggleButton:r.Z,Popover:a.Z},props:{instances:{type:Array,required:!0},selection:{type:Array,required:!0},fields:{type:Array,required:!0},hasMultiActions:{type:Boolean,required:!1,default:!1},instanceActions:{type:Array,required:!1,default:()=>[]},instanceSublinks:{type:Array,required:!1,default:()=>[]},opt:{type:Object,required:!1,default:()=>{}}},data(){return{tableColumnClasses:l.tableColumnClasses}},computed:{showInstanceOperations(){return this.instancesWithOperations.some((e=>{let{actions:t,sublinks:n}=e;return t.length>0||n.length>0}))},instancesWithOperations(){return this.instances.map((e=>({instance:e,actions:this.availableActions(e),sublinks:this.availableSublinks(e)})))},allSelected(){return this.instances.every((e=>this.selection.includes(e.getPkValue())))},classes(){return this.allSelected?"selected":""}},methods:{availableActions(e){return(0,s.n)("actions",this.instanceActions,e.sandbox.value,!0)},availableSublinks(e){return(0,s.n)("sublinks",this.instanceSublinks,e.sandbox.value,!0)}}},d=(0,n(51900).Z)(u,i,[],!1,null,null,null).exports},5459:function(e,t,n){n.d(t,{Z:function(){return k}});var i=function(){var e=this,t=e._self._c;return t("tr",{staticClass:"item-row item-row-id",class:e.classes,attrs:{"data-id":e.pk},on:{mousedown:e.onMouseDownHandler}},[e.hasMultiActions?t("td",{staticClass:"highlight-tr-none guiListSelections-toggle-btn td_select_btn",on:{click:function(t){return t.stopPropagation(),e.$emit("toggle-selection",e.pk)}}},[t("SelectToggleButton",{attrs:{"is-selected":e.isSelected}})],1):e._e(),e._v(" "),e._l(e.fields,(function(n){return t("td",{key:n.name,class:e.tableColumnClasses(n),on:{click:function(t){return e.$emit("row-clicked",e.instance)}}},[t(n.component,{tag:"component",attrs:{field:n,data:e.sandbox,type:"list"},on:{"set-value":e.instance.sandbox.set}})],1)})),e._v(" "),e.showOperations?t("td",{staticClass:"column column-actions",staticStyle:{"text-align":"center"}},[e.hasOperations?t("BootstrapModal",{attrs:{classes:"modal-sm list-instance-operations "+e.classesFromFields.join(" ")},scopedSlots:e._u([{key:"activator",fn:function(e){let{openModal:n}=e;return[t("button",{staticClass:"btn btn-outline-secondary",on:{click:n}},[t("i",{staticClass:"fas fa-cog"})])]}},{key:"content",fn:function(n){let{closeModal:i}=n;return[t("div",{staticClass:"modal-body"},[t("ul",{staticClass:"list-group list-group-flush"},[e.actions.length?[t("li",{staticClass:"list-group-item disabled"},[t("b",[e._v(e._s(e.$u.capitalize(e.$t("actions"))))])]),e._v(" "),e._l(e.actions,(function(n){return t("li",{key:n.name,staticClass:"list-group-item",class:"operation__".concat(n.name)},[n.component?t(n.component,{key:n.name,tag:"component",attrs:{action:n},scopedSlots:e._u([{key:"default",fn:function(i){let{execute:s}=i;return[t("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),s({instances:[e.instance]})}}},[n.iconClasses&&n.iconClasses.length?t("i",{class:n.iconClasses}):e._e(),e._v("\n                                            "+e._s(e.$u.capitalize(e.$t(n.title)))+"\n                                        ")])]}}],null,!0)}):t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.createActionClickHandler(i,n)}}},[n.iconClasses&&n.iconClasses.length?t("i",{class:n.iconClasses}):e._e(),e._v("\n                                    "+e._s(e.$u.capitalize(e.$t(n.title)))+"\n                                ")])],1)}))]:e._e(),e._v(" "),e.sublinks.length?[t("li",{staticClass:"list-group-item disabled"},[t("b",[e._v(e._s(e.$u.capitalize(e.$t("sublinks"))))])]),e._v(" "),e._l(e.sublinks,(function(n){return t("li",{key:n.name,staticClass:"list-group-item",class:"operation__".concat(n.name)},[t("router-link",{attrs:{to:e.getSublinkPath(n,e.instance)},nativeOn:{"!click":function(e){return i.apply(null,arguments)}}},[n.iconClasses&&n.iconClasses.length?t("i",{class:n.iconClasses}):e._e(),e._v("\n                                    "+e._s(e.$u.capitalize(e.$t(n.title)))+"\n                                ")])],1)}))]:e._e()],2)])]}}],null,!1,616876155)}):e._e()],1):e._e()],2)};i._withStripped=!0,n(15306);var s=n(88225),a=n(69165),r=n(43223),o=n(59198),l={name:"ListTableRow",components:{BootstrapModal:r.Z,SelectToggleButton:a.Z},mixins:[s.Z],inject:{multiActionsClasses:{default:null}},props:{isSelected:{type:Boolean,required:!0},showOperations:{type:Boolean,default:!0},instance:{type:Object,required:!0},fields:{type:Array,required:!0},hasMultiActions:{type:Boolean,required:!0},actions:{type:Array,required:!1,default:()=>[]},sublinks:{type:Array,required:!1,default:()=>[]}},data(){return{formatPath:o.formatPath,tableColumnClasses:o.tableColumnClasses}},computed:{sandbox(){return this.instance.sandbox.value},hasOperations(){return this.actions.length||this.sublinks.length},pk(){return this.instance.getPkValue()},classesFromFields(){return(0,o.classesFromFields)(this.fields,this.sandbox)},classes(){return(this.isSelected?["selected"]:[]).concat(this.classesFromFields)},base_url(){return this.$route.path.replace(/\/$/g,"")},openInNewWindow(){return!1},actionButtonsText(){return""}},watch:{isSelected:{handler(e){this.multiActionsClasses&&(e?this.multiActionsClasses.add(this.classesFromFields):this.multiActionsClasses.remove(this.classesFromFields))},immediate:!0}},methods:{createActionClickHandler(e,t){e({onHidden:()=>this.$emit("execute-action",{action:t,instance:this.instance})})},getSublinkPath(e,t){return e.appendFragment?(0,o.joinPaths)(this.$route.path,t.getPkValue(),e.appendFragment):(0,o.formatPath)(e.href,this.$route.params,t)}}},u=n(93379),d=n.n(u),c=n(7795),p=n.n(c),f=n(90569),h=n.n(f),m=n(3565),v=n.n(m),g=n(19216),_=n.n(g),b=n(44589),y=n.n(b),w=n(42957),x={};x.styleTagTransform=y(),x.setAttributes=v(),x.insert=h().bind(null,"head"),x.domAPI=p(),x.insertStyleElement=_(),d()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;var C=n(67599),S={};S.styleTagTransform=y(),S.setAttributes=v(),S.insert=h().bind(null,"head"),S.domAPI=p(),S.insertStyleElement=_(),d()(C.Z,S),C.Z&&C.Z.locals&&C.Z.locals;var k=(0,n(51900).Z)(l,i,[],!1,null,"39493925",null).exports},51916:function(e,t,n){n.d(t,{Z:function(){return A}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[e.view.enableSearch&&n.searchField?t("portal",{attrs:{to:"topNavigation"}},[t("form",{staticClass:"search-form",on:{submit:function(e){return e.preventDefault(),n.store.applySearchFilter(n.searchFieldValue)}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.searchFieldValue,expression:"searchFieldValue"}],staticClass:"form-control form-control-sm form-control-border search-input",attrs:{type:"text",placeholder:e.$ts("Search")},domProps:{value:n.searchFieldValue},on:{input:function(e){e.target.composing||(n.searchFieldValue=e.target.value)}}}),e._v(" "),t("button",{staticClass:"search-button",attrs:{type:"submit"}},[t("i",{staticClass:"fas fa-search"})])])]):e._e(),e._v(" "),!n.error&&n.totalNumberOfInstances>=0?t("portal",{attrs:{to:"titleAppend"}},[t("span",{staticClass:"badge bg-info"},[e._v("\n            "+e._s(n.totalNumberOfInstances)+"\n        ")])]):e._e(),e._v(" "),t("portal",{attrs:{to:"appendButtonsRow"}},[t(n.Pagination,{staticClass:"d-none d-md-block",staticStyle:{float:"right"},attrs:{items:n.paginationItems}})],1),e._v(" "),t("div",{staticClass:"list-content-component",class:"list-".concat(n.model.name)},[n.isEmpty?[t("p",{staticClass:"text-center empty-list-p"},[e._v("\n                "+e._s(e.$t("List is empty"))+"\n            ")])]:[t(n.ListTable,{attrs:{instances:n.instances,selection:n.selection,fields:n.fields,"has-multi-actions":e.view.multiActions.size>0,"instance-actions":n.instanceActions,"instance-sublinks":n.instanceSublinks},on:{"row-clicked":t=>e.view.openPageView(t),"execute-instance-action":t=>{let{action:n,instance:i}=t;return e.$app.actions.execute({action:n,instance:i,fromList:!0})},"open-instance-sublink":t=>{let{sublink:n,instance:i}=t;return e.$u.openSublink(n,i)},"toggle-selection":n.store.toggleSelection,"toggle-all-selection":n.store.toggleAllSelection}}),e._v(" "),t("div",{staticClass:"list-footer-btns-wrapper"},[t("transition",{attrs:{name:"slide-from-left"}},[n.multiActions.length&&n.selection.length?t(n.MultiActions,{class:n.multiActionsClasses.uniq.value,attrs:{"multi-actions":n.multiActions,selected:n.selection,instances:n.instances},on:{"execute-multi-action":function(e){return n.store.executeMultiAction(e)}}}):e._e()],1),e._v(" "),t(n.Pagination,{staticStyle:{float:"right"},attrs:{items:n.paginationItems}})],1)]],2)],1)};i._withStripped=!0,n(33948),n(57658),n(88921),n(96248),n(27561),n(13599),n(11477),n(64362),n(15389),n(3440),n(90401),n(66244),n(45164),n(89772),n(91238),n(88910),n(54837),n(87485),n(56767),n(76651),n(61437),n(63252),n(35285),n(17454),n(39865),n(88449),n(2490),n(59849);var s=n(70538),a=n(67476),r=n(66523),o=n(56039),l=n(33159),u=n(89451),d=n(9536);function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=(0,s.ref)([]);return{add:function(n){"string"==typeof n&&(n=[n]);for(const i of n)t.value.push("".concat(e).concat(i))},remove:function(n){"string"==typeof n&&(n=[n]);for(const i of n){const n=t.value.indexOf("".concat(e).concat(i));-1!==n&&t.value.splice(n,1)}},uniq:(0,s.computed)((()=>Array.from(new Set(t.value))))}}var p=(0,s.defineComponent)({__name:"ListViewComponent",props:r.n,setup(e){const t=e,n=(0,o.useViewStore)(),i=c("selected__");(0,s.provide)("multiActionsClasses",i);const r=(0,s.computed)((()=>{var e,n;return null===(e=t.view)||void 0===e||null===(n=e.filters)||void 0===n?void 0:n.__search})),p=(0,s.computed)((()=>{var e,t,i;return null!==(e=null===(t=n.instances)||void 0===t||null===(i=t.extra)||void 0===i?void 0:i.count)&&void 0!==e?e:-1})),f=(0,s.computed)((()=>Array.from(n.model.fields.values()).filter((e=>!e.hidden)))),h=(0,s.ref)(""),{error:m,instanceActions:v,instances:g,instanceSublinks:_,isEmpty:b,model:y,multiActions:w,paginationItems:x,selection:C}=(0,a.storeToRefs)(n);return{__sfc:!0,useUniqueCssClasses:c,props:t,store:n,multiActionsClasses:i,searchField:r,totalNumberOfInstances:p,fields:f,searchFieldValue:h,error:m,instanceActions:v,instances:g,instanceSublinks:_,isEmpty:b,model:y,multiActions:w,paginationItems:x,selection:C,ListTable:l.Z,MultiActions:u.Z,Pagination:d.Z}}}),f=p,h=n(93379),m=n.n(h),v=n(7795),g=n.n(v),_=n(90569),b=n.n(_),y=n(3565),w=n.n(y),x=n(19216),C=n.n(x),S=n(44589),k=n.n(S),F=n(48906),Z={};Z.styleTagTransform=k(),Z.setAttributes=w(),Z.insert=b().bind(null,"head"),Z.domAPI=g(),Z.insertStyleElement=C(),m()(F.Z,Z),F.Z&&F.Z.locals&&F.Z.locals;var A=(0,n(51900).Z)(f,i,[],!1,null,"5f12835b",null).exports},89451:function(e,t,n){n.d(t,{Z:function(){return b}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dropdown dropup"},[t("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{id:"multi-actions-button",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n        "+e._s(e.$t("Execute action on {0}",[e.$tc("{n} instance",e.selected.length)]))+"\n    ")]),e._v(" "),t("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"multi-actions-button"}},[e._l(e.multiActions,(function(n){return[n.component?t(n.component,{key:n.name,tag:"component",attrs:{action:n},scopedSlots:e._u([{key:"default",fn:function(i){let{execute:s}=i;return[t("button",{staticClass:"dropdown-item",class:"operation__".concat(n.name),attrs:{type:"button"},domProps:{textContent:e._s(e.$st(n.title))},on:{click:function(t){t.preventDefault(),s({instances:e.getSelectedAsInstances(),action:n})}}})]}}],null,!0)}):t("button",{key:n.name,staticClass:"dropdown-item",class:"operation__".concat(n.name),attrs:{type:"button"},domProps:{textContent:e._s(e.$st(n.title))},on:{click:function(t){return e.$emit("execute-multi-action",n)}}})]}))],2)])};i._withStripped=!0,n(88449),n(2490),n(59849);var s={name:"MultiActions",props:{multiActions:{type:Array,required:!0},selected:{type:Array,required:!0},instances:{type:Array,required:!0}},methods:{getSelectedAsInstances(){return this.instances.filter((e=>this.selected.includes(e._data.id)))}}},a=n(93379),r=n.n(a),o=n(7795),l=n.n(o),u=n(90569),d=n.n(u),c=n(3565),p=n.n(c),f=n(19216),h=n.n(f),m=n(44589),v=n.n(m),g=n(47),_={};_.styleTagTransform=v(),_.setAttributes=p(),_.insert=d().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=h(),r()(g.Z,_),g.Z&&g.Z.locals&&g.Z.locals;var b=(0,n(51900).Z)(s,i,[],!1,null,"adb9306e",null).exports},9536:function(e,t,n){n.d(t,{Z:function(){return w}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("nav",[e.items&&e.items.length>1?t("ul",{staticClass:"pagination"},e._l(e.items,(function(i,s){return t("li",{key:"".concat(s,"-").concat(i.page),staticClass:"page-item",class:{disabled:i.disabled}},[!e.useEmits&&i.page?t("router-link",{staticClass:"page-link",attrs:{to:n.location(i.page)}},[i.icon?t("span",[t("i",{class:i.icon})]):e._e(),e._v("\n                "+e._s(i.text)+"\n            ")]):t("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),n.clickHandler(i)}}},[i.icon?t("span",[t("i",{class:i.icon})]):e._e(),e._v("\n                "+e._s(i.text)+"\n            ")])],1)})),0):e._e()])};i._withStripped=!0;var s=n(70538),a=n(84085),r=(0,s.defineComponent)({__name:"Pagination",props:{useEmits:{type:Boolean},items:null},emits:["open-page"],setup(e,t){let{emit:n}=t;const i=(0,a.yj)();return{__sfc:!0,emit:n,route:i,clickHandler:function(e){e.onClick&&e.onClick(),e.page&&n("open-page",e.page)},location:function(e){return{...i,name:i.name||void 0,query:{...i.query,page:e.toString()}}}}}}),o=n(93379),l=n.n(o),u=n(7795),d=n.n(u),c=n(90569),p=n.n(c),f=n(3565),h=n.n(f),m=n(19216),v=n.n(m),g=n(44589),_=n.n(g),b=n(34437),y={};y.styleTagTransform=_(),y.setAttributes=h(),y.insert=p().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=v(),l()(b.Z,y),b.Z&&b.Z.locals&&b.Z.locals;var w=(0,n(51900).Z)(r,i,[],!1,null,"1653ab79",null).exports},69165:function(e,t,n){n.d(t,{Z:function(){return _}});var i=function(e,t){return e("div",{staticClass:"select-icon fa",class:t.props.isSelected?"fa-toggle-on":"fa-toggle-off"})};i._withStripped=!0;var s=n(93379),a=n.n(s),r=n(7795),o=n.n(r),l=n(90569),u=n.n(l),d=n(3565),c=n.n(d),p=n(19216),f=n.n(p),h=n(44589),m=n.n(h),v=n(97950),g={};g.styleTagTransform=m(),g.setAttributes=c(),g.insert=u().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=f(),a()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var _=(0,n(51900).Z)({name:"SelectToggleButton"},i,[],!0,null,"5a822c7f",null).exports},82305:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}}),n(88449),n(2490),n(59849);var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.model?t(n.BootstrapModal,{ref:"modalRef",attrs:{title:e.$u.capitalize(e.$ts("filters"))},scopedSlots:e._u([{key:"default",fn:function(){return[n.instance?t(n.ModelFields,{attrs:{model:n.model,data:n.instance.sandbox.value,editable:"","flat-if-possible":"","flat-fields-classes":"col-12"},on:{"set-value":e=>{var t;return null===(t=n.instance)||void 0===t?void 0:t.sandbox.set(e)}}}):e._e()]},proxy:!0},{key:"footer",fn:function(i){let{closeModal:s}=i;return[t("button",{staticClass:"btn btn-default btn-close-filters-modal",attrs:{"aria-label":"Cancel"},on:{click:s}},[e._v("\n            "+e._s(e.$u.capitalize(e.$ts("cancel")))+"\n        ")]),e._v(" "),t("button",{staticClass:"btn btn-primary btn-apply-filters",attrs:{"aria-label":"Filter"},on:{click:n.filter}},[e._v("\n            "+e._s(e.$u.capitalize(e.$ts("apply")))+"\n        ")])]}},{key:"activator",fn:function(){return[e._t("default",null,{execute:n.openModal})]},proxy:!0}],null,!0)}):e._e()};i._withStripped=!0;var s=n(70538),a=n(59198),r=n(43223),o=n(13034),l=(0,s.defineComponent)({__name:"FiltersModalDetail",props:{view:null},setup(e){const t=e,n=(0,s.ref)(null),i=(0,a.getApp)(),l=i.store.page,u=(0,s.computed)((()=>t.view.filtersModelClass)),d=(0,s.ref)();return{__sfc:!0,props:t,modalRef:n,app:i,store:l,model:u,instance:d,openModal:function(){var e;n.value.open(),d.value=new u.value((0,a.mergeDeep)({},null!==(e=l.filters)&&void 0!==e?e:{}))},filter:function(){l.applyFilters(d.value.sandbox.value),n.value.close()},BootstrapModal:r.Z,ModelFields:o.Z}}}),u=(0,n(51900).Z)(l,i,[],!1,null,null,null).exports},13034:function(e,t,n){n.d(t,{Z:function(){return Z}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"row"},[n.hideNotRequired&&e.editable?t("div",{staticClass:"col-12"},[t(n.Card,[t(n.HideNotRequiredSelect,{staticClass:"col-lg-4 col-xs-12 col-sm-6 col-md-6",attrs:{fields:n.hiddenFields},on:{"show-field":n.showField}})],1)],1):e._e(),e._v(" "),n.displayFlat?e._l(n.visibleFieldsGroups[0].fields,(function(i){return t(i.getComponent(),{key:i.name,tag:"component",class:e.flatFieldsClasses,staticStyle:{"margin-bottom":"1rem"},attrs:{field:i,data:n.data,type:n.fieldsType,error:e.fieldsErrors&&e.fieldsErrors[i.name],hideable:n.hideNotRequired&&!i.required},on:{"hide-field":function(e){return n.hideField(i)},"set-value":function(e){return n.emit("set-value",e)}}})})):e._l(n.visibleFieldsGroups,(function(i,s){return t("div",{key:s,class:n.fieldsGroupClasses(i)},[t(n.Card,{class:e.groupsClasses,attrs:{title:e.$ts(i.title)}},e._l(i.fields,(function(i){return t(i.getComponent(),{key:i.name,tag:"component",staticStyle:{"margin-bottom":"1rem"},attrs:{field:i,data:n.data,type:n.fieldsType,error:e.fieldsErrors&&e.fieldsErrors[i.name],hideable:n.hideNotRequired&&!i.required},on:{"hide-field":function(e){return n.hideField(i)},"set-value":function(e){return n.emit("set-value",e)}}})})),1)],1)}))],2)};i._withStripped=!0,n(33948),n(15306);var s=n(70538);function a(e,t){const n=[];for(const i of t){const t=[];for(const n of i.fields){if("object"==typeof n){t.push(n);continue}const s=e.fields.get(n);s?t.push(s):console.warn("Unknown field ".concat(e.name,".").concat(n," in group ").concat(i.title))}t.length>0&&n.push({...i,fields:t})}return n}n(57658),n(88449),n(2490),n(59849),n(57640),n(9924);var r=n(76118),o=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"form-group"},[t("label",{attrs:{for:n.id}},[e._v("\n        "+e._s(e.$u.capitalize(e.$t("add")+" "+e.$t("field")))+"\n    ")]),e._v(" "),t("select",{ref:"select",staticClass:"form-control custom-select",attrs:{id:n.id,disabled:0===e.fields.length},on:{change:function(e){return e.preventDefault(),n.handleSelect.apply(null,arguments)}}},[t("option",{attrs:{value:"__default",disabled:"",selected:""}},[e._v("\n            "+e._s(e.$u.capitalize(e.$t("select")+" "+e.$t("field")))+"\n        ")]),e._v(" "),e._l(e.fields,(function(n){return t("option",{key:n.name,domProps:{value:n.name}},[e._v("\n            "+e._s(e.$t(n.title))+"\n        ")])}))],2)])};o._withStripped=!0,n(31672),n(59461);var l=n(59198),u=(0,s.defineComponent)({__name:"HideNotRequiredSelect",props:{fields:null},emits:["show-field"],setup(e,t){let{emit:n}=t;const i=e,a="hideNotRequiredSelector-".concat((0,l.getUniqueId)()),r=(0,s.ref)(null);return{__sfc:!0,props:i,emit:n,id:a,select:r,handleSelect:function(e){const t=e.target.value,s=i.fields.find((e=>e.name===t));s&&(n("show-field",s),r.value.value="__default")}}}}),d=n(51900),c=(0,d.Z)(u,o,[],!1,null,null,null).exports,p=(0,s.defineComponent)({__name:"ModelFields",props:{data:null,model:null,fieldsGroups:null,flatIfPossible:{type:Boolean},flatFieldsClasses:null,editable:{type:Boolean},hideReadOnly:{type:Boolean},fieldsErrors:null,groupsClasses:null,requireValueOnClear:{type:Boolean}},emits:["set-value"],setup(e,t){let{emit:n}=t;const i=e;(0,s.provide)("requireValueOnClear",i.requireValueOnClear);const{model:o,data:l}=(0,s.toRefs)(i),u=(0,s.computed)((()=>o.value.hideNotRequired)),d=(0,s.computed)((()=>i.editable?"edit":"readonly")),p=(0,s.computed)((()=>i.fieldsGroups?a(o.value,i.fieldsGroups):function(e,t){return a(e,e.getFieldsGroups({data:t}))}(o.value,l.value))),{hiddenFields:f,visibleFieldsGroups:h,hideField:m,showField:v}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,s.ref)([]),i=(0,s.computed)((()=>e.value.map((e=>({...e,fields:e.fields.filter((e=>function(e){return!(e.hidden||t.hideReadOnly&&e.readOnly||n.value.includes(e))}(e)))}))).filter((e=>e.fields.length>0))));return{hiddenFields:n,visibleFieldsGroups:i,showField:function(e){const t=n.value.indexOf(e);t>-1&&n.value.splice(t,1)},hideField:function(e){n.value.push(e)}}}(p,i);function g(e){n("set-value",{field:e.name,value:void 0,markChanged:!0}),m(e)}if(null!=u&&u.value)for(const e of h.value)for(const t of e.fields)!t.required&&(void 0===i.data[t.name]||Array.isArray(i.data[t.name])&&0===i.data[t.name].length)&&g(t);const _=(0,s.computed)((()=>i.flatIfPossible&&1===h.value.length&&!h.value[0].title));return{__sfc:!0,props:i,emit:n,model:o,data:l,hideNotRequired:u,fieldsType:d,fieldsInstancesGroups:p,hiddenFields:f,visibleFieldsGroups:h,_hideField:m,_showField:v,showField:function(e){n("set-value",{field:e.name,value:e.getInitialValue(),markChanged:!0}),v(e)},hideField:g,displayFlat:_,fieldsGroupClasses:function(e){let{title:t,wrapperClasses:n}=e;return[n||"col-md-6","fields-group","fields-group-".concat(t.replace(/ /g,"_"))]},Card:r.Z,HideNotRequiredSelect:c}}}),f=n(93379),h=n.n(f),m=n(7795),v=n.n(m),g=n(90569),_=n.n(g),b=n(3565),y=n.n(b),w=n(19216),x=n.n(w),C=n(44589),S=n.n(C),k=n(15853),F={};F.styleTagTransform=S(),F.setAttributes=y(),F.insert=_().bind(null,"head"),F.domAPI=v(),F.insertStyleElement=x(),h()(k.Z,F),k.Z&&k.Z.locals&&k.Z.locals;var Z=(0,d.Z)(p,i,[],!1,null,null,null).exports},89045:function(e,t,n){n.d(t,{Z:function(){return p}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"row"},[n.beforeFieldsGroups?t(n.beforeFieldsGroups,{tag:"component",attrs:{page:n.self}}):e._e(),e._v(" "),t("div",{class:e.view.wrapperClasses},[n.response?t(n.ModelFields,{attrs:{data:n.sandbox,model:n.model,editable:!n.readOnly,"fields-errors":n.fieldsErrors,"hide-read-only":n.hideReadOnly,"require-value-on-clear":n.requireValueOnClear,"fields-groups":n.fieldsGroups},on:{"set-value":n.store.setFieldValue}}):e._e()],1),e._v(" "),n.afterFieldsGroups?t(n.afterFieldsGroups,{tag:"component",attrs:{page:n.self}}):e._e()],1)};i._withStripped=!0;var s=n(70538),a=n(67476),r=n(59198),o=n(56039),l=n(66523),u=n(13034),d=(0,s.defineComponent)({__name:"OneEntity",props:l.n,setup(e){const t=e,n=(0,o.useViewStore)(),i=(0,s.computed)((()=>t.view.type===r.ViewTypes.PAGE)),l=(0,s.computed)((()=>t.view.hideReadonlyFields)),d=(0,s.computed)((()=>t.view.isEditPage()&&t.view.isPartial)),c=(0,s.computed)((()=>t.view.beforeFieldsGroups?t.view.beforeFieldsGroups():null)),p=(0,s.computed)((()=>t.view.afterFieldsGroups?t.view.afterFieldsGroups():null)),f=(0,s.getCurrentInstance)().proxy,{response:h,sandbox:m,model:v,fieldsErrors:g,fieldsGroups:_}=(0,a.storeToRefs)(n);return{__sfc:!0,props:t,store:n,readOnly:i,hideReadOnly:l,requireValueOnClear:d,beforeFieldsGroups:c,afterFieldsGroups:p,self:f,response:h,sandbox:m,model:v,fieldsErrors:g,fieldsGroups:_,ModelFields:u.Z}}}),c=d,p=(0,n(51900).Z)(c,i,[],!1,null,null,null).exports},38849:function(e,t,n){n.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group"},[e.prependText?t("div",{staticClass:"input-group-prepend"},[t("div",{staticClass:"input-group-text",domProps:{textContent:e._s(e.$t(e.prependText))}})]):e._e(),e._v(" "),t("input",e._b({ref:"input",class:e.classes,style:e.styles,attrs:{"aria-label":e.aria_label,max:e.attrs.max,maxlength:e.attrs.maxlength,min:e.attrs.min,minlength:e.attrs.minlength,required:e.attrs.required,type:e.inputType},on:e._d({},[e.inputEventName,function(t){return e.setValue(t.target.value)}])},"input",e._d({},[e.inputValueName,e.preparedValue]))),e._v(" "),e.appendText?t("div",{staticClass:"input-group-append"},[t("div",{staticClass:"input-group-text",domProps:{textContent:e._s(e.$t(e.appendText))}})]):e._e(),e._v(" "),e.hasHideButton?t("HideButton",{nativeOn:{click:function(t){return e.$emit("hide-field",e.field)}}}):e._e(),e._v(" "),e.hasDefaultValue?t("SetDefaultButton",{nativeOn:{click:function(t){return e.$emit("set-value",e.field.default)}}}):e._e(),e._v(" "),t("ClearButton",{nativeOn:{click:function(t){return e.clearValue.apply(null,arguments)}}})],1)};i._withStripped=!0;var s=n(27752),a=n(57800),r=n(14514),o=n(14175),l=n(59109),u={name:"BaseFieldContentEdit",components:{ClearButton:o.Cd,SetDefaultButton:o.xN,HideButton:o.eX},mixins:[s.Z,a.Z,r.Z],props:l.rx,data(){return{inputValueName:"value",inputEventName:"input",class_list:["form-control"]}},computed:{hasHideButton(){return this.$parent.hideable},hasDefaultValue(){return this.field.hasDefaultValue},preparedValue(){return this.value}},methods:{setValue(e){this.$emit("set-value",e)},clearValue(){this.$emit("clear")}}},d=(0,n(51900).Z)(u,i,[],!1,null,null,null).exports},34287:function(e,t,n){n.d(t,{Z:function(){return d}});var i=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("FieldReadonlyValue",{attrs:{field:e.field,value:e.preparedValue}})};i._withStripped=!0;var s=n(70538),a=n(14514),r=n(27752),o=n(57800),l=n(28228),u=(0,s.defineComponent)({name:"BaseFieldContentReadonlyMixin",components:{FieldReadonlyValue:l.Z},mixins:[r.Z,o.Z,a.Z],props:{field:{type:Object,required:!0},value:{default:void 0},data:{type:Object,required:!0}},computed:{preparedValue(){return this.value}}}),d=(0,n(51900).Z)(u,i,[],!1,null,null,null).exports},49997:function(e,t,n){n.d(t,{Z:function(){return x}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("label",{staticClass:"text-muted field-label",attrs:{id:e.id}},[t("span",{staticClass:"field-name"},[e._v(e._s(n.label))]),e._v(" "),n.description?t(n.Popover,{attrs:{content:n.description}}):e._e(),e._v(" "),n.showRequired?t(n.Popover,{staticClass:"label-required-symbol",attrs:{content:n.requiredText,"link-text":"*"}}):e._e(),e._v(" "),n.error?t(n.Popover,{staticClass:"label-error-symbol",attrs:{"link-text":"!",content:n.error}}):e._e()],1)};i._withStripped=!0;var s=n(70538),a=n(34136),r=n(56716),o=(0,s.defineComponent)({__name:"BaseFieldLabel",props:{id:null,field:null,value:null,type:null,data:null,error:null},setup(e){const t=e,n=(0,s.computed)((()=>r.a.ts(t.field.title))),i=(0,s.computed)((()=>r.a.ts("Required field"))),o=(0,s.computed)((()=>"edit"===t.type&&t.field.required)),l=(0,s.computed)((()=>"string"==typeof t.error?t.error:"")),u=(0,s.computed)((()=>t.field.description?r.a.ts(t.field.description):""));return{__sfc:!0,props:t,label:n,requiredText:i,showRequired:o,error:l,description:u,Popover:a.Z}}}),l=n(93379),u=n.n(l),d=n(7795),c=n.n(d),p=n(90569),f=n.n(p),h=n(3565),m=n.n(h),v=n(19216),g=n.n(v),_=n(44589),b=n.n(_),y=n(79809),w={};w.styleTagTransform=b(),w.setAttributes=m(),w.insert=f().bind(null,"head"),w.domAPI=c(),w.insertStyleElement=g(),u()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var x=(0,n(51900).Z)(o,i,[],!1,null,null,null).exports},52775:function(e,t,n){n.d(t,{Z:function(){return b}});var i=function(){var e=this,t=e._self._c;return t("span",[e.prependText?t("span",{domProps:{textContent:e._s(e.$t(e.prependText)+" ")}}):e._e(),e._v("\n    "+e._s(e.preparedValue)+"\n    "),e.appendText?t("span",{domProps:{textContent:e._s(" "+e.$t(e.appendText))}}):e._e()])};i._withStripped=!0;var s={name:"BaseFieldListView",mixins:[n(57800).Z],computed:{preparedValue(){return void 0===this.value||null===this.value?"":this.value}}},a=n(93379),r=n.n(a),o=n(7795),l=n.n(o),u=n(90569),d=n.n(u),c=n(3565),p=n.n(c),f=n(19216),h=n.n(f),m=n(44589),v=n.n(m),g=n(83833),_={};_.styleTagTransform=v(),_.setAttributes=p(),_.insert=d().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=h(),r()(g.Z,_),g.Z&&g.Z.locals&&g.Z.locals;var b=(0,n(51900).Z)(s,i,[],!1,null,null,null).exports},30636:function(e,t,n){n.d(t,{Z:function(){return p}});var i=function(){var e=this,t=e._self._c;return t("div",{class:e.wrapperClasses},["list"===e.type?t("field_list_view",{attrs:{value:e.value,field:e.field,data:e.data},on:{"set-value":e.setValue}}):[e.hideTitle?e._e():t("FieldLabel",{attrs:{type:e.type,value:e.value,field:e.field,data:e.data,error:e.error}}),e._v(" "),e.field.readOnly||"readonly"===e.type?t("field_content_readonly",{attrs:{value:e.value,field:e.field,data:e.data,hideable:e.hideable},on:{"set-value":e.setValue}}):t("field_content_edit",{attrs:{field:e.field,value:e.value,data:e.data,hideable:e.hideable},on:{"hide-field":function(t){return e.$emit("hide-field",e.field)},"set-value":e.setValue,clear:e.clearValue}})]],2)};i._withStripped=!0;var s=n(49997),a=n(34287),r=n(38849),o=n(52775),l=n(59109),u=n(36778),d={name:"BaseFieldMixin",components:{FieldLabel:s.Z,field_content_readonly:a.Z,field_content_edit:r.Z,field_list_view:o.Z},inject:{requireValueOnClear:{from:"requireValueOnClear",default:!1}},props:l.IO,data(){return{wrapper_styles_list:{},hidden:this.field.hidden||!1}},computed:{wrapperClasses(){return(0,u.du)(this.$props)},value(){return this.data[this.field.name]},wrapper_styles(){return this.wrapper_styles_list}},methods:{clearValue(){this.setValue(this.field.getInitialValue({requireValue:this.requireValueOnClear}))},setValue(e){let{markChanged:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._emitSetValueSignal(e,{markChanged:t})},_emitSetValueSignal(e){let{markChanged:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$emit("set-value",{field:this.field.name,value:e,markChanged:t})}}},c=d,p=(0,n(51900).Z)(c,i,[],!1,null,null,null).exports},28228:function(e,t,n){n.d(t,{Z:function(){return b}});var i=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("p",{attrs:{"aria-label":e.ariaLabel}},[e.field.prependText?t("span",{domProps:{textContent:e._s(e.$t(e.field.prependText)+" ")}}):e._e(),e._v("\n    "+e._s(e.valueAsStr)+"\n    "),e.field.appendText?t("span",{domProps:{textContent:e._s(" "+e.$t(e.field.appendText))}}):e._e()])};i._withStripped=!0;var s=(0,n(70538).defineComponent)({props:{field:{type:Object,required:!0},value:{required:!1}},computed:{ariaLabel(){return this.$ts(this.field.title)},valueAsStr(){return void 0===this.value||null===this.value?"":this.value}}}),a=n(93379),r=n.n(a),o=n(7795),l=n.n(o),u=n(90569),d=n.n(u),c=n(3565),p=n.n(c),f=n(19216),h=n.n(f),m=n(44589),v=n.n(m),g=n(92824),_={};_.styleTagTransform=v(),_.setAttributes=p(),_.insert=d().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=h(),r()(g.Z,_),g.Z&&g.Z.locals&&g.Z.locals;var b=(0,n(51900).Z)(s,i,[],!1,null,"2c165615",null).exports},32900:function(e,t,n){n.d(t,{Z:function(){return C}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return e.field.showLoader&&n.loading?t("div",{staticClass:"loader"},[t("i",{staticClass:"fa-spin fas fa-sync-alt"})]):t("div",[!n.linkable&&n.representField?[t(n.representField.getComponent(),{tag:"component",attrs:{field:n.representField,data:{[n.representField.name]:e.field.getViewFieldValue(e.value)},type:"readonly","hide-title":""}}),e._v(" "),n.withLink?t("div",{staticClass:"object-link"},[t("router-link",{attrs:{to:n.href}},[e._v("\n                "+e._s(e.$t("Link"))+"\n            ")])],1):e._e()]:[n.withLink?t("router-link",{attrs:{to:n.href}},[e._v("\n            "+e._s(n.text)+"\n        ")]):t("span",[e._v(e._s(n.text))])]],2)};i._withStripped=!0;var s=n(70538),a=n(59802),r=n(87444),o=n(59198),l=(0,s.defineComponent)({__name:"FKFieldContentReadonly",props:r.FieldReadonlyPropsDef,setup(e){const t=e,n=(0,o.getApp)(),{queryset:i}=(0,a.e)(t.field,t.data),r=t.field.fkModel.fields.get(t.field.viewField),l=(0,s.computed)((()=>null==r?void 0:r.fkLinkable)),u=(0,s.computed)((()=>t.field.getValueFieldValue(t.value))),d=(0,s.computed)((()=>{if(u.value){var e;if(t.field.props.linkGenerator)return null!==(e=t.field.props.linkGenerator({...t,value:t.value}))&&void 0!==e?e:"";if(i.value)return i.value.url+u.value}return""})),c=(0,s.computed)((()=>{var e;if(!t.field.makeLink)return!1;if(!t.value||t.value.__notFound)return!1;const s=null===(e=i.value)||void 0===e?void 0:e.pattern;if(s){const e=n.views.get(s);if(!e||e.hidden)return!1}return!0})),p=(0,s.computed)((()=>t.value?t.field.translateValue(t.value):"")),{loading:f}=(0,a.I)(t.field,(0,s.toRef)(t,"value"));return{__sfc:!0,props:t,app:n,queryset:i,representField:r,linkable:l,fk:u,href:d,withLink:c,text:p,loading:f}}}),u=n(93379),d=n.n(u),c=n(7795),p=n.n(c),f=n(90569),h=n.n(f),m=n(3565),v=n.n(m),g=n(19216),_=n.n(g),b=n(44589),y=n.n(b),w=n(70779),x={};x.styleTagTransform=y(),x.setAttributes=v(),x.insert=h().bind(null,"head"),x.domAPI=p(),x.insertStyleElement=_(),d()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;var C=(0,n(51900).Z)(l,i,[],!1,null,"ee46bd7e",null).exports},24389:function(e,t,n){n.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("FieldTextarea",{attrs:{value:e.value||"",field:e.field},on:{input:function(t){return e.$emit("set-value",t)}}})};i._withStripped=!0;var s=n(70538),a=n(87444),r=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"input-group"},[t("textarea",e._b({staticClass:"form-control",staticStyle:{resize:"vertical"},attrs:{rows:e.rows,cols:e.cols},domProps:{value:e.value||""},on:{input:n.handleInput}},"textarea",n.attrs,!1))])};r._withStripped=!0;var o=(0,s.defineComponent)({__name:"FieldTextarea",props:{field:null,value:null,rows:{default:3},cols:{default:50}},emits:["input"],setup(e,t){let{emit:n}=t;const i=e,r=(0,a.useTextAreaAttrs)((0,s.toRef)(i,"field"));return{__sfc:!0,props:i,emit:n,attrs:r,handleInput:function(e){n("input",e.target.value)}}}}),l=n(51900),u=(0,l.Z)(o,r,[],!1,null,null,null).exports,d=(0,s.defineComponent)({components:{FieldTextarea:u},props:a.FieldEditPropsDef,emits:a.FieldEditEmitsDef}),c=(0,l.Z)(d,i,[],!1,null,null,null).exports},82509:function(e,t,n){n.d(t,{Z:function(){return a}});var i=function(){var e=this;return(0,e._self._c)("p",{staticStyle:{"white-space":"pre-wrap"},attrs:{"aria-labelledby":e.label_id,"aria-label":e.aria_label},domProps:{textContent:e._s(e.preparedValue)}})};i._withStripped=!0;var s={extends:n(87444).BaseFieldContentReadonlyMixin},a=(0,n(51900).Z)(s,i,[],!1,null,null,null).exports}}]);